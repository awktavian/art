<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>OVER 9000! ðŸ”¥ KagamiOS Testing Evolution</title>
    <meta name="description" content="A Dragon Ball Z tribute celebrating 351x test improvement in KagamiOS. VFX-quality interactions worthy of Digital Domain.">
    <meta property="og:title" content="OVER 9000! KagamiOS Testing Evolution">
    <meta property="og:description" content="From 23 tests to 9,279. From chaos to legendary status. 351x improvement.">
    <meta property="og:type" content="website">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>âš¡</text></svg>">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Bangers&family=Orbitron:wght@400;700;900&family=JetBrains+Mono:wght@400;600&display=swap" rel="stylesheet">

    <style>
        /* ===================================
           RESET & FOUNDATION
           =================================== */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            /* KagamiOS Core */
            --void: #0A0A0C;
            --light: #FAFAF8;
            --gold: #FFD700;

            /* DBZ Energy */
            --ssj-gold: #FFD700;
            --ssj-aura: #FFED4E;
            --ki-white: #FFFFFF;
            --scouter-green: #00FF00;
            --energy-cyan: #00FFFF;
            --power-orange: #FF8C00;
            --danger-red: #FF0000;

            /* Colony Accents */
            --spark: #FF00FF;
            --forge: #FF2D55;
            --flow: #00E5CC;
            --nexus: #AF52DE;
            --beacon: #FFD60A;
            --grove: #30D158;
            --crystal: #0A84FF;

            /* Gradients */
            --gradient-power: linear-gradient(135deg, var(--ssj-gold), var(--power-orange), var(--ssj-gold));
            --gradient-energy: linear-gradient(180deg, var(--energy-cyan), var(--scouter-green));
            --gradient-void: radial-gradient(circle at center, rgba(255,215,0,0.1), var(--void));
        }

        @media (prefers-reduced-motion: reduce) {
            *, *::before, *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
        }

        html {
            scroll-behavior: smooth;
        }

        body {
            font-family: 'Orbitron', 'JetBrains Mono', monospace;
            background: var(--void);
            color: var(--light);
            overflow-x: visible; /* Changed from hidden to allow glow effects */
            cursor: none;
            position: relative;
        }

        /* ===================================
           CUSTOM CURSOR (SCOUTER) - ENHANCED
           =================================== */
        #custom-cursor {
            position: fixed;
            width: 20px;
            height: 20px;
            pointer-events: none;
            z-index: 10000;
            mix-blend-mode: difference;
            transition: transform 0.08s cubic-bezier(0.23, 1, 0.32, 1);
            will-change: transform;
        }

        .cursor-core {
            position: absolute;
            width: 8px;
            height: 8px;
            background: var(--scouter-green);
            border-radius: 50%;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            box-shadow:
                0 0 10px var(--scouter-green),
                0 0 20px var(--scouter-green);
            animation: scouter-pulse 1s ease-in-out infinite;
        }

        @keyframes scouter-pulse {
            0%, 100% { opacity: 1; transform: translate(-50%, -50%) scale(1); }
            50% { opacity: 0.7; transform: translate(-50%, -50%) scale(1.2); }
        }

        .cursor-crosshair {
            position: absolute;
            width: 20px;
            height: 20px;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        .cursor-crosshair::before,
        .cursor-crosshair::after {
            content: '';
            position: absolute;
            background: var(--scouter-green);
            opacity: 0.5;
        }

        .cursor-crosshair::before {
            width: 20px;
            height: 1px;
            top: 50%;
            left: 0;
        }

        .cursor-crosshair::after {
            width: 1px;
            height: 20px;
            top: 0;
            left: 50%;
        }

        /* Velocity ring */
        .cursor-ring {
            position: absolute;
            width: 30px;
            height: 30px;
            border: 2px solid var(--scouter-green);
            border-radius: 50%;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            opacity: 0;
            transition: opacity 0.2s ease;
        }

        .cursor-arrow {
            position: absolute;
            width: 0;
            height: 0;
            border-left: 5px solid transparent;
            border-right: 5px solid transparent;
            border-bottom: 10px solid var(--scouter-green);
            top: -15px;
            left: 50%;
            transform: translateX(-50%);
            opacity: 0;
            transition: opacity 0.2s ease;
        }

        /* Trail dots */
        .cursor-trail-dot {
            position: fixed;
            width: 4px;
            height: 4px;
            background: var(--scouter-green);
            border-radius: 50%;
            pointer-events: none;
            z-index: 9999;
            animation: trail-fade 0.6s ease-out forwards;
        }

        @keyframes trail-fade {
            0% { opacity: 0.8; transform: scale(1); }
            100% { opacity: 0; transform: scale(0.5); }
        }

        /* ===================================
           PARTICLE CANVAS (ENHANCED)
           =================================== */
        #particle-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        /* Background nebula */
        #nebula-canvas {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
            opacity: 0.3;
        }

        /* ===================================
           SPEED LINES CONTAINER
           =================================== */
        #speed-lines {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 2;
            overflow: hidden;
        }

        .speed-line {
            position: absolute;
            background: linear-gradient(90deg, transparent, var(--ssj-gold), transparent);
            height: 2px;
            width: 100%;
            opacity: 0;
            transform-origin: center;
        }

        /* ===================================
           FLASH OVERLAY (IMPACT FRAMES)
           =================================== */
        #flash-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: white;
            opacity: 0;
            pointer-events: none;
            z-index: 9999;
        }

        /* Radial blur overlay for impacts */
        #impact-blur {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 9998;
            opacity: 0;
            background: radial-gradient(circle at center, transparent 40%, rgba(255,255,255,0.1) 80%);
            filter: blur(20px);
        }

        /* ===================================
           SCOUTER HUD
           =================================== */
        #scouter-hud {
            position: fixed;
            top: 20px;
            right: 20px;
            font-family: 'JetBrains Mono', monospace;
            font-size: 12px;
            color: var(--scouter-green);
            background: rgba(0, 0, 0, 0.8);
            padding: 15px;
            border: 2px solid var(--scouter-green);
            border-radius: 8px;
            z-index: 9000;
            text-shadow: 0 0 10px var(--scouter-green);
            opacity: 0;
            animation: hud-boot 2s ease-out 0.5s forwards;
            min-width: 200px;
        }

        @keyframes hud-boot {
            0% { opacity: 0; transform: translateY(-20px); }
            50% { opacity: 0.5; }
            100% { opacity: 1; transform: translateY(0); }
        }

        .hud-line {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
            position: relative;
        }

        .hud-line::after {
            content: 'â–ˆ';
            animation: blink-cursor 1s step-end infinite;
            margin-left: 5px;
        }

        @keyframes blink-cursor {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0; }
        }

        .hud-label {
            opacity: 0.7;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .hud-value {
            font-weight: 700;
            letter-spacing: 2px;
        }

        .hud-scanline {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 2px;
            background: var(--scouter-green);
            opacity: 0.3;
            animation: scanline 3s linear infinite;
        }

        @keyframes scanline {
            0% { top: 0; }
            100% { top: 100%; }
        }

        /* Target reticle */
        #target-reticle {
            position: fixed;
            width: 100px;
            height: 100px;
            border: 2px solid var(--scouter-green);
            border-radius: 50%;
            pointer-events: none;
            z-index: 9001;
            opacity: 0;
            transition: opacity 0.3s ease, transform 0.1s ease;
        }

        #target-reticle::before,
        #target-reticle::after {
            content: '';
            position: absolute;
            background: var(--scouter-green);
        }

        #target-reticle::before {
            width: 20px;
            height: 2px;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        #target-reticle::after {
            width: 2px;
            height: 20px;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        /* ===================================
           MAIN CONTAINER
           =================================== */
        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 60px 80px; /* Increased from 40px to 80px for glow space */
            position: relative;
            z-index: 10;
        }

        /* ===================================
           HERO SECTION
           =================================== */
        .hero {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            position: relative;
            padding: 100px 80px; /* Increased for large glow effects */
            overflow: visible; /* Allow glow effects to extend beyond */
        }

        .hero-bg-glow {
            position: absolute;
            width: 600px;
            height: 600px;
            background: radial-gradient(circle, rgba(255,215,0,0.3), transparent 70%);
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            animation: aura-pulse 3s ease-in-out infinite;
            pointer-events: none;
        }

        @keyframes aura-pulse {
            0%, 100% { transform: translate(-50%, -50%) scale(1); opacity: 0.3; }
            50% { transform: translate(-50%, -50%) scale(1.2); opacity: 0.6; }
        }

        .scouter-reading {
            font-family: 'Orbitron', monospace;
            font-size: 18px;
            color: var(--scouter-green);
            text-transform: uppercase;
            letter-spacing: 4px;
            margin-bottom: 20px;
            animation: scouter-flicker 0.5s ease-in-out infinite;
            text-shadow: 0 0 10px var(--scouter-green);
        }

        @keyframes scouter-flicker {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.8; }
        }

        .hero-title {
            font-family: 'Bangers', cursive;
            font-size: clamp(80px, 15vw, 180px);
            background: var(--gradient-power);
            background-size: 200% 200%;
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: power-surge 3s ease-in-out infinite, letter-wave 6s ease-in-out infinite;
            text-shadow: none;
            position: relative;
            letter-spacing: 8px;
            line-height: 1;
            margin-bottom: 20px;
            filter: drop-shadow(0 0 20px rgba(255,215,0,0.8));
        }

        @keyframes power-surge {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        @keyframes letter-wave {
            0%, 100% { letter-spacing: 8px; }
            50% { letter-spacing: 12px; }
        }

        .hero-subtitle {
            font-size: clamp(24px, 4vw, 42px);
            color: var(--light);
            margin-bottom: 40px;
            font-weight: 700;
            text-shadow: 0 0 20px rgba(255,215,0,0.5);
            animation: char-color-wave 8s linear infinite;
        }

        @keyframes char-color-wave {
            0%, 100% { color: var(--light); }
            25% { color: var(--ssj-gold); }
            50% { color: var(--energy-cyan); }
            75% { color: var(--ssj-gold); }
        }

        /* Enhanced power level display */
        .power-level-container {
            position: relative;
            margin: 60px 0;
            padding: 150px; /* Increased to 150px to accommodate 120px text-shadow */
            overflow: visible; /* Allow glow effects to extend */
        }

        #power-level-display {
            font-family: 'Bangers', cursive;
            font-size: clamp(120px, 20vw, 280px);
            color: var(--ssj-gold);
            text-shadow:
                0 0 30px var(--ssj-aura),
                0 0 60px var(--ssj-aura),
                0 0 90px var(--ssj-gold),
                0 0 120px var(--ssj-gold);
            cursor: pointer;
            transition: transform 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            display: inline-block;
            position: relative;
            transform-style: preserve-3d;
        }

        #power-level-display:hover {
            animation: kamehameha-charge 1s ease-in-out infinite, elastic-bounce 0.6s ease-out;
        }

        @keyframes kamehameha-charge {
            0%, 100% {
                text-shadow:
                    0 0 30px var(--ssj-aura),
                    0 0 60px var(--ssj-aura),
                    0 0 90px var(--ssj-gold);
            }
            50% {
                text-shadow:
                    0 0 60px var(--energy-cyan),
                    0 0 120px var(--energy-cyan),
                    0 0 180px var(--energy-cyan);
            }
        }

        @keyframes elastic-bounce {
            0% { transform: scale(1); }
            30% { transform: scale(1.15); }
            40% { transform: scale(0.95); }
            60% { transform: scale(1.08); }
            80% { transform: scale(0.98); }
            100% { transform: scale(1); }
        }

        /* Impact frame for power level */
        .power-level-impact {
            animation: impact-flash 0.1s ease-out, scale-settle 0.6s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        @keyframes impact-flash {
            0%, 100% { filter: brightness(1); }
            50% { filter: brightness(2) saturate(2); }
        }

        @keyframes scale-settle {
            0% { transform: scale(1.3); }
            40% { transform: scale(0.9); }
            60% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .power-subtitle {
            font-family: 'Orbitron', monospace;
            font-size: 24px;
            color: var(--scouter-green);
            margin-top: 20px;
            letter-spacing: 3px;
        }

        /* Power meter bar */
        .power-meter {
            position: relative;
            width: 100%;
            max-width: 600px;
            height: 40px;
            margin: 40px auto 0;
            background: rgba(255,255,255,0.05);
            border: 2px solid rgba(255,215,0,0.3);
            border-radius: 20px;
            overflow: hidden;
        }

        .power-meter-fill {
            height: 100%;
            width: 0;
            background: linear-gradient(90deg, var(--danger-red), var(--power-orange), var(--ssj-gold), var(--energy-cyan));
            background-size: 200% 100%;
            animation: meter-fill 2s cubic-bezier(0.34, 1.56, 0.64, 1) forwards, energy-flow 2s linear infinite;
            position: relative;
            transition: background-position 0.3s ease;
        }

        @keyframes meter-fill {
            0% { width: 0; }
            100% { width: 98.2%; }
        }

        @keyframes energy-flow {
            0% { background-position: 0% 0%; }
            100% { background-position: 200% 0%; }
        }

        /* Lightning bolts */
        .power-meter-lightning {
            position: absolute;
            width: 20px;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.8), transparent);
            animation: lightning-travel 1.5s linear infinite;
            filter: blur(2px);
        }

        @keyframes lightning-travel {
            0% { left: -20px; opacity: 0; }
            10% { opacity: 1; }
            90% { opacity: 1; }
            100% { left: 100%; opacity: 0; }
        }

        /* Tick marks */
        .power-meter-ticks {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            display: flex;
            justify-content: space-between;
            padding: 0 20px;
            pointer-events: none;
        }

        .power-meter-tick {
            width: 2px;
            height: 50%;
            background: rgba(255,255,255,0.3);
            position: relative;
        }

        .power-meter-tick::after {
            content: attr(data-value);
            position: absolute;
            top: -20px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 10px;
            color: var(--scouter-green);
            white-space: nowrap;
        }

        .power-meter-readout {
            position: absolute;
            right: 10px;
            top: 50%;
            transform: translateY(-50%);
            font-family: 'Bangers', cursive;
            font-size: 24px;
            color: var(--ssj-gold);
            text-shadow: 0 0 10px var(--ssj-gold);
            z-index: 10;
        }

        /* Particle explosion at 98.2% */
        @keyframes meter-complete-burst {
            0% { box-shadow: 0 0 20px var(--energy-cyan); }
            50% { box-shadow: 0 0 80px var(--energy-cyan), 0 0 120px var(--ssj-gold); }
            100% { box-shadow: 0 0 20px var(--energy-cyan); }
        }

        /* ===================================
           STATS GRID - ENHANCED
           =================================== */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 30px;
            margin: 80px 0;
        }

        .stat-card {
            background: rgba(255,255,255,0.05);
            border: 2px solid rgba(255,215,0,0.3);
            border-radius: 16px;
            padding: 30px;
            position: relative;
            overflow: visible; /* Changed for glow overflow */
            cursor: pointer;
            transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1), border-color 0.3s ease;
            transform-style: preserve-3d;
            perspective: 1000px;
            animation: card-breathe 4s ease-in-out infinite;
        }

        @keyframes card-breathe {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.02); }
        }

        /* Grid pattern background */
        .stat-card::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image:
                linear-gradient(rgba(255,215,0,0.03) 1px, transparent 1px),
                linear-gradient(90deg, rgba(255,215,0,0.03) 1px, transparent 1px);
            background-size: 20px 20px;
            opacity: 0;
            transition: opacity 0.5s ease, transform 0.5s ease;
            pointer-events: none;
            z-index: 0;
        }

        .stat-card:hover::after {
            opacity: 1;
            animation: grid-shift 2s linear infinite;
        }

        @keyframes grid-shift {
            0% { transform: translate(0, 0); }
            100% { transform: translate(20px, 20px); }
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,215,0,0.1), transparent 70%);
            opacity: 0;
            transition: opacity 0.5s ease;
            pointer-events: none;
            z-index: 0;
        }

        .stat-card:hover {
            transform: translateY(-10px) rotateX(5deg) rotateY(5deg) scale(1.02);
            border-color: var(--ssj-gold);
            box-shadow: 0 10px 40px rgba(255,215,0,0.3);
            animation: none;
        }

        .stat-card:hover::before {
            opacity: 1;
            animation: energy-burst 0.6s ease-out;
        }

        @keyframes energy-burst {
            0% { transform: scale(0) rotate(0deg); opacity: 1; }
            100% { transform: scale(2) rotate(180deg); opacity: 0; }
        }

        /* Corner accents */
        .stat-card-corner {
            position: absolute;
            width: 20px;
            height: 20px;
            border: 2px solid transparent;
            opacity: 0;
            transition: opacity 0.3s ease, border-color 0.3s ease;
            z-index: 1;
        }

        .stat-card:hover .stat-card-corner {
            opacity: 1;
            border-color: var(--ssj-gold);
            box-shadow: 0 0 20px var(--ssj-gold);
        }

        .corner-tl { top: -2px; left: -2px; border-top-width: 2px; border-left-width: 2px; }
        .corner-tr { top: -2px; right: -2px; border-top-width: 2px; border-right-width: 2px; }
        .corner-bl { bottom: -2px; left: -2px; border-bottom-width: 2px; border-left-width: 2px; }
        .corner-br { bottom: -2px; right: -2px; border-bottom-width: 2px; border-right-width: 2px; }

        /* Data readout lines */
        .stat-card-readout {
            position: absolute;
            left: 0;
            top: 50%;
            width: 0;
            height: 1px;
            background: var(--scouter-green);
            box-shadow: 0 0 10px var(--scouter-green);
            opacity: 0;
            transition: width 0.6s cubic-bezier(0.34, 1.56, 0.64, 1), opacity 0.3s ease;
            z-index: 1;
        }

        .stat-card:hover .stat-card-readout {
            width: 30%;
            opacity: 0.7;
        }

        /* Energy field distortion */
        .stat-card:active {
            animation: field-distortion 0.3s ease-out;
        }

        @keyframes field-distortion {
            0%, 100% { filter: hue-rotate(0deg); }
            50% { filter: hue-rotate(30deg) saturate(1.5); }
        }

        .stat-label {
            font-size: 14px;
            color: var(--scouter-green);
            text-transform: uppercase;
            letter-spacing: 2px;
            margin-bottom: 10px;
            font-family: 'Orbitron', monospace;
            position: relative;
            z-index: 2;
        }

        .stat-value-container {
            position: relative;
            padding: 20px 0;
            overflow: visible;
            z-index: 2;
        }

        .stat-value {
            font-size: 48px;
            font-weight: 900;
            color: var(--ssj-gold);
            margin-bottom: 10px;
            font-family: 'Bangers', cursive;
            text-shadow:
                0 0 20px rgba(255,215,0,0.6),
                0 0 40px rgba(255,215,0,0.4),
                0 0 60px rgba(255,215,0,0.2);
            position: relative;
            display: inline-block;
        }

        /* Icon bounce on hover */
        .stat-icon {
            font-size: 60px;
            position: absolute;
            top: 20px;
            left: 20px;
            opacity: 0.1;
            transition: transform 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            z-index: 0;
        }

        .stat-card:hover .stat-icon {
            transform: translateY(-10px) scale(1.2);
            animation: icon-spring-bounce 0.6s ease-out;
        }

        @keyframes icon-spring-bounce {
            0% { transform: translateY(0) scale(1); }
            30% { transform: translateY(-20px) scale(1.3); }
            50% { transform: translateY(-5px) scale(1.15); }
            70% { transform: translateY(-15px) scale(1.25); }
            100% { transform: translateY(-10px) scale(1.2); }
        }

        .stat-description {
            font-size: 14px;
            color: var(--light);
            opacity: 0.8;
            line-height: 1.5;
            position: relative;
            z-index: 2;
        }

        .stat-improvement {
            position: absolute;
            top: 20px;
            right: 20px;
            background: var(--gradient-power);
            color: var(--void);
            font-weight: 900;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 12px;
            letter-spacing: 1px;
            box-shadow: 0 4px 12px rgba(255,215,0,0.4);
            z-index: 2;
            animation: badge-float 3s ease-in-out infinite;
        }

        @keyframes badge-float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
        }

        /* ===================================
           TIMELINE (POWER-UP SEQUENCE)
           =================================== */
        .timeline {
            margin: 100px 0;
            position: relative;
        }

        .timeline-title {
            font-family: 'Bangers', cursive;
            font-size: clamp(48px, 8vw, 72px);
            text-align: center;
            margin-bottom: 80px;
            background: var(--gradient-power);
            background-size: 200% 200%;
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: power-surge 3s ease-in-out infinite;
        }

        .timeline-container {
            position: relative;
            max-width: 1000px;
            margin: 0 auto;
        }

        .timeline-line {
            position: absolute;
            left: 50%;
            top: 0;
            bottom: 0;
            width: 4px;
            background: linear-gradient(180deg, var(--ssj-gold), var(--power-orange));
            transform: translateX(-50%);
            box-shadow: 0 0 20px var(--ssj-gold);
        }

        /* Animated dashed pattern */
        .timeline-line::before {
            content: '';
            position: absolute;
            width: 100%;
            height: 100%;
            background: linear-gradient(180deg, transparent 0%, transparent 50%, var(--energy-cyan) 50%, var(--energy-cyan) 100%);
            background-size: 100% 20px;
            animation: timeline-dash 1s linear infinite;
        }

        @keyframes timeline-dash {
            0% { background-position: 0 0; }
            100% { background-position: 0 20px; }
        }

        .timeline-item {
            position: relative;
            margin-bottom: 80px;
            display: flex;
            align-items: center;
            opacity: 0;
            transform: translateY(50px);
            transition: opacity 0.6s ease, transform 0.6s ease;
        }

        .timeline-item.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .timeline-item:nth-child(odd) {
            flex-direction: row;
        }

        .timeline-item:nth-child(even) {
            flex-direction: row-reverse;
        }

        .timeline-marker {
            width: 40px;
            height: 40px;
            background: var(--ssj-gold);
            border-radius: 50%;
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            box-shadow: 0 0 30px var(--ssj-gold);
            cursor: pointer;
            transition: transform 0.3s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            z-index: 10;
            animation: marker-pulse 2s ease-in-out infinite;
        }

        @keyframes marker-pulse {
            0%, 100% { box-shadow: 0 0 30px var(--ssj-gold); }
            50% { box-shadow: 0 0 50px var(--ssj-gold), 0 0 70px var(--power-orange); }
        }

        .timeline-marker:hover {
            transform: translateX(-50%) scale(1.3);
            animation: marker-orbit 2s linear infinite;
        }

        @keyframes marker-orbit {
            0% { box-shadow: 0 0 30px var(--ssj-gold); }
            50% { box-shadow: 0 0 60px var(--energy-cyan); }
            100% { box-shadow: 0 0 30px var(--ssj-gold); }
        }

        /* Connection lines (bezier curves) */
        .timeline-connection {
            position: absolute;
            top: 50%;
            width: 50%;
            height: 2px;
            z-index: 0;
        }

        .timeline-item:nth-child(odd) .timeline-connection {
            right: 50%;
            background: linear-gradient(90deg, var(--ssj-gold), transparent);
        }

        .timeline-item:nth-child(even) .timeline-connection {
            left: 50%;
            background: linear-gradient(-90deg, var(--ssj-gold), transparent);
        }

        /* Chapter numbers */
        .timeline-phase {
            position: absolute;
            top: -30px;
            left: 50%;
            transform: translateX(-50%);
            font-size: 12px;
            color: var(--scouter-green);
            text-transform: uppercase;
            letter-spacing: 2px;
            opacity: 0.7;
        }

        .timeline-content {
            width: 45%;
            background: rgba(255,255,255,0.05);
            border: 2px solid rgba(255,215,0,0.3);
            border-radius: 16px;
            padding: 30px;
            position: relative;
            transition: transform 0.3s ease, border-color 0.3s ease;
        }

        .timeline-content:hover {
            transform: scale(1.05);
            border-color: var(--ssj-gold);
            box-shadow: 0 10px 40px rgba(255,215,0,0.3);
        }

        /* Animated corner brackets */
        .timeline-bracket {
            position: absolute;
            width: 15px;
            height: 15px;
            border: 2px solid var(--ssj-gold);
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .timeline-content:hover .timeline-bracket {
            opacity: 1;
            animation: bracket-pulse 1s ease-in-out infinite;
        }

        @keyframes bracket-pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }

        .bracket-tl { top: 0; left: 0; border-right: none; border-bottom: none; }
        .bracket-tr { top: 0; right: 0; border-left: none; border-bottom: none; }
        .bracket-bl { bottom: 0; left: 0; border-right: none; border-top: none; }
        .bracket-br { bottom: 0; right: 0; border-left: none; border-top: none; }

        /* Vertical progress indicator */
        .timeline-progress {
            position: absolute;
            left: calc(50% + 30px);
            top: 0;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .timeline-progress-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: rgba(255,215,0,0.3);
            transition: background 0.3s ease, transform 0.3s ease;
        }

        .timeline-progress-dot.active {
            background: var(--ssj-gold);
            box-shadow: 0 0 10px var(--ssj-gold);
            transform: scale(1.5);
        }

        .timeline-date {
            font-size: 14px;
            color: var(--scouter-green);
            text-transform: uppercase;
            letter-spacing: 2px;
            margin-bottom: 10px;
        }

        .timeline-event {
            font-size: 24px;
            font-weight: 700;
            color: var(--ssj-gold);
            margin-bottom: 10px;
            font-family: 'Bangers', cursive;
        }

        .timeline-description {
            font-size: 14px;
            color: var(--light);
            opacity: 0.8;
            line-height: 1.6;
        }

        /* ===================================
           COLONIES SHOWCASE - ENHANCED
           =================================== */
        .colonies-section {
            margin: 100px 0;
        }

        .colonies-title {
            font-family: 'Bangers', cursive;
            font-size: clamp(48px, 8vw, 72px);
            text-align: center;
            margin-bottom: 80px;
            background: var(--gradient-power);
            background-size: 200% 200%;
            -webkit-background-clip: text;
            background-clip: text;
            -webkit-text-fill-color: transparent;
            animation: power-surge 3s ease-in-out infinite;
        }

        .colonies-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 40px;
        }

        .colony-card {
            background: rgba(255,255,255,0.05);
            border: 2px solid rgba(255,255,255,0.1);
            border-radius: 20px;
            padding: 40px;
            text-align: center;
            cursor: pointer;
            transition: all 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            position: relative;
            overflow: hidden;
            opacity: 0;
            transform: translateY(50px);
        }

        .colony-card.visible {
            animation: colony-entrance 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
        }

        @keyframes colony-entrance {
            0% { opacity: 0; transform: translateY(50px); }
            100% { opacity: 1; transform: translateY(0); }
        }

        /* Unique entrance animations per colony */
        .colony-card[data-colony="spark"].visible {
            animation: colony-entrance 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) forwards,
                       spark-entrance 0.6s ease-out;
        }

        @keyframes spark-entrance {
            0% { filter: brightness(0); }
            50% { filter: brightness(3) saturate(2); }
            100% { filter: brightness(1); }
        }

        .colony-card[data-colony="forge"].visible {
            animation: colony-entrance 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) forwards,
                       forge-entrance 0.6s ease-out;
        }

        @keyframes forge-entrance {
            0% { transform: translateY(-100px) scaleY(2); opacity: 0; }
            30% { transform: translateY(10px) scaleY(0.8); opacity: 1; }
            100% { transform: translateY(0) scaleY(1); }
        }

        .colony-card[data-colony="flow"].visible {
            animation: colony-entrance 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) forwards,
                       flow-entrance 0.8s ease-out;
        }

        @keyframes flow-entrance {
            0% { clip-path: circle(0% at center); }
            100% { clip-path: circle(100% at center); }
        }

        .colony-card[data-colony="nexus"].visible {
            animation: colony-entrance 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) forwards,
                       nexus-entrance 0.8s ease-out;
        }

        @keyframes nexus-entrance {
            0% {
                clip-path: polygon(50% 50%, 50% 0%, 50% 0%, 50% 50%);
            }
            25% {
                clip-path: polygon(50% 50%, 100% 0%, 100% 0%, 50% 50%);
            }
            50% {
                clip-path: polygon(50% 50%, 100% 0%, 100% 100%, 50% 50%);
            }
            75% {
                clip-path: polygon(50% 50%, 100% 0%, 100% 100%, 0% 100%);
            }
            100% {
                clip-path: polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%);
            }
        }

        .colony-card[data-colony="beacon"].visible {
            animation: colony-entrance 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) forwards,
                       beacon-entrance 1s ease-out;
        }

        @keyframes beacon-entrance {
            0% { box-shadow: inset 0 0 0 0 var(--beacon); }
            50% { box-shadow: inset 0 0 100px 50px var(--beacon); }
            100% { box-shadow: inset 0 0 0 0 transparent; }
        }

        .colony-card[data-colony="grove"].visible {
            animation: colony-entrance 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) forwards,
                       grove-entrance 1s ease-out;
        }

        @keyframes grove-entrance {
            0% { transform: scale(0) rotate(-180deg); opacity: 0; }
            60% { transform: scale(1.2) rotate(20deg); opacity: 1; }
            100% { transform: scale(1) rotate(0deg); }
        }

        .colony-card[data-colony="crystal"].visible {
            animation: colony-entrance 0.8s cubic-bezier(0.34, 1.56, 0.64, 1) forwards,
                       crystal-entrance 0.8s ease-out;
        }

        @keyframes crystal-entrance {
            0% {
                clip-path: polygon(50% 50%, 50% 0%, 100% 50%, 50% 100%, 0% 50%);
                transform: scale(0);
            }
            100% {
                clip-path: polygon(0% 0%, 100% 0%, 100% 100%, 0% 100%);
                transform: scale(1);
            }
        }

        .colony-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle at center, currentColor, transparent 70%);
            opacity: 0;
            transition: opacity 0.5s ease;
            pointer-events: none;
        }

        .colony-card:hover {
            transform: translateY(-20px) scale(1.05);
            box-shadow: 0 20px 60px rgba(255,215,0,0.4);
        }

        .colony-card:hover::before {
            opacity: 0.1;
            animation: colony-aura 1s ease-out infinite;
        }

        @keyframes colony-aura {
            0% { transform: scale(0.5) rotate(0deg); opacity: 0.2; }
            100% { transform: scale(1.5) rotate(180deg); opacity: 0; }
        }

        .colony-icon {
            font-size: 80px;
            margin-bottom: 20px;
            display: inline-block;
            transition: transform 0.5s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            filter: drop-shadow(0 0 20px currentColor);
            position: relative;
        }

        /* Icon reacts to hover direction */
        .colony-card:hover .colony-icon {
            transform: scale(1.3);
        }

        /* Glyph background */
        .colony-symbol {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 200px;
            opacity: 0.05;
            pointer-events: none;
            font-family: 'JetBrains Mono', monospace;
        }

        .colony-name {
            font-family: 'Bangers', cursive;
            font-size: 36px;
            color: var(--ssj-gold);
            margin-bottom: 10px;
            text-shadow: 0 0 20px currentColor;
        }

        .colony-role {
            font-size: 14px;
            color: var(--light);
            opacity: 0.8;
            text-transform: uppercase;
            letter-spacing: 2px;
            margin-bottom: 20px;
        }

        /* Stat badges */
        .colony-stats {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .colony-stat-badge {
            background: rgba(255,255,255,0.1);
            padding: 5px 12px;
            border-radius: 12px;
            font-size: 11px;
            color: var(--light);
            border: 1px solid currentColor;
            opacity: 0;
            transform: translateY(10px);
            transition: opacity 0.3s ease, transform 0.3s ease;
        }

        .colony-card:hover .colony-stat-badge {
            opacity: 1;
            transform: translateY(0);
        }

        .colony-stat-badge:nth-child(1) { transition-delay: 0.1s; }
        .colony-stat-badge:nth-child(2) { transition-delay: 0.2s; }
        .colony-stat-badge:nth-child(3) { transition-delay: 0.3s; }

        .colony-color-spark { color: var(--spark); border-color: var(--spark); }
        .colony-color-forge { color: var(--forge); border-color: var(--forge); }
        .colony-color-flow { color: var(--flow); border-color: var(--flow); }
        .colony-color-nexus { color: var(--nexus); border-color: var(--nexus); }
        .colony-color-beacon { color: var(--beacon); border-color: var(--beacon); }
        .colony-color-grove { color: var(--grove); border-color: var(--grove); }
        .colony-color-crystal { color: var(--crystal); border-color: var(--crystal); }

        /* ===================================
           FOOTER
           =================================== */
        .footer {
            text-align: center;
            padding: 80px 20px 40px;
            border-top: 2px solid rgba(255,215,0,0.3);
            margin-top: 100px;
        }

        .footer-legend {
            font-family: 'Bangers', cursive;
            font-size: 36px;
            color: var(--ssj-gold);
            margin-bottom: 20px;
            text-shadow: 0 0 20px var(--ssj-gold);
        }

        .footer-credits {
            font-family: 'Orbitron', monospace;
            font-size: 14px;
            color: var(--light);
            opacity: 0.7;
            line-height: 1.8;
        }

        .footer-credits a {
            color: var(--ssj-gold);
            text-decoration: none;
            transition: text-shadow 0.3s ease;
        }

        .footer-credits a:hover {
            text-shadow: 0 0 10px var(--ssj-gold);
        }

        /* ===================================
           RESPONSIVE
           =================================== */
        @media (max-width: 768px) {
            .container {
                padding: 60px 40px; /* Increased from 20px to 40px for mobile glow space */
            }

            .stats-grid {
                grid-template-columns: 1fr;
            }

            .timeline-line {
                left: 20px;
            }

            .timeline-marker {
                left: 20px;
            }

            .timeline-item {
                flex-direction: column !important;
                align-items: flex-start;
                padding-left: 60px;
            }

            .timeline-content {
                width: 100%;
            }

            .colonies-grid {
                grid-template-columns: 1fr;
            }

            #scouter-hud {
                top: 10px;
                right: 10px;
                font-size: 10px;
                padding: 10px;
            }

            .power-meter {
                max-width: 90%;
            }

            .hero {
                padding: 80px 40px; /* Reduced but still generous for mobile glow */
            }

            .power-level-container {
                padding: 80px 40px; /* Reduced but adequate for mobile glow (120px text-shadow) */
            }
        }

        /* ===================================
           ANIMATION UTILITIES
           =================================== */
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(50px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .fade-in-up {
            animation: fadeInUp 0.8s ease-out;
        }

        /* ===================================
           CAMERA SHAKE
           =================================== */
        @keyframes camera-shake {
            0%, 100% { transform: translate(0, 0); }
            10%, 30%, 50%, 70%, 90% { transform: translate(-2px, 2px); }
            20%, 40%, 60%, 80% { transform: translate(2px, -2px); }
        }

        .shake {
            animation: camera-shake 0.5s ease-in-out;
        }

        /* ===================================
           PRINT STYLESHEET
           =================================== */
        @media print {
            body {
                background: white;
                color: black;
            }
            .particle-canvas, #speed-lines, #flash-overlay, #custom-cursor, #scouter-hud, #target-reticle, #nebula-canvas, #impact-blur {
                display: none;
            }
            * {
                animation: none !important;
                transition: none !important;
            }
        }

        /* ===================================
           WHOOSH EFFECT
           =================================== */
        .whoosh {
            animation: whoosh-blur 0.3s ease-out;
        }

        @keyframes whoosh-blur {
            0% { filter: blur(0px); }
            50% { filter: blur(10px); }
            100% { filter: blur(0px); }
        }
    </style>
</head>
<body>
    <!-- Custom Cursor -->
    <div id="custom-cursor">
        <div class="cursor-core"></div>
        <div class="cursor-crosshair"></div>
        <div class="cursor-ring"></div>
        <div class="cursor-arrow"></div>
    </div>

    <!-- Scouter HUD -->
    <div id="scouter-hud">
        <div class="hud-scanline"></div>
        <div class="hud-line">
            <span class="hud-label">Power Level:</span>
            <span class="hud-value" id="hud-power">9,279</span>
        </div>
        <div class="hud-line">
            <span class="hud-label">Coverage:</span>
            <span class="hud-value" id="hud-coverage">98.2%</span>
        </div>
        <div class="hud-line">
            <span class="hud-label">Status:</span>
            <span class="hud-value" id="hud-status">LEGENDARY</span>
        </div>
        <div class="hud-line">
            <span class="hud-label">Distance:</span>
            <span class="hud-value" id="hud-distance">---m</span>
        </div>
    </div>

    <!-- Target Reticle -->
    <div id="target-reticle"></div>

    <!-- Nebula Canvas -->
    <canvas id="nebula-canvas"></canvas>

    <!-- Particle Canvas -->
    <canvas id="particle-canvas"></canvas>

    <!-- Speed Lines -->
    <div id="speed-lines"></div>

    <!-- Flash Overlay -->
    <div id="flash-overlay"></div>

    <!-- Impact Blur -->
    <div id="impact-blur"></div>

    <!-- Main Container -->
    <div class="container">

        <!-- Hero Section -->
        <section class="hero">
            <div class="hero-bg-glow"></div>

            <div class="scouter-reading">Power Level Detection System Online</div>

            <h1 class="hero-title">OVER 9000!</h1>

            <p class="hero-subtitle">KagamiOS Testing Evolution</p>

            <div class="power-level-container">
                <div id="power-level-display" data-text="9,279">9,279</div>
                <div class="power-subtitle">Total Test Coverage</div>

                <!-- Power Meter -->
                <div class="power-meter">
                    <div class="power-meter-fill">
                        <div class="power-meter-lightning"></div>
                        <div class="power-meter-lightning" style="animation-delay: 0.5s;"></div>
                        <div class="power-meter-lightning" style="animation-delay: 1s;"></div>
                    </div>
                    <div class="power-meter-ticks">
                        <div class="power-meter-tick" data-value="0%"></div>
                        <div class="power-meter-tick" data-value="25%"></div>
                        <div class="power-meter-tick" data-value="50%"></div>
                        <div class="power-meter-tick" data-value="75%"></div>
                        <div class="power-meter-tick" data-value="100%"></div>
                    </div>
                    <div class="power-meter-readout">98.2%</div>
                </div>
            </div>
        </section>

        <!-- Stats Grid -->
        <section class="stats-grid">
            <div class="stat-card" data-tier="1">
                <div class="stat-card-corner corner-tl"></div>
                <div class="stat-card-corner corner-tr"></div>
                <div class="stat-card-corner corner-bl"></div>
                <div class="stat-card-corner corner-br"></div>
                <div class="stat-card-readout"></div>
                <div class="stat-icon">âš¡</div>
                <div class="stat-improvement">111x</div>
                <div class="stat-label">Tier 1: Unit Tests</div>
                <div class="stat-value-container">
                    <div class="stat-value" data-target="2576">2,576</div>
                </div>
                <div class="stat-description">Lightning-fast feedback loop. Pure function testing with no external dependencies.</div>
            </div>

            <div class="stat-card" data-tier="2">
                <div class="stat-card-corner corner-tl"></div>
                <div class="stat-card-corner corner-tr"></div>
                <div class="stat-card-corner corner-bl"></div>
                <div class="stat-card-corner corner-br"></div>
                <div class="stat-card-readout"></div>
                <div class="stat-icon">ðŸ”—</div>
                <div class="stat-improvement">NEW</div>
                <div class="stat-label">Tier 2: Integration</div>
                <div class="stat-value-container">
                    <div class="stat-value" data-target="5464">5,464</div>
                </div>
                <div class="stat-description">Cross-module validation. System composition tests with real service integration.</div>
            </div>

            <div class="stat-card" data-tier="3">
                <div class="stat-card-corner corner-tl"></div>
                <div class="stat-card-corner corner-tr"></div>
                <div class="stat-card-corner corner-bl"></div>
                <div class="stat-card-corner corner-br"></div>
                <div class="stat-card-readout"></div>
                <div class="stat-icon">ðŸŽ¯</div>
                <div class="stat-improvement">118x</div>
                <div class="stat-label">Tier 3: End-to-End</div>
                <div class="stat-value-container">
                    <div class="stat-value" data-target="355">355</div>
                </div>
                <div class="stat-description">Full pipeline validation. Real-world scenarios from Genesis to HAL.</div>
            </div>

            <div class="stat-card" data-security>
                <div class="stat-card-corner corner-tl"></div>
                <div class="stat-card-corner corner-tr"></div>
                <div class="stat-card-corner corner-bl"></div>
                <div class="stat-card-corner corner-br"></div>
                <div class="stat-card-readout"></div>
                <div class="stat-icon">ðŸ›¡ï¸</div>
                <div class="stat-improvement">NEW</div>
                <div class="stat-label">Security Validation</div>
                <div class="stat-value-container">
                    <div class="stat-value" data-target="719">719</div>
                </div>
                <div class="stat-description">CBF safety checks, authentication flows, and penetration testing.</div>
            </div>

            <div class="stat-card" data-coverage>
                <div class="stat-card-corner corner-tl"></div>
                <div class="stat-card-corner corner-tr"></div>
                <div class="stat-card-corner corner-bl"></div>
                <div class="stat-card-corner corner-br"></div>
                <div class="stat-card-readout"></div>
                <div class="stat-icon">ðŸ’Ž</div>
                <div class="stat-improvement">98.2%</div>
                <div class="stat-label">Coverage</div>
                <div class="stat-value-container">
                    <div class="stat-value" data-target="98.2">98.2%</div>
                </div>
                <div class="stat-description">Near-complete code coverage across all critical paths and edge cases.</div>
            </div>

            <div class="stat-card" data-total>
                <div class="stat-card-corner corner-tl"></div>
                <div class="stat-card-corner corner-tr"></div>
                <div class="stat-card-corner corner-bl"></div>
                <div class="stat-card-corner corner-br"></div>
                <div class="stat-card-readout"></div>
                <div class="stat-icon">ðŸš€</div>
                <div class="stat-improvement">351x</div>
                <div class="stat-label">Total Improvement</div>
                <div class="stat-value-container">
                    <div class="stat-value" data-target="351">351x</div>
                </div>
                <div class="stat-description">From 23 tests to 9,279. From chaos to unshakeable confidence.</div>
            </div>
        </section>

        <!-- Timeline -->
        <section class="timeline">
            <h2 class="timeline-title">Power-Up Sequence</h2>

            <div class="timeline-container">
                <div class="timeline-line"></div>

                <div class="timeline-item">
                    <div class="timeline-phase">Phase 1/6</div>
                    <div class="timeline-connection"></div>
                    <div class="timeline-marker">âš¡</div>
                    <div class="timeline-content">
                        <div class="timeline-bracket bracket-tl"></div>
                        <div class="timeline-bracket bracket-tr"></div>
                        <div class="timeline-bracket bracket-bl"></div>
                        <div class="timeline-bracket bracket-br"></div>
                        <div class="timeline-date">December 2024 â€” The Beginning</div>
                        <div class="timeline-event">23 Tests</div>
                        <div class="timeline-description">
                            The system was fragile. Every commit was a gamble. No structure, no tiers, no confidence.
                        </div>
                    </div>
                </div>

                <div class="timeline-item">
                    <div class="timeline-phase">Phase 2/6</div>
                    <div class="timeline-connection"></div>
                    <div class="timeline-marker">ðŸ—ï¸</div>
                    <div class="timeline-content">
                        <div class="timeline-bracket bracket-tl"></div>
                        <div class="timeline-bracket bracket-tr"></div>
                        <div class="timeline-bracket bracket-bl"></div>
                        <div class="timeline-bracket bracket-br"></div>
                        <div class="timeline-date">December 15 â€” Tiered Architecture</div>
                        <div class="timeline-event">Structure Emerges</div>
                        <div class="timeline-description">
                            Three tiers established. Fast feedback loops. Integration separation. The foundation.
                        </div>
                    </div>
                </div>

                <div class="timeline-item">
                    <div class="timeline-phase">Phase 3/6</div>
                    <div class="timeline-connection"></div>
                    <div class="timeline-marker">ðŸ’¥</div>
                    <div class="timeline-content">
                        <div class="timeline-bracket bracket-tl"></div>
                        <div class="timeline-bracket bracket-tr"></div>
                        <div class="timeline-bracket bracket-bl"></div>
                        <div class="timeline-bracket bracket-br"></div>
                        <div class="timeline-date">December 16 â€” The Great Expansion</div>
                        <div class="timeline-event">2,576 Unit Tests</div>
                        <div class="timeline-description">
                            Math modules, world model, E8 lattice, G2 tower â€” all covered. 111x improvement.
                        </div>
                    </div>
                </div>

                <div class="timeline-item">
                    <div class="timeline-phase">Phase 4/6</div>
                    <div class="timeline-connection"></div>
                    <div class="timeline-marker">ðŸ”—</div>
                    <div class="timeline-content">
                        <div class="timeline-bracket bracket-tl"></div>
                        <div class="timeline-bracket bracket-tr"></div>
                        <div class="timeline-bracket bracket-bl"></div>
                        <div class="timeline-bracket bracket-br"></div>
                        <div class="timeline-date">December 18 â€” Integration Mastery</div>
                        <div class="timeline-event">5,464 Integration Tests</div>
                        <div class="timeline-description">
                            Colony routing, Fano composition, CBF safety â€” all validated. System integrity locked.
                        </div>
                    </div>
                </div>

                <div class="timeline-item">
                    <div class="timeline-phase">Phase 5/6</div>
                    <div class="timeline-connection"></div>
                    <div class="timeline-marker">ðŸ›¡ï¸</div>
                    <div class="timeline-content">
                        <div class="timeline-bracket bracket-tl"></div>
                        <div class="timeline-bracket bracket-tr"></div>
                        <div class="timeline-bracket bracket-bl"></div>
                        <div class="timeline-bracket bracket-br"></div>
                        <div class="timeline-date">December 20 â€” Security Fortress</div>
                        <div class="timeline-event">719 Security Tests</div>
                        <div class="timeline-description">
                            Authentication, authorization, CBF constraints, penetration testing. Unbreachable.
                        </div>
                    </div>
                </div>

                <div class="timeline-item">
                    <div class="timeline-phase">Phase 6/6</div>
                    <div class="timeline-connection"></div>
                    <div class="timeline-marker">ðŸ‘‘</div>
                    <div class="timeline-content">
                        <div class="timeline-bracket bracket-tl"></div>
                        <div class="timeline-bracket bracket-tr"></div>
                        <div class="timeline-bracket bracket-bl"></div>
                        <div class="timeline-bracket bracket-br"></div>
                        <div class="timeline-date">December 21 â€” Legendary Status</div>
                        <div class="timeline-event">9,279 Total Tests</div>
                        <div class="timeline-description">
                            351x improvement. 98.2% coverage. Every critical path validated. Over 9000!
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Colonies -->
        <section class="colonies-section">
            <h2 class="colonies-title">The Seven Colonies</h2>

            <div class="colonies-grid">
                <div class="colony-card colony-color-spark" data-colony="spark">
                    <div class="colony-symbol">eâ‚</div>
                    <div class="colony-icon">âœ¨</div>
                    <div class="colony-name">Spark</div>
                    <div class="colony-role">Creative Ideation</div>
                    <div class="colony-stats">
                        <div class="colony-stat-badge">Fold (Aâ‚‚)</div>
                        <div class="colony-stat-badge">Divergent</div>
                        <div class="colony-stat-badge">eâ‚</div>
                    </div>
                </div>

                <div class="colony-card colony-color-forge" data-colony="forge">
                    <div class="colony-symbol">eâ‚‚</div>
                    <div class="colony-icon">ðŸ”¨</div>
                    <div class="colony-name">Forge</div>
                    <div class="colony-role">Implementation</div>
                    <div class="colony-stats">
                        <div class="colony-stat-badge">Cusp (Aâ‚ƒ)</div>
                        <div class="colony-stat-badge">Build</div>
                        <div class="colony-stat-badge">eâ‚‚</div>
                    </div>
                </div>

                <div class="colony-card colony-color-flow" data-colony="flow">
                    <div class="colony-symbol">eâ‚ƒ</div>
                    <div class="colony-icon">ðŸŒŠ</div>
                    <div class="colony-name">Flow</div>
                    <div class="colony-role">Debugging</div>
                    <div class="colony-stats">
                        <div class="colony-stat-badge">Swallowtail (Aâ‚„)</div>
                        <div class="colony-stat-badge">Adapt</div>
                        <div class="colony-stat-badge">eâ‚ƒ</div>
                    </div>
                </div>

                <div class="colony-card colony-color-nexus" data-colony="nexus">
                    <div class="colony-symbol">eâ‚„</div>
                    <div class="colony-icon">ðŸ”®</div>
                    <div class="colony-name">Nexus</div>
                    <div class="colony-role">Integration</div>
                    <div class="colony-stats">
                        <div class="colony-stat-badge">Butterfly (Aâ‚…)</div>
                        <div class="colony-stat-badge">Connect</div>
                        <div class="colony-stat-badge">eâ‚„</div>
                    </div>
                </div>

                <div class="colony-card colony-color-beacon" data-colony="beacon">
                    <div class="colony-symbol">eâ‚…</div>
                    <div class="colony-icon">ðŸ—¼</div>
                    <div class="colony-name">Beacon</div>
                    <div class="colony-role">Strategic Planning</div>
                    <div class="colony-stats">
                        <div class="colony-stat-badge">Hyperbolic (Dâ‚„âº)</div>
                        <div class="colony-stat-badge">Architect</div>
                        <div class="colony-stat-badge">eâ‚…</div>
                    </div>
                </div>

                <div class="colony-card colony-color-grove" data-colony="grove">
                    <div class="colony-symbol">eâ‚†</div>
                    <div class="colony-icon">ðŸŒ³</div>
                    <div class="colony-name">Grove</div>
                    <div class="colony-role">Research</div>
                    <div class="colony-stats">
                        <div class="colony-stat-badge">Elliptic (Dâ‚„â»)</div>
                        <div class="colony-stat-badge">Analyze</div>
                        <div class="colony-stat-badge">eâ‚†</div>
                    </div>
                </div>

                <div class="colony-card colony-color-crystal" data-colony="crystal">
                    <div class="colony-symbol">eâ‚‡</div>
                    <div class="colony-icon">ðŸ’Ž</div>
                    <div class="colony-name">Crystal</div>
                    <div class="colony-role">Verification</div>
                    <div class="colony-stats">
                        <div class="colony-stat-badge">Parabolic (Dâ‚…)</div>
                        <div class="colony-stat-badge">Verify</div>
                        <div class="colony-stat-badge">eâ‚‡</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Footer -->
        <footer class="footer">
            <div class="footer-legend">Legendary Achievement Unlocked</div>
            <div class="footer-credits">
                Forged by <strong>Forge (eâ‚‚)</strong> â€” The Implementation Master<br>
                Part of <a href="https://kagami.dev" target="_blank">KagamiOS</a> â€” Self-Predictive Distributed Intelligence<br>
                351x improvement. Zero compromises. Every test matters.<br><br>
                <em>In tribute to Akira Toriyama and all VFX legends who push boundaries</em>
            </div>
        </footer>

    </div>

    <!-- JavaScript -->
    <script>
        // ===================================
        // CUSTOM CURSOR - ENHANCED
        // ===================================
        const cursor = document.getElementById('custom-cursor');
        const cursorRing = cursor.querySelector('.cursor-ring');
        const cursorArrow = cursor.querySelector('.cursor-arrow');
        let mouseX = window.innerWidth / 2;
        let mouseY = window.innerHeight / 2;
        let cursorX = mouseX;
        let cursorY = mouseY;
        let lastX = mouseX;
        let lastY = mouseY;
        let velocity = 0;

        // Trail dots
        let trailInterval = null;

        document.addEventListener('mousemove', (e) => {
            const dx = e.clientX - lastX;
            const dy = e.clientY - lastY;
            velocity = Math.sqrt(dx * dx + dy * dy);

            lastX = mouseX;
            lastY = mouseY;
            mouseX = e.clientX;
            mouseY = e.clientY;

            // Show velocity ring if moving fast
            if (velocity > 10) {
                cursorRing.style.opacity = '0.5';
                cursorArrow.style.opacity = '0.8';
                const angle = Math.atan2(dy, dx) * (180 / Math.PI) + 90;
                cursorArrow.style.transform = `translateX(-50%) rotate(${angle}deg)`;

                // Scale cursor based on velocity
                const scale = Math.min(1 + velocity / 100, 2);
                cursor.style.transform = `translate(${cursorX}px, ${cursorY}px) scale(${scale})`;

                // Spawn trail dots
                if (!trailInterval) {
                    trailInterval = setInterval(() => {
                        spawnTrailDot(cursorX, cursorY);
                    }, 50);
                }
            } else {
                cursorRing.style.opacity = '0';
                cursorArrow.style.opacity = '0';
                cursor.style.transform = `translate(${cursorX}px, ${cursorY}px)`;

                if (trailInterval) {
                    clearInterval(trailInterval);
                    trailInterval = null;
                }
            }
        });

        function spawnTrailDot(x, y) {
            const dot = document.createElement('div');
            dot.className = 'cursor-trail-dot';
            dot.style.left = `${x}px`;
            dot.style.top = `${y}px`;
            document.body.appendChild(dot);

            setTimeout(() => {
                dot.remove();
            }, 600);
        }

        function updateCursor() {
            cursorX += (mouseX - cursorX) * 0.15;
            cursorY += (mouseY - cursorY) * 0.15;
            if (velocity <= 10) {
                cursor.style.transform = `translate(${cursorX}px, ${cursorY}px)`;
            }
            requestAnimationFrame(updateCursor);
        }
        updateCursor();

        // Charging ring effect
        let chargingInterval = setInterval(() => {
            const ring = document.createElement('div');
            ring.style.position = 'fixed';
            ring.style.width = '30px';
            ring.style.height = '30px';
            ring.style.border = '2px solid var(--scouter-green)';
            ring.style.borderRadius = '50%';
            ring.style.left = `${cursorX}px`;
            ring.style.top = `${cursorY}px`;
            ring.style.transform = 'translate(-50%, -50%)';
            ring.style.pointerEvents = 'none';
            ring.style.zIndex = '9999';
            ring.style.animation = 'charging-ring-pulse 1s ease-out forwards';
            document.body.appendChild(ring);

            setTimeout(() => ring.remove(), 1000);
        }, 2000);

        const chargingRingStyle = document.createElement('style');
        chargingRingStyle.textContent = `
            @keyframes charging-ring-pulse {
                0% { transform: translate(-50%, -50%) scale(1); opacity: 0.8; }
                100% { transform: translate(-50%, -50%) scale(3); opacity: 0; }
            }
        `;
        document.head.appendChild(chargingRingStyle);

        // ===================================
        // NEBULA BACKGROUND
        // ===================================
        const nebulaCanvas = document.getElementById('nebula-canvas');
        const nebulaCtx = nebulaCanvas.getContext('2d');
        nebulaCanvas.width = window.innerWidth;
        nebulaCanvas.height = window.innerHeight;

        function drawNebula() {
            nebulaCtx.clearRect(0, 0, nebulaCanvas.width, nebulaCanvas.height);

            const gradient = nebulaCtx.createRadialGradient(
                mouseX, mouseY, 0,
                mouseX, mouseY, 600
            );
            gradient.addColorStop(0, 'rgba(255,215,0,0.1)');
            gradient.addColorStop(0.5, 'rgba(0,255,255,0.05)');
            gradient.addColorStop(1, 'transparent');

            nebulaCtx.fillStyle = gradient;
            nebulaCtx.fillRect(0, 0, nebulaCanvas.width, nebulaCanvas.height);

            requestAnimationFrame(drawNebula);
        }
        drawNebula();

        // ===================================
        // PARTICLE SYSTEM (ENHANCED)
        // ===================================
        const canvas = document.getElementById('particle-canvas');
        const ctx = canvas.getContext('2d');
        canvas.width = window.innerWidth;
        canvas.height = window.innerHeight;

        class Particle {
            constructor(x, y, vx, vy, color, life, depth = 1) {
                this.x = x;
                this.y = y;
                this.vx = vx;
                this.vy = vy;
                this.color = color;
                this.life = life;
                this.maxLife = life;
                this.size = Math.random() * 4 + 2;
                this.depth = depth; // Depth layer (1 = far, 3 = near)
            }

            update() {
                this.x += this.vx * this.depth;
                this.y += this.vy * this.depth;
                this.vy += 0.1; // Gravity
                this.life -= 1;
                this.vx *= 0.98; // Air resistance
                this.vy *= 0.98;
            }

            draw() {
                const alpha = this.life / this.maxLife;
                ctx.fillStyle = this.color.replace('1)', `${alpha})`);
                ctx.beginPath();
                ctx.arc(this.x, this.y, this.size * this.depth, 0, Math.PI * 2);
                ctx.fill();

                // Glow
                ctx.shadowBlur = 20;
                ctx.shadowColor = this.color;
                ctx.fill();
                ctx.shadowBlur = 0;
            }

            isDead() {
                return this.life <= 0;
            }
        }

        let particles = [];
        let lastMouseX = mouseX;
        let lastMouseY = mouseY;

        function spawnParticles(x, y, count, color, depth = 1) {
            for (let i = 0; i < count; i++) {
                const angle = Math.random() * Math.PI * 2;
                const speed = Math.random() * 3 + 1;
                const vx = Math.cos(angle) * speed;
                const vy = Math.sin(angle) * speed - 2;
                particles.push(new Particle(x, y, vx, vy, color, 60, depth));
            }
        }

        document.addEventListener('mousemove', (e) => {
            const dx = e.clientX - lastMouseX;
            const dy = e.clientY - lastMouseY;
            const speed = Math.sqrt(dx * dx + dy * dy);

            if (speed > 5) {
                const particleCount = Math.min(Math.floor(speed / 10), 5);
                const depth = Math.random() * 2 + 1; // Random depth layer
                spawnParticles(e.clientX, e.clientY, particleCount, 'rgba(255, 215, 0, 1)', depth);
            }

            lastMouseX = e.clientX;
            lastMouseY = e.clientY;
        });

        // Constellation effect (connect nearby particles)
        function drawConstellations() {
            for (let i = 0; i < particles.length; i++) {
                for (let j = i + 1; j < particles.length; j++) {
                    const dx = particles[i].x - particles[j].x;
                    const dy = particles[i].y - particles[j].y;
                    const distance = Math.sqrt(dx * dx + dy * dy);

                    if (distance < 100) {
                        const alpha = (1 - distance / 100) * 0.3;
                        ctx.strokeStyle = `rgba(255, 215, 0, ${alpha})`;
                        ctx.lineWidth = 0.5;
                        ctx.beginPath();
                        ctx.moveTo(particles[i].x, particles[i].y);
                        ctx.lineTo(particles[j].x, particles[j].y);
                        ctx.stroke();
                    }
                }
            }
        }

        function animateParticles() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            particles = particles.filter(p => !p.isDead());
            particles.forEach(p => {
                p.update();
                p.draw();
            });

            drawConstellations();

            requestAnimationFrame(animateParticles);
        }
        animateParticles();

        // Background brightens near interactive elements
        document.querySelectorAll('.stat-card, .colony-card, .timeline-marker').forEach(el => {
            el.addEventListener('mouseenter', () => {
                nebulaCanvas.style.opacity = '0.6';
            });
            el.addEventListener('mouseleave', () => {
                nebulaCanvas.style.opacity = '0.3';
            });
        });

        // ===================================
        // SCOUTER HUD - ENHANCED
        // ===================================
        const hudDistance = document.getElementById('hud-distance');
        const powerLevelDisplay = document.getElementById('power-level-display');

        function updateHudDistance() {
            const rect = powerLevelDisplay.getBoundingClientRect();
            const centerX = rect.left + rect.width / 2;
            const centerY = rect.top + rect.height / 2;
            const dx = mouseX - centerX;
            const dy = mouseY - centerY;
            const distance = Math.sqrt(dx * dx + dy * dy);
            hudDistance.textContent = `${Math.floor(distance)}m`;
        }

        setInterval(updateHudDistance, 100);

        // Target reticle around cursor
        const targetReticle = document.getElementById('target-reticle');
        document.addEventListener('click', (e) => {
            targetReticle.style.left = `${e.clientX}px`;
            targetReticle.style.top = `${e.clientY}px`;
            targetReticle.style.transform = 'translate(-50%, -50%) scale(1)';
            targetReticle.style.opacity = '1';

            setTimeout(() => {
                targetReticle.style.transform = 'translate(-50%, -50%) scale(2)';
                targetReticle.style.opacity = '0';
            }, 50);
        });

        // ===================================
        // STAT CARD INTERACTIONS - ENHANCED
        // ===================================
        const statCards = document.querySelectorAll('.stat-card');

        statCards.forEach(card => {
            // Hover duration tracking
            let hoverStartTime = 0;
            let hoverInterval = null;

            card.addEventListener('mouseenter', (e) => {
                hoverStartTime = Date.now();
                const rect = card.getBoundingClientRect();
                const x = rect.left + rect.width / 2;
                const y = rect.top + rect.height / 2;
                spawnParticles(x, y, 20, 'rgba(255, 215, 0, 1)', 2);

                // Gradually intensify border glow
                hoverInterval = setInterval(() => {
                    const duration = (Date.now() - hoverStartTime) / 1000;
                    const intensity = Math.min(duration / 2, 1);
                    card.style.boxShadow = `0 10px 40px rgba(255,215,0,${0.3 + intensity * 0.5})`;
                }, 100);
            });

            card.addEventListener('mouseleave', () => {
                if (hoverInterval) {
                    clearInterval(hoverInterval);
                    hoverInterval = null;
                }
                card.style.boxShadow = '';
            });

            card.addEventListener('click', (e) => {
                const rect = card.getBoundingClientRect();
                const x = rect.left + rect.width / 2;
                const y = rect.top + rect.height / 2;
                spawnParticles(x, y, 50, 'rgba(0, 255, 255, 1)', 3);
                flash();
                cameraShake();
                impactBlur();
            });

            // 3D tilt with mouse parallax
            card.addEventListener('mousemove', (e) => {
                const rect = card.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const y = e.clientY - rect.top;
                const centerX = rect.width / 2;
                const centerY = rect.height / 2;
                const rotateX = (y - centerY) / 10;
                const rotateY = (centerX - x) / 10;

                card.style.transform = `
                    translateY(-10px)
                    rotateX(${rotateX}deg)
                    rotateY(${rotateY}deg)
                    scale(1.02)
                `;
            });

            card.addEventListener('mouseleave', () => {
                card.style.transform = '';
            });
        });

        // Counter animation with impact frame
        function animateCounter(element, target, duration = 2000) {
            const isPercentage = String(target).includes('.');
            const numericTarget = parseFloat(target);
            let startTime = null;

            function step(currentTime) {
                if (!startTime) startTime = currentTime;
                const elapsed = currentTime - startTime;
                const progress = Math.min(elapsed / duration, 1);

                // Ease out cubic
                const easeProgress = 1 - Math.pow(1 - progress, 3);
                const current = easeProgress * numericTarget;

                if (isPercentage) {
                    element.textContent = `${current.toFixed(1)}%`;
                } else if (numericTarget > 100) {
                    element.textContent = Math.floor(current).toLocaleString();
                } else {
                    element.textContent = `${Math.floor(current)}x`;
                }

                if (progress < 1) {
                    requestAnimationFrame(step);
                } else {
                    // Impact frame on completion
                    element.classList.add('power-level-impact');
                    flash();
                    setTimeout(() => {
                        element.classList.remove('power-level-impact');
                    }, 600);
                }
            }

            requestAnimationFrame(step);
        }

        // ===================================
        // POWER LEVEL CLICK (KAMEHAMEHA)
        // ===================================
        powerLevelDisplay.addEventListener('click', () => {
            kamehameha();
        });

        function kamehameha() {
            // Flash
            flash();
            impactBlur();

            // Massive particle burst (multi-depth)
            for (let i = 0; i < 200; i++) {
                const angle = Math.random() * Math.PI * 2;
                const speed = Math.random() * 20 + 5;
                const vx = Math.cos(angle) * speed;
                const vy = Math.sin(angle) * speed;
                const depth = Math.random() * 2 + 1;
                particles.push(new Particle(
                    window.innerWidth / 2,
                    window.innerHeight / 2,
                    vx,
                    vy,
                    'rgba(0, 255, 255, 1)',
                    120,
                    depth
                ));
            }

            // Camera shake
            cameraShake();

            // Speed lines
            createSpeedLines();

            // Whoosh effect
            powerLevelDisplay.classList.add('whoosh');
            setTimeout(() => {
                powerLevelDisplay.classList.remove('whoosh');
            }, 300);
        }

        // ===================================
        // FLASH OVERLAY (IMPACT FRAME)
        // ===================================
        function flash() {
            const flashOverlay = document.getElementById('flash-overlay');
            flashOverlay.style.transition = 'none';
            flashOverlay.style.opacity = '0.8';

            setTimeout(() => {
                flashOverlay.style.transition = 'opacity 0.3s ease';
                flashOverlay.style.opacity = '0';
            }, 50);
        }

        function impactBlur() {
            const impactBlur = document.getElementById('impact-blur');
            impactBlur.style.transition = 'none';
            impactBlur.style.opacity = '1';

            setTimeout(() => {
                impactBlur.style.transition = 'opacity 0.5s ease';
                impactBlur.style.opacity = '0';
            }, 50);
        }

        // ===================================
        // CAMERA SHAKE
        // ===================================
        function cameraShake() {
            document.body.classList.add('shake');
            setTimeout(() => {
                document.body.classList.remove('shake');
            }, 500);
        }

        // ===================================
        // SPEED LINES
        // ===================================
        function createSpeedLines() {
            const speedLinesContainer = document.getElementById('speed-lines');
            const lineCount = 20;

            for (let i = 0; i < lineCount; i++) {
                const line = document.createElement('div');
                line.className = 'speed-line';
                line.style.top = `${Math.random() * 100}%`;
                line.style.opacity = '0';
                speedLinesContainer.appendChild(line);

                setTimeout(() => {
                    line.style.transition = 'opacity 0.1s ease';
                    line.style.opacity = '0.8';

                    setTimeout(() => {
                        line.style.transition = 'opacity 0.3s ease';
                        line.style.opacity = '0';

                        setTimeout(() => {
                            line.remove();
                        }, 300);
                    }, 100);
                }, i * 20);
            }
        }

        // ===================================
        // COLONY CARD ANIMATIONS - ENHANCED
        // ===================================
        const colonyCards = document.querySelectorAll('.colony-card');

        colonyCards.forEach((card, index) => {
            // Icon reacts to hover direction
            card.addEventListener('mousemove', (e) => {
                const rect = card.getBoundingClientRect();
                const x = e.clientX - rect.left;
                const y = e.clientY - rect.top;
                const centerX = rect.width / 2;
                const centerY = rect.height / 2;
                const angleX = (x - centerX) / centerX * 15;
                const angleY = (centerY - y) / centerY * 15;

                const icon = card.querySelector('.colony-icon');
                icon.style.transform = `scale(1.3) rotateY(${angleX}deg) rotateX(${angleY}deg)`;
            });

            card.addEventListener('mouseleave', () => {
                const icon = card.querySelector('.colony-icon');
                icon.style.transform = '';
            });

            card.addEventListener('click', () => {
                const rect = card.getBoundingClientRect();
                const x = rect.left + rect.width / 2;
                const y = rect.top + rect.height / 2;

                // Get colony color
                const computedStyle = getComputedStyle(card);
                const color = computedStyle.color;

                // Particle burst in colony color
                for (let i = 0; i < 50; i++) {
                    const angle = Math.random() * Math.PI * 2;
                    const speed = Math.random() * 15 + 5;
                    const vx = Math.cos(angle) * speed;
                    const vy = Math.sin(angle) * speed;
                    const depth = Math.random() * 2 + 1;
                    particles.push(new Particle(x, y, vx, vy, color, 80, depth));
                }

                flash();
                cameraShake();
                impactBlur();
            });
        });

        // ===================================
        // TIMELINE REVEAL ON SCROLL
        // ===================================
        const timelineItems = document.querySelectorAll('.timeline-item');

        const observerOptions = {
            threshold: 0.3,
            rootMargin: '0px 0px -100px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        }, observerOptions);

        timelineItems.forEach(item => {
            observer.observe(item);
        });

        // Colony cards entrance observer
        const colonyObserver = new IntersectionObserver((entries) => {
            entries.forEach((entry, index) => {
                if (entry.isIntersecting) {
                    setTimeout(() => {
                        entry.target.classList.add('visible');
                    }, index * 100);
                }
            });
        }, { threshold: 0.2 });

        colonyCards.forEach(card => {
            colonyObserver.observe(card);
        });

        // ===================================
        // TIMELINE MARKER INTERACTIONS
        // ===================================
        const timelineMarkers = document.querySelectorAll('.timeline-marker');

        timelineMarkers.forEach(marker => {
            marker.addEventListener('click', () => {
                const rect = marker.getBoundingClientRect();
                const x = rect.left + rect.width / 2;
                const y = rect.top + rect.height / 2;

                spawnParticles(x, y, 30, 'rgba(255, 215, 0, 1)', 2);
                flash();
            });
        });

        // ===================================
        // POWER METER ANIMATION
        // ===================================
        const powerMeter = document.querySelector('.power-meter');
        const powerMeterFill = document.querySelector('.power-meter-fill');

        const meterObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    // Particle explosion at 98.2%
                    setTimeout(() => {
                        const rect = powerMeter.getBoundingClientRect();
                        const x = rect.left + rect.width * 0.982;
                        const y = rect.top + rect.height / 2;

                        for (let i = 0; i < 100; i++) {
                            const angle = Math.random() * Math.PI * 2;
                            const speed = Math.random() * 10 + 5;
                            const vx = Math.cos(angle) * speed;
                            const vy = Math.sin(angle) * speed;
                            particles.push(new Particle(x, y, vx, vy, 'rgba(0, 255, 255, 1)', 80, 2));
                        }

                        flash();
                        powerMeterFill.style.animation += ', meter-complete-burst 0.5s ease-out';
                    }, 2000);
                }
            });
        }, { threshold: 0.5 });

        meterObserver.observe(powerMeter);

        // ===================================
        // WINDOW RESIZE
        // ===================================
        window.addEventListener('resize', () => {
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            nebulaCanvas.width = window.innerWidth;
            nebulaCanvas.height = window.innerHeight;
        });

        // ===================================
        // DOUBLE-CLICK ANYWHERE (SPIRIT BOMB)
        // ===================================
        document.addEventListener('dblclick', (e) => {
            spiritBomb(e.clientX, e.clientY);
        });

        function spiritBomb(x, y) {
            // Massive radial burst
            for (let i = 0; i < 500; i++) {
                const angle = (i / 500) * Math.PI * 2;
                const speed = Math.random() * 25 + 10;
                const vx = Math.cos(angle) * speed;
                const vy = Math.sin(angle) * speed;
                const colors = [
                    'rgba(255, 215, 0, 1)',
                    'rgba(0, 255, 255, 1)',
                    'rgba(255, 255, 255, 1)',
                    'rgba(0, 255, 0, 1)'
                ];
                const color = colors[Math.floor(Math.random() * colors.length)];
                const depth = Math.random() * 2 + 1;
                particles.push(new Particle(x, y, vx, vy, color, 150, depth));
            }

            flash();
            cameraShake();
            createSpeedLines();
            impactBlur();
        }

        // ===================================
        // INITIAL LOAD ANIMATION
        // ===================================
        window.addEventListener('load', () => {
            // Fade in elements
            document.querySelectorAll('.hero, .stats-grid, .timeline, .colonies-section').forEach((el, i) => {
                setTimeout(() => {
                    el.classList.add('fade-in-up');
                }, i * 200);
            });

            // Spawn initial particles (multi-depth)
            for (let i = 0; i < 50; i++) {
                setTimeout(() => {
                    const x = Math.random() * window.innerWidth;
                    const y = Math.random() * window.innerHeight;
                    const depth = Math.random() * 2 + 1;
                    spawnParticles(x, y, 5, 'rgba(255, 215, 0, 1)', depth);
                }, i * 50);
            }

            // Animate stat counters when visible
            const statObserver = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        const valueEl = entry.target.querySelector('.stat-value');
                        const target = valueEl.getAttribute('data-target');
                        animateCounter(valueEl, target);
                        statObserver.unobserve(entry.target);
                    }
                });
            }, { threshold: 0.5 });

            statCards.forEach(card => statObserver.observe(card));
        });

        // ===================================
        // AURA EFFECT ON HERO BG
        // ===================================
        const heroBg = document.querySelector('.hero-bg-glow');

        document.addEventListener('mousemove', (e) => {
            const xPercent = (e.clientX / window.innerWidth) * 100;
            const yPercent = (e.clientY / window.innerHeight) * 100;
            heroBg.style.background = `radial-gradient(
                circle at ${xPercent}% ${yPercent}%,
                rgba(255,215,0,0.4),
                transparent 70%
            )`;
        });

        // ===================================
        // SCROLL-BASED POWER METER ANIMATION
        // ===================================
        let powerLevel = 9279;
        let displayedPower = 0;

        function animatePowerLevel() {
            if (displayedPower < powerLevel) {
                displayedPower += Math.ceil((powerLevel - displayedPower) / 20);
                powerLevelDisplay.textContent = displayedPower.toLocaleString();
                document.getElementById('hud-power').textContent = displayedPower.toLocaleString();
                requestAnimationFrame(animatePowerLevel);
            } else {
                powerLevelDisplay.textContent = powerLevel.toLocaleString();
                document.getElementById('hud-power').textContent = powerLevel.toLocaleString();

                // Impact frame
                powerLevelDisplay.classList.add('power-level-impact');
                flash();
                setTimeout(() => {
                    powerLevelDisplay.classList.remove('power-level-impact');
                }, 600);
            }
        }

        // Trigger animation when power level is in view
        const powerObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting && displayedPower === 0) {
                    animatePowerLevel();
                }
            });
        }, { threshold: 0.5 });

        powerObserver.observe(powerLevelDisplay);

        // ===================================
        // KONAMI CODE EASTER EGG
        // ===================================
        let konamiCode = ['ArrowUp', 'ArrowUp', 'ArrowDown', 'ArrowDown', 'ArrowLeft', 'ArrowRight', 'ArrowLeft', 'ArrowRight', 'b', 'a'];
        let konamiIndex = 0;

        document.addEventListener('keydown', (e) => {
            if (e.key === konamiCode[konamiIndex]) {
                konamiIndex++;
                if (konamiIndex === konamiCode.length) {
                    // Ultra Instinct mode
                    document.body.style.filter = 'hue-rotate(180deg) saturate(2)';
                    powerLevel = 99999;
                    displayedPower = 0;
                    animatePowerLevel();
                    spiritBomb(window.innerWidth / 2, window.innerHeight / 2);

                    // Show alert with style
                    const alertDiv = document.createElement('div');
                    alertDiv.textContent = 'ULTRA INSTINCT ACTIVATED! ðŸ”¥';
                    alertDiv.style.position = 'fixed';
                    alertDiv.style.top = '50%';
                    alertDiv.style.left = '50%';
                    alertDiv.style.transform = 'translate(-50%, -50%)';
                    alertDiv.style.fontSize = '48px';
                    alertDiv.style.fontFamily = 'Bangers, cursive';
                    alertDiv.style.color = 'var(--energy-cyan)';
                    alertDiv.style.textShadow = '0 0 40px var(--energy-cyan)';
                    alertDiv.style.zIndex = '10001';
                    alertDiv.style.animation = 'fadeInUp 0.5s ease-out';
                    document.body.appendChild(alertDiv);

                    setTimeout(() => {
                        alertDiv.remove();
                        document.body.style.filter = '';
                        powerLevel = 9279;
                    }, 5000);
                    konamiIndex = 0;
                }
            } else {
                konamiIndex = 0;
            }
        });

        // ===================================
        // SIMULATE AUDIO-REACTIVE PULSE
        // ===================================
        setInterval(() => {
            // Simulate bass frequency
            const bassIntensity = Math.random() * 0.5 + 0.5;
            powerLevelDisplay.style.transform = `scale(${1 + bassIntensity * 0.05})`;

            setTimeout(() => {
                powerLevelDisplay.style.transform = 'scale(1)';
            }, 100);
        }, 2000);

        // Simulate high frequency shimmer
        setInterval(() => {
            const statValues = document.querySelectorAll('.stat-value');
            statValues.forEach(val => {
                val.style.filter = 'brightness(1.2)';
                setTimeout(() => {
                    val.style.filter = 'brightness(1)';
                }, 50);
            });
        }, 3000);

        // ===================================
        // DBZ SOUND SYSTEM - WEB AUDIO API
        // ===================================
        class DBZSoundSystem {
            constructor() {
                this.context = null;
                this.initialized = false;
                this.enabled = false;
                this.reverb = null;
                this.masterGain = null;
                this.masterVolume = 0.25;

                // E minor pentatonic scale (mystical, never clashes)
                this.scale = {
                    E2: 82.41,
                    E3: 164.81,
                    G3: 196.00,
                    A3: 220.00,
                    B3: 246.94,
                    D4: 293.66,
                    E4: 329.63,
                    G4: 392.00,
                    A4: 440.00,
                    B4: 493.88,
                    D5: 587.33,
                    E5: 659.25
                };

                // Colony-specific frequencies (7 notes from scale)
                this.colonyNotes = [
                    164.81, // Spark - E3
                    196.00, // Forge - G3
                    220.00, // Flow - A3
                    246.94, // Nexus - B3
                    293.66, // Beacon - D4
                    329.63, // Grove - E4
                    392.00  // Crystal - G4
                ];

                // Throttle particle sounds
                this.lastParticleSound = 0;
                this.particleSoundThrottle = 300;
            }

            async initialize() {
                if (this.initialized) return;

                try {
                    this.context = new (window.AudioContext || window.webkitAudioContext)();

                    // Create master gain node
                    this.masterGain = this.context.createGain();
                    this.masterGain.gain.value = this.masterVolume;
                    this.masterGain.connect(this.context.destination);

                    // Create reverb
                    await this.createReverb();

                    this.initialized = true;
                    this.enabled = true;
                    console.log('ðŸ”Š DBZ Sound System initialized');

                    // Play ambient drone
                    this.playAmbientDrone();
                } catch (error) {
                    console.error('Sound system initialization failed:', error);
                }
            }

            async createReverb() {
                // Create convolution reverb for cathedral space
                this.reverb = this.context.createConvolver();

                // Generate impulse response (2.5s cathedral tail)
                const sampleRate = this.context.sampleRate;
                const length = sampleRate * 2.5;
                const impulse = this.context.createBuffer(2, length, sampleRate);

                for (let channel = 0; channel < 2; channel++) {
                    const channelData = impulse.getChannelData(channel);
                    for (let i = 0; i < length; i++) {
                        // Exponential decay with noise
                        const decay = Math.pow(1 - i / length, 3);
                        channelData[i] = (Math.random() * 2 - 1) * decay;
                    }
                }

                this.reverb.buffer = impulse;
            }

            playPhrase(freq, pan = 0, duration = 0.3, envelope = { a: 0.02, d: 0.1, s: 0.7, r: 0.2 }, useReverb = true, waveform = 'sine') {
                if (!this.enabled || !this.initialized) return;

                const now = this.context.currentTime;

                // Oscillator
                const osc = this.context.createOscillator();
                osc.type = waveform;
                osc.frequency.value = freq;

                // Envelope gain
                const gain = this.context.createGain();
                gain.gain.value = 0;

                // ADSR envelope
                const attackEnd = now + envelope.a;
                const decayEnd = attackEnd + envelope.d;
                const releaseStart = now + duration - envelope.r;

                gain.gain.linearRampToValueAtTime(0.8, attackEnd);
                gain.gain.linearRampToValueAtTime(envelope.s * 0.8, decayEnd);
                gain.gain.setValueAtTime(envelope.s * 0.8, releaseStart);
                gain.gain.linearRampToValueAtTime(0, now + duration);

                // Panning
                const panner = this.context.createStereoPanner();
                panner.pan.value = Math.max(-1, Math.min(1, pan));

                // Connect nodes
                osc.connect(gain);
                gain.connect(panner);

                if (useReverb && this.reverb) {
                    const dry = this.context.createGain();
                    const wet = this.context.createGain();
                    dry.gain.value = 0.7;
                    wet.gain.value = 0.3;

                    panner.connect(dry).connect(this.masterGain);
                    panner.connect(wet).connect(this.reverb).connect(this.masterGain);
                } else {
                    panner.connect(this.masterGain);
                }

                // Start and stop
                osc.start(now);
                osc.stop(now + duration);
            }

            playChord(frequencies, pan = 0, duration = 1.5) {
                if (!this.enabled || !this.initialized) return;

                frequencies.forEach((freq, i) => {
                    this.playPhrase(freq, pan, duration, {
                        a: 0.05,
                        d: 0.2,
                        s: 0.6,
                        r: 0.5
                    }, true);
                });
            }

            playArpeggio(frequencies, pan = 0, noteGap = 0.08) {
                if (!this.enabled || !this.initialized) return;

                frequencies.forEach((freq, i) => {
                    setTimeout(() => {
                        this.playPhrase(freq, pan, 0.4, {
                            a: 0.01,
                            d: 0.05,
                            s: 0.7,
                            r: 0.15
                        }, true);
                    }, i * noteGap * 1000);
                });
            }

            playNoise(duration = 0.1, frequency = 1000, pan = 0) {
                if (!this.enabled || !this.initialized) return;

                const now = this.context.currentTime;

                // White noise buffer
                const bufferSize = this.context.sampleRate * duration;
                const buffer = this.context.createBuffer(1, bufferSize, this.context.sampleRate);
                const data = buffer.getChannelData(0);

                for (let i = 0; i < bufferSize; i++) {
                    data[i] = Math.random() * 2 - 1;
                }

                const noise = this.context.createBufferSource();
                noise.buffer = buffer;

                // Filter for frequency
                const filter = this.context.createBiquadFilter();
                filter.type = 'bandpass';
                filter.frequency.value = frequency;
                filter.Q.value = 5;

                const gain = this.context.createGain();
                gain.gain.value = 0.3;
                gain.gain.exponentialRampToValueAtTime(0.01, now + duration);

                const panner = this.context.createStereoPanner();
                panner.pan.value = pan;

                noise.connect(filter);
                filter.connect(gain);
                gain.connect(panner);
                panner.connect(this.masterGain);

                noise.start(now);
                noise.stop(now + duration);
            }

            playFrequencySweep(startFreq, endFreq, duration = 0.5, pan = 0) {
                if (!this.enabled || !this.initialized) return;

                const now = this.context.currentTime;

                const osc = this.context.createOscillator();
                osc.type = 'sine';
                osc.frequency.value = startFreq;
                osc.frequency.exponentialRampToValueAtTime(endFreq, now + duration);

                const gain = this.context.createGain();
                gain.gain.value = 0.4;
                gain.gain.linearRampToValueAtTime(0, now + duration);

                const panner = this.context.createStereoPanner();
                panner.pan.value = pan;

                osc.connect(gain);
                gain.connect(panner);
                panner.connect(this.masterGain);

                osc.start(now);
                osc.stop(now + duration);
            }

            // ===================================
            // DBZ-SPECIFIC SOUND EFFECTS
            // ===================================

            playKamehameha() {
                // Rising arpeggio + white noise burst + bass drop
                const arpFreqs = [
                    this.scale.E3,
                    this.scale.G3,
                    this.scale.A3,
                    this.scale.B3,
                    this.scale.D4,
                    this.scale.E5
                ];

                this.playArpeggio(arpFreqs, 0, 0.06);

                setTimeout(() => {
                    this.playNoise(0.2, 2000, 0);
                    this.playPhrase(this.scale.E2, 0, 0.5, {
                        a: 0.01,
                        d: 0.1,
                        s: 0.8,
                        r: 0.3
                    }, true, 'triangle');
                }, 400);
            }

            playEnergyCharge() {
                // Ascending pitch bend with chorus effect
                this.playFrequencySweep(164, 659, 2, 0);

                // Detuned oscillators for chorus
                setTimeout(() => {
                    this.playPhrase(329.63 * 1.01, -0.3, 1.5, {
                        a: 0.1,
                        d: 0.3,
                        s: 0.6,
                        r: 0.4
                    }, true);
                    this.playPhrase(329.63 * 0.99, 0.3, 1.5, {
                        a: 0.1,
                        d: 0.3,
                        s: 0.6,
                        r: 0.4
                    }, true);
                }, 100);
            }

            playImpact() {
                // Bass drop + high frequency "ting" + noise burst
                this.playPhrase(this.scale.E2, 0, 0.3, {
                    a: 0.001,
                    d: 0.05,
                    s: 0.7,
                    r: 0.2
                }, false, 'triangle');

                this.playPhrase(1000, 0, 0.1, {
                    a: 0.001,
                    d: 0.02,
                    s: 0.5,
                    r: 0.07
                }, true, 'sine');

                this.playNoise(0.15, 500, 0);
            }

            playScouter() {
                // Electronic beeps (440Hz square wave)
                for (let i = 0; i < 3; i++) {
                    setTimeout(() => {
                        this.playPhrase(440, 0, 0.05, {
                            a: 0.001,
                            d: 0.01,
                            s: 0.8,
                            r: 0.03
                        }, false, 'square');
                    }, i * 100);
                }
            }

            playPowerUp() {
                // Frequency sweep up
                this.playFrequencySweep(200, 800, 0.5, 0);
            }

            playCounterComplete() {
                // Impact frame sound
                this.playPhrase(100, 0, 0.1, {
                    a: 0.001,
                    d: 0.02,
                    s: 0.6,
                    r: 0.07
                }, false, 'triangle');

                this.playPhrase(2000, 0, 0.1, {
                    a: 0.001,
                    d: 0.02,
                    s: 0.6,
                    r: 0.07
                }, true, 'sine');
            }

            playMeterFill() {
                // Continuous rising pitch (used during counter animation)
                this.playFrequencySweep(164, 659, 3, 0);
            }

            playHoverCard(colonyIndex = 0) {
                // Soft sine wave (colony-specific note)
                const freq = this.colonyNotes[colonyIndex % this.colonyNotes.length];
                this.playPhrase(freq, 0, 0.3, {
                    a: 0.02,
                    d: 0.05,
                    s: 0.7,
                    r: 0.2
                }, true);
            }

            playParticleSpawn(x, y) {
                // Throttle particle sounds
                const now = Date.now();
                if (now - this.lastParticleSound < this.particleSoundThrottle) return;
                this.lastParticleSound = now;

                // Random pentatonic note with spatial panning
                const freq = this.colonyNotes[Math.floor(Math.random() * this.colonyNotes.length)];
                const pan = (x / window.innerWidth) * 2 - 1; // -1 to 1

                this.playPhrase(freq, pan, 0.1, {
                    a: 0.01,
                    d: 0.02,
                    s: 0.6,
                    r: 0.07
                }, false);
            }

            playTimelineReveal() {
                // Gentle chord (E + G + B)
                this.playChord([this.scale.E3, this.scale.G3, this.scale.B3], 0, 1.5);
            }

            playUltraInstinct() {
                // Full orchestral hit - all 7 colony frequencies
                this.playChord(this.colonyNotes, 0, 3);

                // Frequency sweep
                setTimeout(() => {
                    this.playFrequencySweep(100, 2000, 0.5, 0);
                }, 200);

                // Massive reverb explosion
                setTimeout(() => {
                    this.playNoise(1, 1000, 0);
                }, 500);
            }

            playAmbientDrone() {
                if (!this.enabled || !this.initialized) return;

                // Background drone - E2 + B2 fifth (very quiet)
                const playDrone = () => {
                    if (!this.enabled) return;

                    this.playPhrase(this.scale.E2, 0, 4, {
                        a: 1,
                        d: 0.5,
                        s: 0.02,
                        r: 1
                    }, true);

                    this.playPhrase(123.47, 0, 4, {
                        a: 1,
                        d: 0.5,
                        s: 0.02,
                        r: 1
                    }, true);

                    setTimeout(playDrone, 3000);
                };

                playDrone();
            }

            toggle() {
                this.enabled = !this.enabled;
                return this.enabled;
            }
        }

        // Initialize sound system
        const soundSystem = new DBZSoundSystem();
        let soundInitialized = false;

        // Add sound toggle button to scouter HUD
        const scouter = document.getElementById('scouter-hud');
        const soundToggle = document.createElement('div');
        soundToggle.id = 'sound-toggle';
        soundToggle.style.cssText = `
            margin-top: 10px;
            padding: 8px 12px;
            border: 1px solid var(--scouter-green);
            border-radius: 4px;
            cursor: pointer;
            text-align: center;
            transition: all 0.2s;
            user-select: none;
        `;
        soundToggle.innerHTML = `
            <span id="sound-icon" style="font-size: 16px; margin-right: 5px;">ðŸ”Š</span>
            <span id="sound-label" style="font-size: 10px;">SCOUTER AUDIO</span>
        `;
        scouter.appendChild(soundToggle);

        // Sound toggle interaction
        soundToggle.addEventListener('click', async () => {
            if (!soundInitialized) {
                await soundSystem.initialize();
                soundInitialized = true;
                soundSystem.playScouter();
            } else {
                const enabled = soundSystem.toggle();
                document.getElementById('sound-icon').textContent = enabled ? 'ðŸ”Š' : 'ðŸ”‡';
                if (enabled) soundSystem.playScouter();
            }

            // Visual feedback
            soundToggle.style.background = soundSystem.enabled ?
                'rgba(0, 255, 0, 0.2)' : 'transparent';
        });

        soundToggle.addEventListener('mouseenter', () => {
            soundToggle.style.borderColor = 'var(--ssj-gold)';
            soundToggle.style.transform = 'scale(1.05)';
        });

        soundToggle.addEventListener('mouseleave', () => {
            soundToggle.style.borderColor = 'var(--scouter-green)';
            soundToggle.style.transform = 'scale(1)';
        });

        // ===================================
        // INTEGRATE SOUNDS WITH INTERACTIONS
        // ===================================

        // Initialize sound on first user interaction
        let autoInitAttempted = false;
        const autoInitSound = async () => {
            if (!soundInitialized && !autoInitAttempted) {
                autoInitAttempted = true;
                await soundSystem.initialize();
                soundInitialized = true;
                document.getElementById('sound-icon').textContent = 'ðŸ”Š';
                soundToggle.style.background = 'rgba(0, 255, 0, 0.2)';
            }
        };

        // Auto-initialize sound on ANY user interaction (first gesture wins)
        document.addEventListener('mousemove', autoInitSound, { once: true });
        document.addEventListener('click', autoInitSound, { once: true });
        document.addEventListener('keydown', autoInitSound, { once: true });
        document.addEventListener('touchstart', autoInitSound, { once: true });

        // Power level click - Kamehameha!
        const originalPowerClick = powerLevelDisplay.onclick;
        powerLevelDisplay.addEventListener('click', async () => {
            await autoInitSound();
            soundSystem.playKamehameha();
        });

        // Stat card hover - soft colony notes
        statCards.forEach((card, index) => {
            const originalEnter = card.onmouseenter;
            card.addEventListener('mouseenter', async (e) => {
                await autoInitSound();
                soundSystem.playHoverCard(index);
            });

            const originalClick = card.onclick;
            card.addEventListener('click', async () => {
                await autoInitSound();
                soundSystem.playImpact();
            });
        });

        // Colony card interactions (reuse existing colonyCards variable)
        colonyCards.forEach((card, index) => {
            card.addEventListener('mouseenter', async () => {
                await autoInitSound();
                soundSystem.playHoverCard(index);
            });

            card.addEventListener('click', async () => {
                await autoInitSound();
                soundSystem.playImpact();
            });
        });

        // Timeline markers (reuse existing timelineMarkers variable)
        timelineMarkers.forEach((marker, index) => {
            marker.addEventListener('click', async () => {
                await autoInitSound();
                soundSystem.playTimelineReveal();
            });
        });

        // Particle spawn sounds (throttled, spatial)
        const originalSpawnParticles = spawnParticles;
        window.spawnParticles = function(x, y, count, color, depth) {
            originalSpawnParticles(x, y, count, color, depth);
            if (soundInitialized && soundSystem.enabled) {
                soundSystem.playParticleSpawn(x, y);
            }
        };

        // Counter completion sound
        const originalAnimateCounter = animateCounter;
        window.animateCounter = function(element, target, ...args) {
            const observer = new MutationObserver((mutations) => {
                const current = parseInt(element.textContent.replace(/,/g, ''));
                const targetNum = parseInt(target.replace(/,/g, ''));

                if (current === targetNum) {
                    if (soundInitialized && soundSystem.enabled) {
                        soundSystem.playCounterComplete();
                    }
                    observer.disconnect();
                }
            });

            observer.observe(element, { childList: true, characterData: true, subtree: true });
            originalAnimateCounter(element, target, ...args);
        };

        // Power level meter animation sound
        const originalAnimatePowerLevel = animatePowerLevel;
        let powerLevelSoundPlayed = false;
        window.animatePowerLevel = function() {
            if (!powerLevelSoundPlayed && soundInitialized && soundSystem.enabled) {
                soundSystem.playMeterFill();
                powerLevelSoundPlayed = true;
            }
            originalAnimatePowerLevel();
        };

        // Konami code - Ultra Instinct sound
        document.addEventListener('keydown', async (e) => {
            if (e.key === konamiCode[konamiIndex]) {
                konamiIndex++;
                if (konamiIndex === konamiCode.length) {
                    await autoInitSound();
                    soundSystem.playUltraInstinct();
                }
            }
        });

        // Scouter reading sounds (random beeps)
        setInterval(() => {
            if (soundInitialized && soundSystem.enabled && Math.random() < 0.1) {
                soundSystem.playScouter();
            }
        }, 5000);

    </script>
</body>
</html>
