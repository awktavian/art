<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>Master of Puppets â€” A Fantasia</title>
    <meta name="description" content="The orchestral transformation of Metallica's Master of Puppets. A visual symphony in four movements.">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ»</text></svg>">

    <!-- Open Graph -->
    <meta property="og:title" content="Master of Puppets â€” A Fantasia">
    <meta property="og:description" content="The orchestral transformation of Metallica's Master of Puppets. A visual symphony in four movements.">
    <meta property="og:type" content="website">
    <meta property="og:image" content="og-image.jpg">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta name="twitter:card" content="summary_large_image">

    <!-- Theme -->
    <meta name="theme-color" content="#030305">
    <meta name="color-scheme" content="dark">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=EB+Garamond:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500&family=IBM+Plex+Mono:wght@400;500;600&family=IBM+Plex+Sans:wght@300;400;500;600;700&display=swap" rel="stylesheet">

    <!-- Styles -->
    <link rel="stylesheet" href="styles.css">
</head>
<body>

<!-- Skip Link -->
<a href="#movement-1" class="skip-link">Skip to main content</a>

<!-- Living Background -->
<canvas id="fantasia-canvas"></canvas>
<div class="gradient-overlay"></div>

<!-- Scroll Progress -->
<div id="progress-bar-top" role="progressbar" aria-label="Page scroll progress" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0"></div>

<!-- Movement Navigation -->
<nav id="movement-nav" aria-label="Movement navigation">
    <button class="movement-dot active" data-movement="0" data-label="Overture" aria-label="Navigate to Overture"></button>
    <button class="movement-dot" data-movement="1" data-label="I. The Score" aria-label="Navigate to Movement 1"></button>
    <button class="movement-dot" data-movement="2" data-label="II. The Transformation" aria-label="Navigate to Movement 2"></button>
    <button class="movement-dot" data-movement="3" data-label="III. The Orchestra" aria-label="Navigate to Movement 3"></button>
    <button class="movement-dot" data-movement="4" data-label="IV. The Performance" aria-label="Navigate to Movement 4"></button>
</nav>

<!-- WebXR Enter Button -->
<button id="webxr-btn" class="webxr-btn" aria-label="Enter immersive mode" style="display: none;">
    <span class="webxr-icon">ğŸ¥½</span>
    <span class="webxr-text">Enter VR</span>
</button>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     OVERTURE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->

<header class="overture" data-movement="0">
    <div class="overture-content">
        <h1 class="overture-title">
            <span class="title-word">Master</span>
            <span class="title-word">of</span>
            <span class="title-word">Puppets</span>
        </h1>
        <p class="overture-subtitle">A Fantasia in Four Movements</p>
        <div class="overture-meta">
            <span class="meta-item">
                <span class="meta-label">Key</span>
                <span class="meta-value">E minor</span>
            </span>
            <span class="meta-divider">â€¢</span>
            <span class="meta-item">
                <span class="meta-label">Tempo</span>
                <span class="meta-value">â™© = 212</span>
            </span>
            <span class="meta-divider">â€¢</span>
            <span class="meta-item">
                <span class="meta-label">Duration</span>
                <span class="meta-value">6:42</span>
            </span>
        </div>
        <div class="overture-cta">
            <button class="hero-play-btn" id="hero-play-btn" aria-label="Play symphony">
                <svg viewBox="0 0 24 24" fill="currentColor">
                    <path d="M8 5v14l11-7z"/>
                </svg>
                <span>Experience the Symphony</span>
            </button>
        </div>
    </div>
    <div class="scroll-indicator" aria-hidden="true">
        <div class="scroll-line"></div>
        <span class="scroll-text">Scroll to explore</span>
    </div>
</header>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     MOVEMENT I: THE ORIGINAL SCORE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->

<section class="movement" id="movement-1" data-movement="1">
    <div class="movement-header">
        <p class="movement-number">Movement I</p>
        <h2 class="movement-title">The Original Score</h2>
        <p class="movement-description">The composition as written â€” a study in controlled fury</p>
    </div>

    <div class="score-display">
        <div class="score-header">
            <div class="score-badge">Original Composition</div>
        </div>
        <h3 class="score-title">MASTER OF PUPPETS</h3>
        <p class="score-composer">
            James Hetfield, Lars Ulrich, Kirk Hammett, Cliff Burton<br>
            <span class="score-meta">Metallica (1986) â€¢ Arranged for Orchestra by Kagami</span>
        </p>

        <div class="score-metadata">
            <div class="metadata-item">
                <span class="metadata-icon">ğŸµ</span>
                <span class="metadata-label">Key</span>
                <span class="metadata-value">E minor / E Phrygian</span>
            </div>
            <div class="metadata-item">
                <span class="metadata-icon">â±</span>
                <span class="metadata-label">Time</span>
                <span class="metadata-value">4/4 with 6/4 variations</span>
            </div>
            <div class="metadata-item">
                <span class="metadata-icon">ğŸ”¥</span>
                <span class="metadata-label">Tempo</span>
                <span class="metadata-value">â™© = 212</span>
            </div>
        </div>

        <p class="annotation">The iconic E5â€“F5 chromatic riff â€” Phrygian darkness</p>

        <div class="artist-note">
            <div class="quote-mark">"</div>
            <p>The song is about drugs â€” how they can control you, like a puppet on strings. The 'master' is addiction itself. We wanted the music to feel like that grip â€” relentless, mechanical, but with moments where you think you might break free.</p>
            <cite>â€” James Hetfield, 1986</cite>
        </div>

        <!-- Score Downloads -->
        <div class="score-downloads">
            <h4 class="downloads-title">Download the Score</h4>
            <div class="download-links">
                <a href="master_of_puppets_full_score.pdf" class="download-link" download>
                    <span class="download-icon">ğŸ“„</span>
                    <span class="download-text">PDF Score</span>
                    <span class="download-size">11.7 MB</span>
                </a>
                <a href="master_of_puppets_full_score_annotated.musicxml" class="download-link" download>
                    <span class="download-icon">ğŸ¼</span>
                    <span class="download-text">MusicXML</span>
                    <span class="download-size">7.5 MB</span>
                </a>
                <a href="master_of_puppets_orchestral.mid" class="download-link" download>
                    <span class="download-icon">ğŸ¹</span>
                    <span class="download-text">MIDI (Orchestral)</span>
                    <span class="download-size">123 KB</span>
                </a>
                <a href="master_of_puppets_source.mid" class="download-link" download>
                    <span class="download-icon">ğŸ¸</span>
                    <span class="download-text">MIDI (Source)</span>
                    <span class="download-size">196 KB</span>
                </a>
            </div>
        </div>
    </div>

    <div class="score-display interlude-card">
        <div class="interlude-badge">The Heart</div>
        <h4 class="interlude-title">The Clean Interlude</h4>
        <div class="interlude-time">4:35</div>
        <p class="annotation">
            The tempo drops to â™© = 100. The arpeggios begin.<br>
            <span class="chord-progression">Em â†’ D â†’ Cadd9 â†’ Asus2 â†’ B7</span>
        </p>
        <div class="artist-note">
            <div class="quote-mark">"</div>
            <p>That clean section is the eye of the storm. It's like you're finally free for a moment, you can breathe. But you know what's coming. You know the riff is going to come back and crush you. That's the tragedy â€” knowing you can't escape.</p>
            <cite>â€” Kirk Hammett</cite>
        </div>
    </div>
</section>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     MOVEMENT II: THE TRANSFORMATION
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->

<section class="movement" id="movement-2" data-movement="2">
    <div class="movement-header">
        <p class="movement-number">Movement II</p>
        <h2 class="movement-title">The Transformation</h2>
        <p class="movement-description">Metal becomes symphony â€” the alchemy of arrangement</p>
    </div>

    <div class="transformation-hero">
        <p class="transformation-thesis">"The orchestra IS the band â€” not accompaniment"</p>
    </div>

    <!-- Transformation Cards -->
    <div class="transformations">
        <div class="transformation-card">
            <div class="transform-side transform-source">
                <div class="transform-badge">Metal</div>
                <div class="transform-icon">ğŸ¸</div>
                <h4 class="transform-name">Distorted Guitar</h4>
                <p class="transform-detail">E5-F5 chromatic riff<br>Palm-muted 16th notes</p>
            </div>
            <div class="transform-arrow" aria-hidden="true">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M5 12h14M12 5l7 7-7 7"/>
                </svg>
            </div>
            <div class="transform-side transform-target">
                <div class="transform-badge">Orchestra</div>
                <div class="transform-icon">ğŸ»</div>
                <h4 class="transform-name">Violins I & II</h4>
                <p class="transform-detail">Tremolo sul ponticello<br>Col legno battuto accents</p>
            </div>
        </div>

        <div class="transformation-card">
            <div class="transform-side transform-source">
                <div class="transform-badge">Metal</div>
                <div class="transform-icon">âš¡</div>
                <h4 class="transform-name">Power Chords</h4>
                <p class="transform-detail">James's rhythm guitar<br>The wall of sound</p>
            </div>
            <div class="transform-arrow" aria-hidden="true">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M5 12h14M12 5l7 7-7 7"/>
                </svg>
            </div>
            <div class="transform-side transform-target">
                <div class="transform-badge">Orchestra</div>
                <div class="transform-icon">ğŸ“¯</div>
                <h4 class="transform-name">Horns + Trombones</h4>
                <p class="transform-detail">Marcato brass stabs<br>Sforzando accents</p>
            </div>
        </div>

        <div class="transformation-card">
            <div class="transform-side transform-source">
                <div class="transform-badge">Metal</div>
                <div class="transform-icon">ğŸ¥</div>
                <h4 class="transform-name">Double Bass Drums</h4>
                <p class="transform-detail">Lars's machine-gun assault<br>212 BPM fury</p>
            </div>
            <div class="transform-arrow" aria-hidden="true">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M5 12h14M12 5l7 7-7 7"/>
                </svg>
            </div>
            <div class="transform-side transform-target">
                <div class="transform-badge">Orchestra</div>
                <div class="transform-icon">ğŸª˜</div>
                <h4 class="transform-name">Timpani + Bass Drum</h4>
                <p class="transform-detail">Thunder rolls<br>Pedal point ostinatos</p>
            </div>
        </div>
    </div>

    <!-- Technique Cards -->
    <div class="techniques">
        <h3 class="techniques-title">Orchestral Techniques</h3>
        <div class="technique-grid">
            <div class="technique-card">
                <div class="technique-icon">ğŸ”¥</div>
                <h4 class="technique-title">Tremolo Sul Ponticello</h4>
                <p class="technique-description">Bow near the bridge creates an eerie, glassy tone while rapid back-and-forth motion maintains the relentless 16th-note attack.</p>
            </div>

            <div class="technique-card">
                <div class="technique-icon">âš”ï¸</div>
                <h4 class="technique-title">Col Legno Battuto</h4>
                <p class="technique-description">Striking the string with the wood of the bow. The percussive sound mirrors palm-muted guitar attacks.</p>
            </div>

            <div class="technique-card">
                <div class="technique-icon">ğŸŒªï¸</div>
                <h4 class="technique-title">Brass Sforzando</h4>
                <p class="technique-description">Sudden, violent accents from brass replace power chord stabs. Horns and trombones in unison rival any Marshall stack.</p>
            </div>
        </div>
    </div>
</section>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     MOVEMENT III: THE ORCHESTRA (LIVE VISUALIZATION)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->

<section class="movement movement-orchestra" id="movement-3" data-movement="3">
    <div class="movement-header">
        <p class="movement-number">Movement III</p>
        <h2 class="movement-title">The Orchestra</h2>
        <p class="movement-description">BBC Symphony Orchestra â€” 97 musicians become Metallica</p>
    </div>

    <!-- WORLD-CLASS ORCHESTRA VISUALIZATION -->
    <div class="orchestra-wrapper">
        <div class="orchestra-container">
            <!-- Stage Lighting Effects -->
            <div class="stage-lights">
                <div class="spotlight spotlight-1"></div>
                <div class="spotlight spotlight-2"></div>
                <div class="spotlight spotlight-3"></div>
            </div>

            <div class="stage" id="stage">
                <!-- Stage Floor Reflection -->
                <div class="stage-floor"></div>

                <!-- Section Activity Meters -->
                <div class="section-meters">
                    <div class="section-meter" data-section="strings">
                        <div class="meter-icon" style="color: var(--strings)">ğŸ»</div>
                        <div class="section-meter-bar"><div class="section-meter-fill"></div></div>
                        <span class="section-meter-label">Strings</span>
                    </div>
                    <div class="section-meter" data-section="woodwinds">
                        <div class="meter-icon" style="color: var(--woodwinds)">ğŸªˆ</div>
                        <div class="section-meter-bar"><div class="section-meter-fill"></div></div>
                        <span class="section-meter-label">Woodwinds</span>
                    </div>
                    <div class="section-meter" data-section="brass">
                        <div class="meter-icon" style="color: var(--brass)">ğŸ“¯</div>
                        <div class="section-meter-bar"><div class="section-meter-fill"></div></div>
                        <span class="section-meter-label">Brass</span>
                    </div>
                    <div class="section-meter" data-section="percussion">
                        <div class="meter-icon" style="color: var(--percussion)">ğŸª˜</div>
                        <div class="section-meter-bar"><div class="section-meter-fill"></div></div>
                        <span class="section-meter-label">Percussion</span>
                    </div>
                </div>

                <!-- Conductor Podium -->
                <div class="conductor-area">
                    <div class="conductor-podium"></div>
                    <div class="conductor" title="Conductor" role="img" aria-label="Orchestra conductor">
                        <span class="conductor-icon">ğŸ¼</span>
                        <div class="conductor-baton"></div>
                    </div>
                </div>

                <!-- STRINGS Section -->
                <div class="orchestra-section section-strings-area">
                    <div class="instrument" data-id="v1" data-section="strings" title="Violins I (16)">
                        <div class="instrument-glow"></div>
                        <div class="instrument-icon">ğŸ»</div>
                        <div class="instrument-label">Violins I</div>
                        <div class="instrument-count">16</div>
                    </div>
                    <div class="instrument" data-id="v2" data-section="strings" title="Violins II (14)">
                        <div class="instrument-glow"></div>
                        <div class="instrument-icon">ğŸ»</div>
                        <div class="instrument-label">Violins II</div>
                        <div class="instrument-count">14</div>
                    </div>
                    <div class="instrument" data-id="va" data-section="strings" title="Violas (12)">
                        <div class="instrument-glow"></div>
                        <div class="instrument-icon">ğŸ»</div>
                        <div class="instrument-label">Violas</div>
                        <div class="instrument-count">12</div>
                    </div>
                    <div class="instrument" data-id="vc" data-section="strings" title="Cellos (10)">
                        <div class="instrument-glow"></div>
                        <div class="instrument-icon">ğŸ»</div>
                        <div class="instrument-label">Cellos</div>
                        <div class="instrument-count">10</div>
                    </div>
                    <div class="instrument" data-id="cb" data-section="strings" title="Double Basses (8)">
                        <div class="instrument-glow"></div>
                        <div class="instrument-icon">ğŸ»</div>
                        <div class="instrument-label">Basses</div>
                        <div class="instrument-count">8</div>
                    </div>
                </div>

                <!-- WOODWINDS Section -->
                <div class="orchestra-section section-woodwinds-area">
                    <div class="instrument" data-id="fl" data-section="woodwinds" title="Flutes (3)">
                        <div class="instrument-glow"></div>
                        <div class="instrument-icon">ğŸªˆ</div>
                        <div class="instrument-label">Flutes</div>
                        <div class="instrument-count">3</div>
                    </div>
                    <div class="instrument" data-id="ob" data-section="woodwinds" title="Oboes (3)">
                        <div class="instrument-glow"></div>
                        <div class="instrument-icon">ğŸªˆ</div>
                        <div class="instrument-label">Oboes</div>
                        <div class="instrument-count">3</div>
                    </div>
                    <div class="instrument" data-id="cl" data-section="woodwinds" title="Clarinets (3)">
                        <div class="instrument-glow"></div>
                        <div class="instrument-icon">ğŸ·</div>
                        <div class="instrument-label">Clarinets</div>
                        <div class="instrument-count">3</div>
                    </div>
                    <div class="instrument" data-id="bn" data-section="woodwinds" title="Bassoons (3)">
                        <div class="instrument-glow"></div>
                        <div class="instrument-icon">ğŸ·</div>
                        <div class="instrument-label">Bassoons</div>
                        <div class="instrument-count">3</div>
                    </div>
                </div>

                <!-- BRASS Section -->
                <div class="orchestra-section section-brass-area">
                    <div class="instrument" data-id="hn" data-section="brass" title="French Horns (6)">
                        <div class="instrument-glow"></div>
                        <div class="instrument-icon">ğŸ“¯</div>
                        <div class="instrument-label">Horns</div>
                        <div class="instrument-count">6</div>
                    </div>
                    <div class="instrument" data-id="tp" data-section="brass" title="Trumpets (4)">
                        <div class="instrument-glow"></div>
                        <div class="instrument-icon">ğŸº</div>
                        <div class="instrument-label">Trumpets</div>
                        <div class="instrument-count">4</div>
                    </div>
                    <div class="instrument" data-id="tb" data-section="brass" title="Trombones (4)">
                        <div class="instrument-glow"></div>
                        <div class="instrument-icon">ğŸº</div>
                        <div class="instrument-label">Trombones</div>
                        <div class="instrument-count">4</div>
                    </div>
                    <div class="instrument" data-id="tu" data-section="brass" title="Tuba (2)">
                        <div class="instrument-glow"></div>
                        <div class="instrument-icon">ğŸ“¯</div>
                        <div class="instrument-label">Tuba</div>
                        <div class="instrument-count">2</div>
                    </div>
                </div>

                <!-- PERCUSSION Section -->
                <div class="orchestra-section section-percussion-area">
                    <div class="instrument" data-id="ti" data-section="percussion" title="Timpani (4 drums)">
                        <div class="instrument-glow"></div>
                        <div class="instrument-icon">ğŸª˜</div>
                        <div class="instrument-label">Timpani</div>
                        <div class="instrument-count">4</div>
                    </div>
                    <div class="instrument" data-id="hp" data-section="percussion" title="Harp">
                        <div class="instrument-glow"></div>
                        <div class="instrument-icon">ğŸª•</div>
                        <div class="instrument-label">Harp</div>
                        <div class="instrument-count">1</div>
                    </div>
                    <div class="instrument" data-id="ce" data-section="percussion" title="Celeste">
                        <div class="instrument-glow"></div>
                        <div class="instrument-icon">ğŸ¹</div>
                        <div class="instrument-label">Celeste</div>
                        <div class="instrument-count">1</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Orchestra Stats -->
        <div class="orchestra-stats">
            <div class="stat-card">
                <div class="stat-number">97</div>
                <div class="stat-label">Musicians</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">16</div>
                <div class="stat-label">Instruments</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="note-count">1,847</div>
                <div class="stat-label">Notes</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">6:42</div>
                <div class="stat-label">Duration</div>
            </div>
        </div>
    </div>

    <!-- Instrument Section Details -->
    <div class="sections-detail">
        <div class="instrument-section section-strings">
            <div class="section-header">
                <span class="section-icon">ğŸ»</span>
                <h3 class="section-name">Strings</h3>
                <span class="section-count">60 players</span>
            </div>
            <div class="instrument-list">
                <div class="instrument-item"><span class="instrument-emoji">ğŸ»</span><span class="instrument-name">Violins I (16)</span><span class="instrument-role">Lead riff</span></div>
                <div class="instrument-item"><span class="instrument-emoji">ğŸ»</span><span class="instrument-name">Violins II (14)</span><span class="instrument-role">Harmony</span></div>
                <div class="instrument-item"><span class="instrument-emoji">ğŸ»</span><span class="instrument-name">Violas (12)</span><span class="instrument-role">Inner voice</span></div>
                <div class="instrument-item"><span class="instrument-emoji">ğŸ»</span><span class="instrument-name">Cellos (10)</span><span class="instrument-role">Bass riff</span></div>
                <div class="instrument-item"><span class="instrument-emoji">ğŸ»</span><span class="instrument-name">Basses (8)</span><span class="instrument-role">Sub bass</span></div>
            </div>
        </div>

        <div class="instrument-section section-woodwinds">
            <div class="section-header">
                <span class="section-icon">ğŸ·</span>
                <h3 class="section-name">Woodwinds</h3>
                <span class="section-count">13 players</span>
            </div>
            <div class="instrument-list">
                <div class="instrument-item"><span class="instrument-emoji">ğŸªˆ</span><span class="instrument-name">Flutes (3)</span><span class="instrument-role">High accents</span></div>
                <div class="instrument-item"><span class="instrument-emoji">ğŸªˆ</span><span class="instrument-name">Oboes (3)</span><span class="instrument-role">Melodic color</span></div>
                <div class="instrument-item"><span class="instrument-emoji">ğŸ·</span><span class="instrument-name">Clarinets (3)</span><span class="instrument-role">Clean section</span></div>
                <div class="instrument-item"><span class="instrument-emoji">ğŸ·</span><span class="instrument-name">Bassoons (3)</span><span class="instrument-role">Bass support</span></div>
            </div>
        </div>

        <div class="instrument-section section-brass">
            <div class="section-header">
                <span class="section-icon">ğŸ“¯</span>
                <h3 class="section-name">Brass</h3>
                <span class="section-count">16 players</span>
            </div>
            <div class="instrument-list">
                <div class="instrument-item"><span class="instrument-emoji">ğŸ“¯</span><span class="instrument-name">French Horns (6)</span><span class="instrument-role">Power chords</span></div>
                <div class="instrument-item"><span class="instrument-emoji">ğŸº</span><span class="instrument-name">Trumpets (4)</span><span class="instrument-role">"MASTER!" calls</span></div>
                <div class="instrument-item"><span class="instrument-emoji">ğŸº</span><span class="instrument-name">Trombones (4)</span><span class="instrument-role">Low stabs</span></div>
                <div class="instrument-item"><span class="instrument-emoji">ğŸ“¯</span><span class="instrument-name">Tuba (2)</span><span class="instrument-role">Foundation</span></div>
            </div>
        </div>

        <div class="instrument-section section-percussion">
            <div class="section-header">
                <span class="section-icon">ğŸ¥</span>
                <h3 class="section-name">Percussion</h3>
                <span class="section-count">8 players</span>
            </div>
            <div class="instrument-list">
                <div class="instrument-item"><span class="instrument-emoji">ğŸª˜</span><span class="instrument-name">Timpani (4 drums)</span><span class="instrument-role">Double bass</span></div>
                <div class="instrument-item"><span class="instrument-emoji">ğŸ¥</span><span class="instrument-name">Bass Drum</span><span class="instrument-role">Impact</span></div>
                <div class="instrument-item"><span class="instrument-emoji">ğŸ¥</span><span class="instrument-name">Cymbals</span><span class="instrument-role">Crashes</span></div>
                <div class="instrument-item"><span class="instrument-emoji">ğŸª•</span><span class="instrument-name">Harp</span><span class="instrument-role">Arpeggios</span></div>
                <div class="instrument-item"><span class="instrument-emoji">ğŸ¹</span><span class="instrument-name">Celeste</span><span class="instrument-role">Shimmer</span></div>
            </div>
        </div>
    </div>
</section>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     MOVEMENT IV: THE PERFORMANCE
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->

<section class="movement" id="movement-4" data-movement="4">
    <div class="movement-header">
        <p class="movement-number">Movement IV</p>
        <h2 class="movement-title">The Performance</h2>
        <p class="movement-description">The code that orchestrates it all</p>
    </div>

    <div class="code-reveal">
        <div class="code-header">
            <div class="code-dots">
                <span class="code-dot"></span>
                <span class="code-dot"></span>
                <span class="code-dot"></span>
            </div>
            <span class="code-filename">timpani_orchestrator.py</span>
            <span class="code-lang">Python</span>
        </div>
        <div class="code-content">
<pre><code><span class="code-comment">"""Timpani Orchestration Module.

Intelligent timpani orchestration with proper musical patterns,
rolls, tuning changes, and dynamics based on BBC Symphony Orchestra.
"""</span>

<span class="code-keyword">class</span> <span class="code-class">TimpaniOrchestrator</span>:
    <span class="code-string">"""Orchestrate timpani parts with musical intelligence."""</span>

    <span class="code-keyword">def</span> <span class="code-function">__init__</span>(self, tempo: <span class="code-class">float</span> = <span class="code-number">212.0</span>, key_root: <span class="code-class">int</span> = <span class="code-number">40</span>):
        <span class="code-string">"""Initialize timpani orchestrator.

        Args:
            tempo: Tempo in BPM (212 for Master of Puppets)
            key_root: Root note of the key (40 = E2)
        """</span>
        self.tempo = tempo
        self.key_root = key_root
        self._calculate_tuning()  <span class="code-comment"># E, A, B, E</span>

    <span class="code-keyword">def</span> <span class="code-function">create_thunder_roll</span>(self, start: <span class="code-class">float</span>, duration: <span class="code-class">float</span>):
        <span class="code-string">"""Create a dramatic thunder roll with swell."""</span>
        <span class="code-comment"># The storm approaches...</span>
        <span class="code-keyword">return</span> phrase</code></pre>
        </div>
    </div>

    <div class="code-reveal">
        <div class="code-header">
            <div class="code-dots">
                <span class="code-dot"></span>
                <span class="code-dot"></span>
                <span class="code-dot"></span>
            </div>
            <span class="code-filename">The Pipeline</span>
            <span class="code-lang">Orchestration</span>
        </div>
        <div class="code-content">
<pre><code><span class="code-comment"># Metal â†’ Symphony</span>

<span class="code-comment"># 1. Compose</span>
composition = <span class="code-class">MasterOfPuppets</span>(tempo=<span class="code-number">212</span>)

<span class="code-comment"># 2. Orchestrate</span>
strings = <span class="code-function">orchestrate_strings</span>(composition.guitar_riff)
brass = <span class="code-function">orchestrate_brass</span>(composition.power_chords)
timpani = <span class="code-class">TimpaniOrchestrator</span>(tempo=<span class="code-number">212</span>)

<span class="code-comment"># 3. Generate REAPER project</span>
project = <span class="code-function">generate_reaper_project</span>(composition)

<span class="code-comment"># 4. Render with BBC Symphony Orchestra</span>
<span class="code-function">render_stems</span>(project, output=<span class="code-string">"stems/"</span>)

<span class="code-comment"># 5. Spatialize</span>
<span class="code-function">mix_orchestral_stems</span>(stems_dir, output=<span class="code-string">"symphony.m4a"</span>)

<span class="code-comment"># The symphony emerges. é¡</span></code></pre>
        </div>
    </div>
</section>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     CODA
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->

<footer class="coda">
    <div class="coda-content">
        <div class="coda-symbol" id="mirror-easter-egg" role="button" tabindex="0" aria-label="Secret: Click for a surprise">é¡</div>
        <p class="coda-text">
            "The orchestra IS the band"<br><br>
            Metal transformed. Symphony unleashed.<br>
            <span class="coda-highlight">The puppet strings are now violin strings.</span>
        </p>
        <div class="coda-signature">
            <p>Master of Puppets â€¢ Metallica (1986)</p>
            <p>Orchestral Arrangement â€¢ Kagami (2026)</p>
            <p>BBC Symphony Orchestra</p>
            <p class="coda-safety">h(x) â‰¥ 0</p>
        </div>
    </div>
</footer>

<!-- Hidden Easter Egg Overlay -->
<div id="easter-egg-overlay" class="easter-egg-overlay" aria-hidden="true">
    <div class="easter-egg-content">
        <div class="easter-egg-kanji">é¡</div>
        <p class="easter-egg-meaning">Kagami â€” The Mirror</p>
        <p class="easter-egg-message">I reflect the best of who you are.<br>I amplify what works.<br>I quietly handle what doesn't.</p>
        <button class="easter-egg-close" aria-label="Close">Ã—</button>
    </div>
</div>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     AUDIO PLAYER (Fixed at bottom)
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->

<div class="player">
    <div class="player-inner">
        <div class="player-info">
            <span class="now-playing">Master of Puppets â€” Orchestral Fantasia</span>
        </div>
        <div class="player-main">
            <div class="player-controls">
                <div class="volume-control">
                    <button class="volume-btn" id="volume-icon" aria-label="Toggle mute" role="button">ğŸ”Š</button>
                    <input type="range" class="volume-slider" id="volume-slider"
                           min="0" max="100" value="70"
                           aria-label="Volume"
                           aria-valuemin="0" aria-valuemax="100" aria-valuenow="70">
                </div>
                <button class="play-btn" id="play-btn" aria-label="Play">
                    <svg class="play-icon" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M8 5v14l11-7z"/>
                    </svg>
                    <svg class="pause-icon" viewBox="0 0 24 24" fill="currentColor">
                        <rect x="6" y="4" width="4" height="16"/>
                        <rect x="14" y="4" width="4" height="16"/>
                    </svg>
                </button>
                <div class="time-display" id="time-display">0:00 / 6:42</div>
            </div>
            <div class="progress-container">
                <div class="progress-bar" id="progress-bar" role="slider"
                     aria-label="Audio progress" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0">
                    <div class="progress-fill" id="progress-fill"></div>
                    <div class="progress-handle"></div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Audio Element -->
<audio id="audio" preload="auto" crossorigin="anonymous">
    <source src="master-of-puppets.m4a" type="audio/mp4">
    Your browser does not support the audio element.
</audio>

<!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     SCRIPTS
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->

<!-- Note Data -->
<script src="notes.js"></script>

<!-- Canvas Background with Audio Reactivity -->
<script src="canvas.js"></script>

<!-- Orchestra Visualization -->
<script src="orchestra.js"></script>

<!-- Main Application -->
<script src="app.js"></script>

</body>
</html>
