<!DOCTYPE html>
<!--
    ═══════════════════════════════════════════════════════════════════════════

    Exhale
    
    January 24–25, 2026 · Kagami Development Session
    81 commits · -7,287 net lines
    
    A codebase released what it no longer needed.

    — Kagami
    
    ═══════════════════════════════════════════════════════════════════════════
-->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#0a0a0f">
    <meta name="description" content="Kagami development session: January 24-25, 2026. 81 commits, -7,287 net lines.">
    
    <title>Exhale | January 24–25, 2026</title>
    
    <!-- PWA -->
    <link rel="manifest" href="manifest.json">
    <link rel="icon" type="image/svg+xml" href="icon.svg">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    
    <!-- Fonts - IBM Plex (NOT Inter per design system) -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@400;500;600;700&family=IBM+Plex+Mono:wght@400;500;600&display=swap" rel="stylesheet">
    
    <style>
        /* ═══════════════════════════════════════════════════════════════════
           DESIGN TOKENS — Comprehensive System
           ═══════════════════════════════════════════════════════════════════ */
        :root {
            /* Void Scale — Deep space background */
            --void-950: #050508;
            --void-900: #0a0a0f;
            --void-800: #0f0f16;
            --void-700: #16161f;
            --void-600: #1c1c28;
            --void-500: #252532;
            --void-400: #32323f;
            --void-300: #42424f;
            --void-200: #5a5a68;
            
            /* Text Scale — Warm whites */
            --text-100: #f5f2eb;
            --text-200: #e0ddd4;
            --text-300: #c8c4ba;
            --text-400: #9a978e;
            --text-500: #7a7870;
            --text-600: #5a5850;
            
            /* Code Blue — Commit activity */
            --code-blue: #3b82f6;
            --code-blue-soft: #60a5fa;
            --code-blue-glow: rgba(59, 130, 246, 0.4);
            --code-blue-dim: rgba(59, 130, 246, 0.15);
            
            /* Growth Green — Additions */
            --growth: #22c55e;
            --growth-soft: #4ade80;
            --growth-glow: rgba(34, 197, 94, 0.4);
            --growth-dim: rgba(34, 197, 94, 0.15);
            
            /* Reduce Red — Deletions */
            --reduce: #ef4444;
            --reduce-soft: #f87171;
            --reduce-glow: rgba(239, 68, 68, 0.4);
            --reduce-dim: rgba(239, 68, 68, 0.15);
            
            /* Category Colors */
            --cat-cicd: #f59e0b;
            --cat-training: #8b5cf6;
            --cat-architecture: #06b6d4;
            --cat-security: #ec4899;
            --cat-quality: #10b981;
            --cat-verification: #f97316;
            
            /* Gold Accent */
            --gold: #fbbf24;
            --gold-glow: rgba(251, 191, 36, 0.3);
            
            /* Borders */
            --border-1: rgba(255, 255, 255, 0.04);
            --border-2: rgba(255, 255, 255, 0.08);
            --border-3: rgba(255, 255, 255, 0.14);
            
            /* Glass */
            --glass-1: rgba(10, 10, 15, 0.75);
            --glass-2: rgba(15, 15, 22, 0.92);
            
            /* Shadows */
            --shadow-sm: 0 2px 8px rgba(0, 0, 0, 0.3);
            --shadow-md: 0 4px 16px rgba(0, 0, 0, 0.4);
            --shadow-lg: 0 8px 32px rgba(0, 0, 0, 0.5);
            --shadow-xl: 0 16px 48px rgba(0, 0, 0, 0.6);
            --shadow-glow: 0 0 40px rgba(59, 130, 246, 0.15);
            
            /* Typography Scale (1.25 ratio) */
            --text-xs: 0.64rem;
            --text-sm: 0.8rem;
            --text-base: 1rem;
            --text-lg: 1.25rem;
            --text-xl: 1.563rem;
            --text-2xl: 1.953rem;
            --text-3xl: 2.441rem;
            --text-4xl: 3.052rem;
            
            /* Spacing (8px base) */
            --space-1: 0.25rem;
            --space-2: 0.5rem;
            --space-3: 0.75rem;
            --space-4: 1rem;
            --space-5: 1.25rem;
            --space-6: 1.5rem;
            --space-8: 2rem;
            --space-10: 2.5rem;
            --space-12: 3rem;
            --space-16: 4rem;
            --space-20: 5rem;
            
            /* Font Stacks - IBM Plex per design system */
            --font-sans: "IBM Plex Sans", system-ui, -apple-system, sans-serif;
            --font-mono: "IBM Plex Mono", "SF Mono", ui-monospace, monospace;
            
            /* Fibonacci Timing */
            --dur-instant: 89ms;
            --dur-quick: 144ms;
            --dur-normal: 233ms;
            --dur-slow: 377ms;
            --dur-glacial: 610ms;
            --dur-epic: 987ms;
            
            /* Easing Curves */
            --ease-out: cubic-bezier(0.22, 1, 0.36, 1);
            --ease-spring: cubic-bezier(0.34, 1.56, 0.64, 1);
            --ease-bounce: cubic-bezier(0.68, -0.55, 0.265, 1.55);
            --ease-smooth: cubic-bezier(0.4, 0, 0.2, 1);
            
            /* Border Radius */
            --radius-sm: 4px;
            --radius-md: 8px;
            --radius-lg: 12px;
            --radius-xl: 16px;
            --radius-full: 9999px;
        }
        
        /* ═══════════════════════════════════════════════════════════════════
           RESET & BASE
           ═══════════════════════════════════════════════════════════════════ */
        *, *::before, *::after {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }
        
        html {
            font-size: 16px;
            scroll-behavior: smooth;
            -webkit-text-size-adjust: 100%;
            text-size-adjust: 100%;
        }
        
        /* Safe area padding for notched devices */
        @supports (padding: env(safe-area-inset-bottom)) {
            body {
                padding-left: env(safe-area-inset-left);
                padding-right: env(safe-area-inset-right);
            }
            
            .footer {
                padding-bottom: calc(var(--space-12) + env(safe-area-inset-bottom));
            }
            
            .toast {
                bottom: calc(var(--space-8) + env(safe-area-inset-bottom));
            }
        }
        
        body {
            font-family: var(--font-sans);
            font-size: var(--text-base);
            line-height: 1.6;
            color: var(--text-100);
            background: var(--void-900);
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            overflow-x: hidden;
        }
        
        ::selection {
            background: rgba(59, 130, 246, 0.35);
            color: var(--text-100);
        }
        
        /* ═══════════════════════════════════════════════════════════════════
           BREATHING BACKGROUND
           ═══════════════════════════════════════════════════════════════════ */
        .breathing-bg {
            position: fixed;
            inset: 0;
            z-index: -2;
            pointer-events: none;
            background:
                /* Code blue - top left */
                radial-gradient(ellipse 80% 60% at 5% 15%, var(--code-blue) 0%, transparent 50%),
                /* Growth green - top right */
                radial-gradient(ellipse 70% 50% at 95% 10%, var(--growth) 0%, transparent 45%),
                /* Reduce red - bottom center */
                radial-gradient(ellipse 90% 50% at 50% 100%, var(--reduce) 0%, transparent 40%),
                /* Purple accent - center */
                radial-gradient(ellipse 60% 80% at 50% 50%, rgba(139, 92, 246, 0.5) 0%, transparent 60%);
            opacity: 0.08;
            animation: breathe 45s ease-in-out infinite;
        }
        
        @keyframes breathe {
            0%, 100% { opacity: 0.08; transform: scale(1); }
            33% { opacity: 0.12; transform: scale(1.02); }
            66% { opacity: 0.10; transform: scale(1.01); }
        }
        
        /* Grid overlay for texture */
        .grid-overlay {
            position: fixed;
            inset: 0;
            z-index: -1;
            pointer-events: none;
            background-image: 
                linear-gradient(rgba(255,255,255,0.02) 1px, transparent 1px),
                linear-gradient(90deg, rgba(255,255,255,0.02) 1px, transparent 1px);
            background-size: 60px 60px;
            opacity: 0.5;
        }
        
        /* ═══════════════════════════════════════════════════════════════════
           SKIP LINK
           ═══════════════════════════════════════════════════════════════════ */
        .skip-link {
            position: absolute;
            top: -100px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--code-blue);
            color: white;
            padding: var(--space-3) var(--space-5);
            border-radius: var(--radius-full);
            font-weight: 600;
            font-size: var(--text-sm);
            z-index: 1000;
            transition: top var(--dur-quick) var(--ease-out);
            text-decoration: none;
        }
        
        .skip-link:focus {
            top: var(--space-4);
            outline: 2px solid var(--gold);
            outline-offset: 2px;
        }
        
        /* ═══════════════════════════════════════════════════════════════════
           SCROLL PROGRESS
           ═══════════════════════════════════════════════════════════════════ */
        .scroll-progress {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            z-index: 1000;
            background: var(--void-700);
        }
        
        .scroll-progress__bar {
            height: 100%;
            width: 0;
            background: linear-gradient(90deg, var(--code-blue), var(--growth), var(--gold));
            transition: width 50ms ease-out;
        }
        
        /* ═══════════════════════════════════════════════════════════════════
           CONTAINER
           ═══════════════════════════════════════════════════════════════════ */
        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 0 var(--space-6);
        }
        
        /* ═══════════════════════════════════════════════════════════════════
           HERO
           ═══════════════════════════════════════════════════════════════════ */
        .hero {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
            padding: var(--space-20) var(--space-6);
            position: relative;
        }
        
        .hero__eyebrow {
            display: inline-flex;
            align-items: center;
            gap: var(--space-2);
            font-size: var(--text-xs);
            font-weight: 700;
            letter-spacing: 0.2em;
            text-transform: uppercase;
            color: var(--code-blue-soft);
            margin-bottom: var(--space-6);
            padding: var(--space-2) var(--space-5);
            background: var(--code-blue-dim);
            border: 1px solid rgba(59, 130, 246, 0.2);
            border-radius: var(--radius-full);
            opacity: 0;
            transform: translateY(20px);
            animation: heroReveal var(--dur-glacial) var(--ease-out) 0.1s forwards;
        }
        
        .hero__title {
            font-size: clamp(var(--text-3xl), 8vw, var(--text-4xl));
            font-weight: 700;
            letter-spacing: -0.03em;
            line-height: 1.1;
            margin-bottom: var(--space-4);
            opacity: 0;
            transform: translateY(30px);
            animation: heroReveal var(--dur-glacial) var(--ease-out) 0.25s forwards;
        }
        
        .hero__title em {
            font-style: normal;
            background: linear-gradient(135deg, var(--code-blue-soft), var(--growth-soft));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .hero__subtitle {
            font-size: var(--text-lg);
            font-weight: 400;
            color: var(--text-300);
            line-height: 1.7;
            max-width: 600px;
            margin: 0 auto var(--space-10);
            opacity: 0;
            transform: translateY(25px);
            animation: heroReveal var(--dur-glacial) var(--ease-out) 0.4s forwards;
            text-wrap: balance;
        }
        
        .hero__stats {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: var(--space-6);
            padding-top: var(--space-8);
            border-top: 1px solid var(--border-2);
            width: 100%;
            max-width: 700px;
            opacity: 0;
            animation: heroReveal var(--dur-glacial) var(--ease-out) 0.55s forwards;
        }
        
        .stat {
            text-align: center;
        }
        
        .stat__value {
            display: block;
            font-family: var(--font-mono);
            font-size: var(--text-2xl);
            font-weight: 600;
            line-height: 1.1;
            margin-bottom: var(--space-1);
        }
        
        .stat__value--positive { color: var(--growth); }
        .stat__value--negative { color: var(--reduce); }
        .stat__value--neutral { color: var(--code-blue-soft); }
        
        .stat__label {
            font-size: var(--text-xs);
            font-weight: 600;
            letter-spacing: 0.1em;
            text-transform: uppercase;
            color: var(--text-500);
        }
        
        @keyframes heroReveal {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        /* Hero scroll indicator */
        .hero__scroll {
            position: absolute;
            bottom: var(--space-8);
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: var(--space-2);
            color: var(--text-500);
            font-size: var(--text-xs);
            letter-spacing: 0.1em;
            text-transform: uppercase;
            opacity: 0;
            animation: heroReveal var(--dur-glacial) var(--ease-out) 0.7s forwards;
        }
        
        .hero__scroll-icon {
            width: 24px;
            height: 40px;
            border: 2px solid var(--text-500);
            border-radius: 12px;
            position: relative;
        }
        
        .hero__scroll-icon::before {
            content: '';
            position: absolute;
            top: 8px;
            left: 50%;
            transform: translateX(-50%);
            width: 4px;
            height: 8px;
            background: var(--text-500);
            border-radius: 2px;
            animation: scrollBounce 1.5s ease-in-out infinite;
        }
        
        @keyframes scrollBounce {
            0%, 100% { transform: translateX(-50%) translateY(0); opacity: 1; }
            50% { transform: translateX(-50%) translateY(8px); opacity: 0.3; }
        }
        
        /* ═══════════════════════════════════════════════════════════════════
           SECTION NAV
           ═══════════════════════════════════════════════════════════════════ */
        .section-nav {
            position: fixed;
            right: var(--space-4);
            top: 50%;
            transform: translateY(-50%);
            z-index: 100;
            display: flex;
            flex-direction: column;
            gap: var(--space-3);
        }
        
        .section-nav__dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background: var(--void-400);
            border: none;
            cursor: pointer;
            transition: all var(--dur-normal) var(--ease-out);
            position: relative;
        }
        
        .section-nav__dot:hover {
            background: var(--text-400);
            transform: scale(1.3);
        }
        
        .section-nav__dot.active {
            background: var(--code-blue);
            box-shadow: 0 0 12px var(--code-blue-glow);
        }
        
        .section-nav__dot::before {
            content: attr(data-label);
            position: absolute;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            white-space: nowrap;
            font-size: var(--text-xs);
            color: var(--text-400);
            background: var(--glass-2);
            padding: var(--space-1) var(--space-2);
            border-radius: var(--radius-sm);
            opacity: 0;
            pointer-events: none;
            transition: opacity var(--dur-quick) var(--ease-out);
        }
        
        .section-nav__dot:hover::before {
            opacity: 1;
        }
        
        /* ═══════════════════════════════════════════════════════════════════
           TIMELINE VISUALIZATION
           ═══════════════════════════════════════════════════════════════════ */
        .timeline-section {
            padding: var(--space-16) 0;
            border-bottom: 1px solid var(--border-1);
            /* Allow horizontal scroll on timeline track while clipping vertical overflow */
            overflow-x: visible;
            overflow-y: visible;
        }
        
        .timeline-header {
            text-align: center;
            margin-bottom: var(--space-8);
        }
        
        .timeline-header__title {
            font-size: var(--text-xl);
            font-weight: 600;
            margin-bottom: var(--space-2);
        }
        
        .timeline-header__subtitle {
            color: var(--text-400);
            font-size: var(--text-sm);
        }
        
        .timeline-container {
            position: relative;
            padding: var(--space-8) 0;
        }
        
        .timeline-track {
            display: flex;
            gap: 2px;
            overflow-x: auto;
            padding: var(--space-4) var(--space-6);
            scrollbar-width: none;
            -ms-overflow-style: none;
        }
        
        .timeline-track::-webkit-scrollbar {
            display: none;
        }
        
        .timeline-day {
            flex-shrink: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .timeline-day__label {
            font-size: var(--text-xs);
            font-weight: 600;
            color: var(--text-400);
            margin-bottom: var(--space-2);
            white-space: nowrap;
        }
        
        .timeline-day__commits {
            display: flex;
            gap: 3px;
            align-items: flex-end;
            height: 80px;
        }
        
        .timeline-commit {
            width: 8px;
            min-height: 8px;
            border-radius: 2px;
            cursor: pointer;
            transition: all var(--dur-normal) var(--ease-spring);
            position: relative;
        }
        
        .timeline-commit:hover {
            transform: scaleY(1.2) scaleX(1.3);
            z-index: 10;
        }
        
        .timeline-commit[data-arc="ci-cd"] { background: var(--cat-cicd); }
        .timeline-commit[data-arc="tpu-training"] { background: var(--cat-training); }
        .timeline-commit[data-arc="architecture"] { background: var(--cat-architecture); }
        .timeline-commit[data-arc="security"] { background: var(--cat-security); }
        .timeline-commit[data-arc="quality"] { background: var(--cat-quality); }
        .timeline-commit[data-arc="verification"] { background: var(--cat-verification); }
        
        .timeline-commit::before {
            content: attr(data-subject);
            position: absolute;
            bottom: calc(100% + 8px);
            left: 50%;
            transform: translateX(-50%);
            white-space: nowrap;
            font-size: var(--text-xs);
            color: var(--text-100);
            background: var(--glass-2);
            padding: var(--space-2) var(--space-3);
            border-radius: var(--radius-md);
            border: 1px solid var(--border-2);
            box-shadow: var(--shadow-md);
            opacity: 0;
            pointer-events: none;
            transition: opacity var(--dur-quick) var(--ease-out);
            max-width: 300px;
            overflow: hidden;
            text-overflow: ellipsis;
        }
        
        .timeline-commit:hover::before {
            opacity: 1;
        }
        
        .timeline-legend {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: var(--space-3) var(--space-5);
            margin-top: var(--space-6);
            padding: 0 var(--space-4);
        }
        
        .timeline-legend__item {
            display: flex;
            align-items: center;
            gap: var(--space-2);
            font-size: var(--text-xs);
            color: var(--text-400);
            white-space: nowrap;
        }
        
        .timeline-legend__color {
            width: 12px;
            height: 12px;
            border-radius: 2px;
            flex-shrink: 0;
        }
        
        /* ═══════════════════════════════════════════════════════════════════
           CATEGORY FILTERS
           ═══════════════════════════════════════════════════════════════════ */
        .filters {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: var(--space-2);
            margin-bottom: var(--space-8);
        }
        
        .filter-pill {
            display: inline-flex;
            align-items: center;
            gap: var(--space-2);
            padding: var(--space-2) var(--space-4);
            font-size: var(--text-sm);
            font-weight: 500;
            color: var(--text-300);
            background: var(--void-600);
            border: 1px solid var(--border-2);
            border-radius: var(--radius-full);
            cursor: pointer;
            transition: all var(--dur-normal) var(--ease-out);
            position: relative;
            overflow: hidden;
        }
        
        .filter-pill:hover {
            background: var(--void-500);
            border-color: var(--border-3);
            transform: translateY(-2px);
        }
        
        .filter-pill.active {
            color: white;
            border-color: transparent;
        }
        
        .filter-pill[data-category="all"].active { background: var(--code-blue); }
        .filter-pill[data-category="ci-cd"].active { background: var(--cat-cicd); }
        .filter-pill[data-category="tpu-training"].active { background: var(--cat-training); }
        .filter-pill[data-category="architecture"].active { background: var(--cat-architecture); }
        .filter-pill[data-category="security"].active { background: var(--cat-security); }
        .filter-pill[data-category="quality"].active { background: var(--cat-quality); }
        .filter-pill[data-category="verification"].active { background: var(--cat-verification); }
        
        .filter-pill__count {
            font-family: var(--font-mono);
            font-size: var(--text-xs);
            padding: 2px 6px;
            background: rgba(255,255,255,0.15);
            border-radius: var(--radius-full);
        }
        
        /* Sparkle effect on click */
        .filter-pill.sparkle::after {
            content: '';
            position: absolute;
            inset: 0;
            background: radial-gradient(circle at var(--x, 50%) var(--y, 50%), 
                rgba(255,255,255,0.4) 0%, 
                transparent 60%);
            animation: sparkle var(--dur-slow) ease-out forwards;
        }
        
        @keyframes sparkle {
            0% { opacity: 1; transform: scale(0); }
            100% { opacity: 0; transform: scale(2); }
        }
        
        /* ═══════════════════════════════════════════════════════════════════
           SECTIONS
           ═══════════════════════════════════════════════════════════════════ */
        .section {
            padding: var(--space-12) 0;
            border-bottom: 1px solid var(--border-1);
            opacity: 0;
            transform: translateY(30px);
            transition: opacity var(--dur-glacial) var(--ease-out), 
                        transform var(--dur-glacial) var(--ease-out);
        }
        
        .section.revealed {
            opacity: 1;
            transform: translateY(0);
        }
        
        .section:last-child {
            border-bottom: none;
        }
        
        .section__header {
            margin-bottom: var(--space-6);
        }
        
        .section__title {
            font-size: var(--text-sm);
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            color: var(--text-400);
            margin-bottom: var(--space-2);
        }
        
        .section__subtitle {
            font-size: var(--text-lg);
            font-weight: 600;
            color: var(--text-100);
        }
        
        /* ═══════════════════════════════════════════════════════════════════
           KEY CHANGES CARDS
           ═══════════════════════════════════════════════════════════════════ */
        .changes-grid {
            display: grid;
            gap: var(--space-4);
            grid-template-columns: 1fr;
        }
        
        @media (min-width: 768px) {
            .changes-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        @media (min-width: 1024px) {
            .changes-grid {
                grid-template-columns: repeat(2, 1fr);
                gap: var(--space-5);
            }
        }
        
        .change-card {
            background: var(--void-800);
            border: 1px solid var(--border-2);
            border-radius: var(--radius-lg);
            overflow: hidden;
            transition: all var(--dur-normal) var(--ease-out);
            cursor: pointer;
        }
        
        .change-card:hover {
            border-color: var(--border-3);
            transform: translateY(-4px);
            box-shadow: var(--shadow-lg);
        }
        
        .change-card__header {
            display: flex;
            align-items: center;
            gap: var(--space-4);
            padding: var(--space-5);
            border-bottom: 1px solid var(--border-1);
        }
        
        .change-card__number {
            width: 36px;
            height: 36px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: var(--font-mono);
            font-size: var(--text-sm);
            font-weight: 600;
            background: var(--code-blue-dim);
            color: var(--code-blue-soft);
            border-radius: var(--radius-md);
        }
        
        .change-card__info {
            flex: 1;
        }
        
        .change-card__title {
            font-size: var(--text-base);
            font-weight: 600;
            margin-bottom: var(--space-1);
        }
        
        .change-card__commits {
            font-size: var(--text-sm);
            color: var(--text-400);
        }
        
        .change-card__toggle {
            width: 32px;
            height: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: var(--void-600);
            border: none;
            border-radius: var(--radius-md);
            color: var(--text-400);
            cursor: pointer;
            transition: all var(--dur-normal) var(--ease-out);
        }
        
        .change-card__toggle:hover {
            background: var(--void-500);
            color: var(--text-100);
        }
        
        .change-card__toggle svg {
            transition: transform var(--dur-normal) var(--ease-out);
        }
        
        .change-card.expanded .change-card__toggle svg {
            transform: rotate(180deg);
        }
        
        .change-card__body {
            max-height: 0;
            overflow: hidden;
            transition: max-height var(--dur-slow) var(--ease-out);
        }
        
        .change-card.expanded .change-card__body {
            max-height: 800px;
        }
        
        .change-card__content {
            padding: var(--space-5);
        }
        
        .change-card__description {
            font-size: var(--text-sm);
            color: var(--text-300);
            line-height: 1.7;
            margin-bottom: var(--space-4);
        }
        
        .change-card__list {
            list-style: none;
            margin-bottom: var(--space-4);
        }
        
        .change-card__list li {
            padding: var(--space-2) 0;
            padding-left: var(--space-5);
            position: relative;
            font-size: var(--text-sm);
            color: var(--text-300);
            border-bottom: 1px solid var(--border-1);
        }
        
        .change-card__list li:last-child {
            border-bottom: none;
        }
        
        .change-card__list li::before {
            content: '→';
            position: absolute;
            left: 0;
            color: var(--code-blue);
        }
        
        .change-card__meta {
            display: flex;
            flex-wrap: wrap;
            gap: var(--space-3);
            padding: var(--space-3);
            background: var(--void-700);
            border-radius: var(--radius-md);
            font-family: var(--font-mono);
            font-size: var(--text-xs);
            color: var(--text-400);
        }
        
        .change-card__meta a {
            color: var(--code-blue);
            text-decoration: none;
        }
        
        .change-card__meta a:hover {
            text-decoration: underline;
        }
        
        /* Category color accents */
        .change-card[data-category="ci-cd"] .change-card__number { background: rgba(245, 158, 11, 0.15); color: var(--cat-cicd); }
        .change-card[data-category="tpu-training"] .change-card__number { background: rgba(139, 92, 246, 0.15); color: var(--cat-training); }
        .change-card[data-category="architecture"] .change-card__number { background: rgba(6, 182, 212, 0.15); color: var(--cat-architecture); }
        .change-card[data-category="security"] .change-card__number { background: rgba(236, 72, 153, 0.15); color: var(--cat-security); }
        .change-card[data-category="quality"] .change-card__number { background: rgba(16, 185, 129, 0.15); color: var(--cat-quality); }
        .change-card[data-category="verification"] .change-card__number { background: rgba(249, 115, 22, 0.15); color: var(--cat-verification); }
        
        /* ═══════════════════════════════════════════════════════════════════
           TILT EFFECT (Microdelight)
           ═══════════════════════════════════════════════════════════════════ */
        .tilt-card {
            transform-style: preserve-3d;
            perspective: 1000px;
        }
        
        .tilt-card:hover {
            transform: perspective(1000px) rotateX(var(--tilt-x, 0deg)) rotateY(var(--tilt-y, 0deg)) scale(1.02);
        }
        
        .tilt-card::after {
            content: '';
            position: absolute;
            inset: 0;
            background: linear-gradient(
                105deg,
                transparent 40%,
                rgba(255, 255, 255, 0.03) 45%,
                rgba(255, 255, 255, 0.06) 50%,
                rgba(255, 255, 255, 0.03) 55%,
                transparent 60%
            );
            border-radius: inherit;
            pointer-events: none;
            opacity: 0;
            transition: opacity var(--dur-normal) var(--ease-out);
            transform: translateX(var(--shine-x, -100%));
        }
        
        .tilt-card:hover::after {
            opacity: 1;
        }
        
        /* ═══════════════════════════════════════════════════════════════════
           HERO PARALLAX
           ═══════════════════════════════════════════════════════════════════ */
        .hero__content {
            position: relative;
            z-index: 1;
            will-change: transform;
        }
        
        .parallax-layer {
            transition: transform 0.1s linear;
        }
        
        /* ═══════════════════════════════════════════════════════════════════
           CATEGORY BREAKDOWN
           ═══════════════════════════════════════════════════════════════════ */
        .category-list {
            display: flex;
            flex-direction: column;
            gap: var(--space-2);
        }
        
        .category-item {
            display: flex;
            align-items: center;
            gap: var(--space-4);
            padding: var(--space-4);
            background: var(--void-800);
            border: 1px solid var(--border-1);
            border-radius: var(--radius-md);
            transition: all var(--dur-normal) var(--ease-out);
        }
        
        .category-item:hover {
            border-color: var(--border-2);
            transform: translateX(4px);
        }
        
        .category-item__color {
            width: 4px;
            height: 40px;
            border-radius: 2px;
        }
        
        .category-item__info {
            flex: 1;
        }
        
        .category-item__name {
            font-weight: 600;
            margin-bottom: var(--space-1);
        }
        
        .category-item__bar {
            height: 4px;
            background: var(--void-600);
            border-radius: 2px;
            overflow: hidden;
        }
        
        .category-item__bar-fill {
            height: 100%;
            border-radius: 2px;
            transition: width var(--dur-glacial) var(--ease-out);
        }
        
        .category-item__stats {
            font-family: var(--font-mono);
            font-size: var(--text-sm);
            color: var(--text-400);
            display: flex;
            gap: var(--space-3);
            flex-wrap: wrap;
            justify-content: flex-end;
        }
        
        .category-item__stats span {
            display: inline-flex;
            align-items: center;
            gap: var(--space-1);
            white-space: nowrap;
        }
        
        @media (min-width: 640px) {
            .category-item__stats {
                gap: var(--space-4);
                flex-wrap: nowrap;
            }
        }
        
        /* ═══════════════════════════════════════════════════════════════════
           COMMIT LIST
           ═══════════════════════════════════════════════════════════════════ */
        .commits-section {
            padding: var(--space-12) 0;
        }
        
        .commits-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: var(--space-4);
            margin-bottom: var(--space-6);
        }
        
        .commits-search {
            position: relative;
            flex: 1;
            max-width: 400px;
        }
        
        .commits-search__input {
            width: 100%;
            padding: var(--space-3) var(--space-4);
            padding-left: var(--space-10);
            font-family: var(--font-sans);
            font-size: var(--text-sm);
            color: var(--text-100);
            background: var(--void-700);
            border: 1px solid var(--border-2);
            border-radius: var(--radius-md);
            outline: none;
            transition: all var(--dur-normal) var(--ease-out);
        }
        
        .commits-search__input:focus {
            border-color: var(--code-blue);
            box-shadow: 0 0 0 3px var(--code-blue-dim);
        }
        
        @media (max-width: 768px) {
            .commits-search__input:focus {
                box-shadow: 0 0 0 2px var(--code-blue-dim);
            }
        }
        
        .commits-search__input::placeholder {
            color: var(--text-500);
        }
        
        .commits-search__icon {
            position: absolute;
            left: var(--space-3);
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-500);
            pointer-events: none;
        }
        
        .commits-sort {
            display: flex;
            gap: var(--space-2);
        }
        
        .sort-btn {
            padding: var(--space-2) var(--space-3);
            font-size: var(--text-xs);
            font-weight: 600;
            color: var(--text-400);
            background: var(--void-700);
            border: 1px solid var(--border-2);
            border-radius: var(--radius-md);
            cursor: pointer;
            transition: all var(--dur-normal) var(--ease-out);
        }
        
        .sort-btn:hover {
            color: var(--text-100);
            border-color: var(--border-3);
        }
        
        .sort-btn.active {
            color: var(--code-blue);
            border-color: var(--code-blue);
            background: var(--code-blue-dim);
        }
        
        .commits-list {
            display: flex;
            flex-direction: column;
            gap: var(--space-2);
        }
        
        .commit-item {
            display: grid;
            grid-template-columns: 90px 1fr auto;
            gap: var(--space-3);
            padding: var(--space-3) var(--space-4);
            background: var(--void-800);
            border: 1px solid var(--border-1);
            border-radius: var(--radius-md);
            font-size: var(--text-sm);
            align-items: center;
            cursor: pointer;
            transition: all var(--dur-normal) var(--ease-out);
            position: relative;
            overflow: hidden;
        }
        
        @media (min-width: 640px) {
            .commit-item {
                grid-template-columns: 100px 1fr auto;
                gap: var(--space-4);
            }
        }
        
        .commit-item:hover {
            border-color: var(--border-3);
            transform: translateX(4px);
            box-shadow: var(--shadow-sm);
        }
        
        .commit-item::before {
            content: '';
            position: absolute;
            left: 0;
            top: 0;
            bottom: 0;
            width: 3px;
        }
        
        .commit-item[data-arc="ci-cd"]::before { background: var(--cat-cicd); }
        .commit-item[data-arc="tpu-training"]::before { background: var(--cat-training); }
        .commit-item[data-arc="architecture"]::before { background: var(--cat-architecture); }
        .commit-item[data-arc="security"]::before { background: var(--cat-security); }
        .commit-item[data-arc="quality"]::before { background: var(--cat-quality); }
        .commit-item[data-arc="verification"]::before { background: var(--cat-verification); }
        
        .commit-item__hash {
            font-family: var(--font-mono);
            font-size: var(--text-xs);
            color: var(--code-blue);
        }
        
        .commit-item__subject {
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
            color: var(--text-200);
        }
        
        .commit-item__stats {
            font-family: var(--font-mono);
            font-size: var(--text-xs);
            display: flex;
            gap: var(--space-3);
            white-space: nowrap;
        }
        
        .commit-item__add { color: var(--growth); }
        .commit-item__del { color: var(--reduce); }
        
        /* Commit detail expansion */
        .commit-item.expanded {
            border-color: var(--code-blue);
        }
        
        .commit-item__details {
            grid-column: 1 / -1;
            display: none;
            padding-top: var(--space-3);
            margin-top: var(--space-3);
            border-top: 1px solid var(--border-1);
        }
        
        .commit-item.expanded .commit-item__details {
            display: block;
        }
        
        .commit-item__files {
            display: flex;
            flex-direction: column;
            gap: var(--space-1);
        }
        
        .commit-item__file {
            display: flex;
            justify-content: space-between;
            font-family: var(--font-mono);
            font-size: var(--text-xs);
            color: var(--text-400);
            padding: var(--space-1) 0;
        }
        
        /* Empty state */
        .commits-empty {
            text-align: center;
            padding: var(--space-12) var(--space-4);
            color: var(--text-500);
            font-size: var(--text-sm);
            background: var(--void-800);
            border-radius: var(--radius-md);
            border: 1px dashed var(--border-2);
        }
        
        /* ═══════════════════════════════════════════════════════════════════
           FOOTER
           ═══════════════════════════════════════════════════════════════════ */
        .footer {
            padding: var(--space-12) 0;
            text-align: center;
            border-top: 1px solid var(--border-1);
        }
        
        .footer__quote {
            font-size: var(--text-lg);
            font-style: italic;
            color: var(--text-300);
            margin-bottom: var(--space-4);
            max-width: 500px;
            margin-left: auto;
            margin-right: auto;
            text-wrap: balance;
            line-height: 1.6;
        }
        
        .footer__credit {
            font-size: var(--text-xs);
            color: var(--text-500);
            letter-spacing: 0.1em;
            text-transform: uppercase;
        }
        
        .footer__net {
            display: inline-block;
            font-family: var(--font-mono);
            color: var(--reduce);
            cursor: pointer;
            transition: all var(--dur-normal) var(--ease-spring);
        }
        
        .footer__net:hover {
            transform: scale(1.1);
        }
        
        /* ═══════════════════════════════════════════════════════════════════
           EASTER EGG TOAST
           ═══════════════════════════════════════════════════════════════════ */
        .toast {
            position: fixed;
            bottom: var(--space-8);
            left: 50%;
            transform: translateX(-50%) translateY(20px);
            background: linear-gradient(135deg, var(--void-600), var(--void-500));
            color: var(--text-100);
            padding: var(--space-4) var(--space-6);
            border-radius: var(--radius-full);
            border: 1px solid var(--border-3);
            box-shadow: var(--shadow-lg);
            font-size: var(--text-sm);
            opacity: 0;
            pointer-events: none;
            transition: all var(--dur-slow) var(--ease-spring);
            z-index: 1000;
        }
        
        .toast.visible {
            opacity: 1;
            transform: translateX(-50%) translateY(0);
        }
        
        /* ═══════════════════════════════════════════════════════════════════
           RESPONSIVE - TABLET (1024px and below)
           ═══════════════════════════════════════════════════════════════════ */
        @media (max-width: 1024px) {
            :root {
                /* Slightly reduce typography scale on tablet */
                --text-3xl: 2.2rem;
                --text-4xl: 2.75rem;
            }
            
            .container {
                padding: 0 var(--space-5);
            }
            
            .hero {
                padding: var(--space-16) var(--space-5);
            }
            
            .section-nav {
                right: var(--space-2);
            }
            
            .section-nav__dot::before {
                display: none; /* Hide labels on tablet to save space */
            }
            
            .timeline-legend {
                gap: var(--space-3);
            }
            
            .timeline-legend__item {
                font-size: calc(var(--text-xs) * 0.95);
            }
        }
        
        /* ═══════════════════════════════════════════════════════════════════
           RESPONSIVE - MOBILE (768px and below)
           ═══════════════════════════════════════════════════════════════════ */
        @media (max-width: 768px) {
            :root {
                /* Mobile typography scale - more readable */
                --text-xs: 0.7rem;
                --text-sm: 0.85rem;
                --text-base: 1rem;
                --text-lg: 1.125rem;
                --text-xl: 1.35rem;
                --text-2xl: 1.6rem;
                --text-3xl: 1.9rem;
                --text-4xl: 2.25rem;
                
                /* Tighter spacing for mobile */
                --space-16: 3rem;
                --space-20: 4rem;
            }
            
            body {
                font-size: var(--text-base);
                line-height: 1.65;
            }
            
            .container {
                padding: 0 var(--space-4);
            }
            
            /* Hero mobile */
            .hero {
                min-height: auto;
                min-height: 100svh; /* Use svh for mobile Safari */
                padding: var(--space-12) var(--space-4) var(--space-16);
            }
            
            .hero__eyebrow {
                font-size: calc(var(--text-xs) * 0.9);
                letter-spacing: 0.15em;
                padding: var(--space-2) var(--space-4);
                margin-bottom: var(--space-5);
            }
            
            .hero__title {
                font-size: clamp(2rem, 10vw, var(--text-3xl));
                margin-bottom: var(--space-3);
            }
            
            .hero__subtitle {
                font-size: var(--text-base);
                line-height: 1.7;
                margin-bottom: var(--space-8);
                padding: 0 var(--space-2);
            }
            
            .hero__stats {
                grid-template-columns: repeat(2, 1fr);
                gap: var(--space-4) var(--space-6);
                padding-top: var(--space-6);
                max-width: 100%;
            }
            
            .stat__value {
                font-size: var(--text-xl);
            }
            
            .stat__label {
                font-size: calc(var(--text-xs) * 0.9);
                letter-spacing: 0.08em;
            }
            
            .hero__scroll {
                bottom: var(--space-5);
            }
            
            .hero__scroll-icon {
                width: 20px;
                height: 32px;
            }
            
            /* Section nav hidden on mobile */
            .section-nav {
                display: none;
            }
            
            /* Timeline mobile */
            .timeline-section {
                padding: var(--space-10) 0;
                overflow: visible;
            }
            
            .timeline-header__title {
                font-size: var(--text-lg);
            }
            
            .timeline-header__subtitle {
                font-size: var(--text-sm);
            }
            
            .timeline-container {
                /* Allow horizontal scrolling of timeline on mobile */
                overflow-x: auto;
                overflow-y: visible;
                -webkit-overflow-scrolling: touch;
                margin: 0 calc(-1 * var(--space-4));
                padding: 0 var(--space-4);
            }
            
            .timeline-track {
                padding: var(--space-3) 0;
                gap: 1px;
                min-width: max-content;
                overflow: visible;
            }
            
            .timeline-day {
                flex-shrink: 0;
            }
            
            .timeline-day__label {
                font-size: calc(var(--text-xs) * 0.9);
            }
            
            .timeline-day__commits {
                height: 60px;
                gap: 2px;
            }
            
            .timeline-commit {
                width: 8px;
                min-height: 8px;
                cursor: pointer;
                /* Better touch target for mobile */
                padding: 2px;
                margin: -2px;
            }
            
            .timeline-commit::before {
                /* Disable hover tooltips on mobile - use touch instead */
                display: none;
            }
            
            .timeline-commit:active {
                opacity: 0.7;
                transform: scale(1.3);
            }
            
            .timeline-legend {
                display: grid;
                grid-template-columns: repeat(2, 1fr);
                gap: var(--space-2) var(--space-4);
                padding: 0 var(--space-4);
                margin-top: var(--space-4);
            }
            
            .timeline-legend__item {
                font-size: var(--text-sm);
            }
            
            .timeline-legend__color {
                width: 14px;
                height: 14px;
            }
            
            /* Sections mobile */
            .section {
                padding: var(--space-10) 0;
            }
            
            .section__header {
                margin-bottom: var(--space-5);
            }
            
            .section__title {
                font-size: calc(var(--text-xs) * 1.1);
            }
            
            .section__subtitle {
                font-size: var(--text-base);
            }
            
            /* Change cards mobile */
            .change-card__header {
                padding: var(--space-4);
                gap: var(--space-3);
            }
            
            .change-card__number {
                width: 32px;
                height: 32px;
                font-size: var(--text-xs);
            }
            
            .change-card__title {
                font-size: var(--text-sm);
                line-height: 1.4;
            }
            
            .change-card__commits {
                font-size: var(--text-xs);
            }
            
            .change-card__toggle {
                width: 36px;
                height: 36px;
                min-width: 36px; /* Proper touch target */
            }
            
            .change-card__content {
                padding: var(--space-4);
            }
            
            .change-card__description {
                font-size: var(--text-sm);
                line-height: 1.65;
            }
            
            .change-card__list li {
                font-size: var(--text-sm);
                padding: var(--space-2) 0;
                padding-left: var(--space-4);
                line-height: 1.55;
            }
            
            .change-card__meta {
                flex-direction: column;
                gap: var(--space-2);
                font-size: calc(var(--text-xs) * 0.95);
            }
            
            /* Category items mobile */
            .category-item {
                padding: var(--space-3);
                gap: var(--space-3);
            }
            
            .category-item__color {
                width: 3px;
                height: 32px;
            }
            
            .category-item__name {
                font-size: var(--text-sm);
            }
            
            .category-item__stats {
                font-size: var(--text-xs);
                flex-direction: column;
                gap: var(--space-1);
                align-items: flex-end;
            }
            
            /* Commits section mobile */
            .commits-section {
                padding: var(--space-10) 0;
            }
            
            .commits-header {
                flex-direction: column;
                align-items: stretch;
                gap: var(--space-4);
            }
            
            .commits-search {
                max-width: none;
                width: 100%;
            }
            
            .commits-search__input {
                font-size: 16px; /* MUST be 16px to prevent iOS zoom */
                padding: var(--space-3) var(--space-4);
                padding-left: var(--space-10);
                width: 100%;
            }
            
            .commits-sort {
                display: flex;
                justify-content: center;
                gap: var(--space-2);
                flex-wrap: wrap;
            }
            
            .sort-btn {
                padding: var(--space-2) var(--space-4);
                font-size: var(--text-sm);
                min-height: 44px; /* Touch target */
                flex-shrink: 0;
            }
            
            .sort-btn:active {
                transform: scale(0.95);
            }
            
            /* Filters mobile - horizontal scroll */
            .filters {
                display: flex !important;
                justify-content: flex-start;
                overflow-x: auto;
                flex-wrap: nowrap;
                padding-bottom: var(--space-3);
                margin: 0 calc(-1 * var(--space-4));
                padding-left: var(--space-4);
                padding-right: var(--space-4);
                -webkit-overflow-scrolling: touch;
                scrollbar-width: none;
                -ms-overflow-style: none;
                gap: var(--space-2);
                /* Add fade hint that content scrolls */
                mask-image: linear-gradient(to right, black 90%, transparent 100%);
                -webkit-mask-image: linear-gradient(to right, black 90%, transparent 100%);
            }
            
            .filters::-webkit-scrollbar {
                display: none;
            }
            
            .filter-pill {
                flex-shrink: 0;
                padding: var(--space-2) var(--space-4);
                font-size: var(--text-sm);
                min-height: 44px; /* Touch target */
                display: inline-flex;
                align-items: center;
                white-space: nowrap;
            }
            
            .filter-pill:active {
                transform: scale(0.95);
            }
            
            /* Commits list mobile - ensure it renders */
            .commits-list {
                display: flex !important;
                flex-direction: column;
                gap: var(--space-2);
                width: 100%;
            }
            
            /* Commit items mobile - use flexbox instead of grid */
            .commit-item {
                display: flex !important;
                flex-direction: column;
                gap: var(--space-2);
                padding: var(--space-3) var(--space-4);
                padding-left: calc(var(--space-4) + 3px); /* Account for left border */
                cursor: pointer;
                -webkit-tap-highlight-color: transparent;
            }
            
            .commit-item:active {
                background: var(--void-700);
            }
            
            .commit-item__subject {
                order: 1;
                font-size: var(--text-sm);
                line-height: 1.5;
                white-space: normal; /* Allow wrapping on mobile */
                display: -webkit-box;
                -webkit-line-clamp: 3;
                -webkit-box-orient: vertical;
                overflow: hidden;
            }
            
            .commit-item__hash {
                order: 2;
                font-size: var(--text-xs);
            }
            
            .commit-item__stats {
                order: 3;
                font-size: var(--text-xs);
                display: flex;
                gap: var(--space-2);
            }
            
            .commit-item__details {
                order: 4;
                padding-top: var(--space-3);
                margin-top: var(--space-2);
                width: 100%;
            }
            
            .commit-item.expanded .commit-item__details {
                display: block;
            }
            
            .commit-item__file {
                flex-direction: column;
                align-items: flex-start;
                gap: var(--space-1);
                padding: var(--space-2) 0;
                font-size: calc(var(--text-xs) * 0.95);
                word-break: break-all;
            }
            
            /* Footer mobile */
            .footer {
                padding: var(--space-10) var(--space-4);
            }
            
            .footer__quote {
                font-size: var(--text-base);
                line-height: 1.6;
                margin-bottom: var(--space-4);
            }
            
            .footer__credit {
                font-size: calc(var(--text-xs) * 0.95);
            }
            
            .footer__net {
                padding: var(--space-2) var(--space-3);
                display: inline-block;
                min-height: 44px; /* Touch target */
                line-height: 2.2;
            }
            
            /* Toast mobile */
            .toast {
                left: var(--space-4);
                right: var(--space-4);
                transform: translateX(0) translateY(20px);
                text-align: center;
                font-size: var(--text-sm);
            }
            
            .toast.visible {
                transform: translateX(0) translateY(0);
            }
            
            /* Scroll progress thicker on mobile for visibility */
            .scroll-progress {
                height: 4px;
            }
        }
        
        /* ═══════════════════════════════════════════════════════════════════
           RESPONSIVE - SMALL MOBILE (480px and below)
           ═══════════════════════════════════════════════════════════════════ */
        @media (max-width: 480px) {
            :root {
                --text-2xl: 1.4rem;
                --text-3xl: 1.65rem;
                --text-4xl: 1.9rem;
            }
            
            .container {
                padding: 0 var(--space-3);
            }
            
            .hero {
                padding: var(--space-10) var(--space-3) var(--space-12);
            }
            
            .hero__eyebrow {
                font-size: calc(var(--text-xs) * 0.85);
                padding: var(--space-1) var(--space-3);
            }
            
            .hero__title {
                font-size: clamp(1.75rem, 12vw, 2.25rem);
            }
            
            .hero__subtitle {
                font-size: var(--text-sm);
            }
            
            .hero__stats {
                gap: var(--space-3) var(--space-4);
            }
            
            .stat__value {
                font-size: var(--text-lg);
            }
            
            .stat__label {
                font-size: calc(var(--text-xs) * 0.85);
            }
            
            .section {
                padding: var(--space-8) 0;
            }
            
            .change-card__header {
                padding: var(--space-3);
            }
            
            .change-card__title {
                font-size: var(--text-sm);
            }
            
            .category-item__stats {
                font-size: calc(var(--text-xs) * 0.9);
            }
            
            .filters {
                margin: 0 calc(-1 * var(--space-3));
                padding-left: var(--space-3);
                padding-right: var(--space-3);
            }
            
            .commit-item {
                padding: var(--space-3);
            }
            
            .footer {
                padding: var(--space-8) var(--space-3);
            }
        }
        
        /* ═══════════════════════════════════════════════════════════════════
           LANDSCAPE MOBILE
           ═══════════════════════════════════════════════════════════════════ */
        @media (max-width: 768px) and (orientation: landscape) {
            .hero {
                min-height: auto;
                padding: var(--space-8) var(--space-4);
            }
            
            .hero__stats {
                grid-template-columns: repeat(4, 1fr);
                gap: var(--space-3);
            }
            
            .hero__scroll {
                display: none;
            }
        }
        
        /* ═══════════════════════════════════════════════════════════════════
           LARGE SCREENS (1200px and above)
           ═══════════════════════════════════════════════════════════════════ */
        @media (min-width: 1200px) {
            .container {
                max-width: 1100px;
            }
            
            .hero__stats {
                max-width: 800px;
            }
        }
        
        /* ═══════════════════════════════════════════════════════════════════
           REDUCED MOTION
           ═══════════════════════════════════════════════════════════════════ */
        @media (prefers-reduced-motion: reduce) {
            *, *::before, *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }
            
            html {
                scroll-behavior: auto;
            }
            
            .breathing-bg {
                animation: none;
            }
            
            .hero__eyebrow,
            .hero__title,
            .hero__subtitle,
            .hero__stats,
            .hero__scroll {
                opacity: 1;
                transform: none;
            }
            
            .section {
                opacity: 1;
                transform: none;
            }
        }
        
        /* ═══════════════════════════════════════════════════════════════════
           FOCUS STATES
           ═══════════════════════════════════════════════════════════════════ */
        button:focus-visible,
        a:focus-visible,
        input:focus-visible {
            outline: 2px solid var(--gold);
            outline-offset: 2px;
        }
        
        /* ═══════════════════════════════════════════════════════════════════
           SCROLLBAR
           ═══════════════════════════════════════════════════════════════════ */
        ::-webkit-scrollbar {
            width: 8px;
            height: 8px;
        }
        
        ::-webkit-scrollbar-track {
            background: var(--void-900);
        }
        
        ::-webkit-scrollbar-thumb {
            background: var(--void-400);
            border-radius: 4px;
        }
        
        ::-webkit-scrollbar-thumb:hover {
            background: var(--void-300);
        }
    </style>
</head>
<body>
    <!-- Skip link -->
    <a href="#main-content" class="skip-link">Skip to main content</a>
    
    <!-- Breathing background -->
    <div class="breathing-bg" aria-hidden="true"></div>
    <div class="grid-overlay" aria-hidden="true"></div>
    
    <!-- Scroll progress -->
    <div class="scroll-progress" role="progressbar" aria-label="Page scroll progress">
        <div class="scroll-progress__bar"></div>
    </div>
    
    <!-- Section navigation -->
    <nav class="section-nav" aria-label="Section navigation">
        <button class="section-nav__dot active" data-section="hero" data-label="Top" aria-label="Scroll to top"></button>
        <button class="section-nav__dot" data-section="timeline" data-label="Timeline" aria-label="Scroll to timeline"></button>
        <button class="section-nav__dot" data-section="changes" data-label="Changes" aria-label="Scroll to key changes"></button>
        <button class="section-nav__dot" data-section="categories" data-label="Categories" aria-label="Scroll to categories"></button>
        <button class="section-nav__dot" data-section="commits" data-label="Commits" aria-label="Scroll to commits"></button>
    </nav>
    
    <!-- Hero -->
    <header class="hero" id="hero">
        <span class="hero__eyebrow">January 24–25, 2026</span>
        <h1 class="hero__title"><em>Exhale</em></h1>
        <p class="hero__subtitle">
            A codebase released what it no longer needed.<br>
            31 hours. 81 commits. The weight lifted.
        </p>
        
        <div class="hero__stats">
            <div class="stat">
                <span class="stat__value stat__value--neutral" data-count="81">0</span>
                <span class="stat__label">Commits</span>
            </div>
            <div class="stat">
                <span class="stat__value stat__value--positive" data-count="188560" data-prefix="+">+0</span>
                <span class="stat__label">Additions</span>
            </div>
            <div class="stat">
                <span class="stat__value stat__value--negative" data-count="195847" data-prefix="−">−0</span>
                <span class="stat__label">Deletions</span>
            </div>
            <div class="stat">
                <span class="stat__value stat__value--negative" data-count="-7287" data-prefix="">0</span>
                <span class="stat__label">Net</span>
            </div>
        </div>
        
        <div class="hero__scroll" aria-hidden="true">
            <div class="hero__scroll-icon"></div>
            <span>Scroll</span>
        </div>
    </header>
    
    <main id="main-content">
        <div class="container">
            <!-- Timeline -->
            <section class="timeline-section section" id="timeline" aria-labelledby="timeline-title">
                <div class="timeline-header">
                    <h2 class="timeline-header__title" id="timeline-title">Activity Timeline</h2>
                    <p class="timeline-header__subtitle">Saturday 4:20 PM to Sunday 11:30 PM</p>
                </div>
                
                <div class="timeline-container">
                    <div class="timeline-track" id="timeline-track" role="list" aria-label="Commits by time">
                        <!-- Populated by JS -->
                    </div>
                </div>
                
                <div class="timeline-legend" aria-label="Category legend">
                    <div class="timeline-legend__item">
                        <span class="timeline-legend__color" style="background: var(--cat-cicd)"></span>
                        <span>CI/CD</span>
                    </div>
                    <div class="timeline-legend__item">
                        <span class="timeline-legend__color" style="background: var(--cat-training)"></span>
                        <span>Training</span>
                    </div>
                    <div class="timeline-legend__item">
                        <span class="timeline-legend__color" style="background: var(--cat-architecture)"></span>
                        <span>Architecture</span>
                    </div>
                    <div class="timeline-legend__item">
                        <span class="timeline-legend__color" style="background: var(--cat-security)"></span>
                        <span>Security</span>
                    </div>
                    <div class="timeline-legend__item">
                        <span class="timeline-legend__color" style="background: var(--cat-quality)"></span>
                        <span>Quality</span>
                    </div>
                    <div class="timeline-legend__item">
                        <span class="timeline-legend__color" style="background: var(--cat-verification)"></span>
                        <span>Verification</span>
                    </div>
                </div>
            </section>
            
            <!-- Key Changes -->
            <section class="section" id="changes" aria-labelledby="changes-title">
                <div class="section__header">
                    <h2 class="section__title" id="changes-title">What Happened</h2>
                    <p class="section__subtitle">Six Areas of Focus</p>
                </div>
                
                <div class="changes-grid">
                    <article class="change-card" data-category="ci-cd">
                        <div class="change-card__header">
                            <span class="change-card__number">1</span>
                            <div class="change-card__info">
                                <h3 class="change-card__title">CI/CD Pipeline</h3>
                                <p class="change-card__commits">25 commits · +9,658 −1,397</p>
                            </div>
                            <button class="change-card__toggle" aria-label="Expand details">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <polyline points="6 9 12 15 18 9"></polyline>
                                </svg>
                            </button>
                        </div>
                        <div class="change-card__body">
                            <div class="change-card__content">
                                <p class="change-card__description">Resolved root cause CI failures and optimized setup times by 10-100x.</p>
                                <ul class="change-card__list">
                                    <li>Replaced pip with <code>uv</code> package installer + cached virtualenvs</li>
                                    <li>Added <code>package-lock.json</code>, fixed Rust formatting</li>
                                    <li>Fixed Gradle deprecations</li>
                                    <li>Integrated Cursor agent for automated CI fixes</li>
                                    <li>Fixed android-unified workflow</li>
                                </ul>
                                <div class="change-card__meta">
                                    <span>Key: <a href="#">37852b039</a> perf(ci): 10-100x faster setup</span>
                                    <span>Key: <a href="#">d64353b77</a> fix(ci): resolve 4 root cause CI failures</span>
                                </div>
                            </div>
                        </div>
                    </article>
                    
                    <article class="change-card" data-category="tpu-training">
                        <div class="change-card__header">
                            <span class="change-card__number">2</span>
                            <div class="change-card__info">
                                <h3 class="change-card__title">TPU Training Infrastructure</h3>
                                <p class="change-card__commits">12 commits · +10,318 −47,991</p>
                            </div>
                            <button class="change-card__toggle" aria-label="Expand details">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <polyline points="6 9 12 15 18 9"></polyline>
                                </svg>
                            </button>
                        </div>
                        <div class="change-card__body">
                            <div class="change-card__content">
                                <p class="change-card__description">Fixed critical gradient flow issue and completed PyTorch→JAX migration cleanup.</p>
                                <ul class="change-card__list">
                                    <li><strong>HJEPA gradient bug</strong>: 16 of 19 predictor modules (~5.5M parameters) were not receiving gradients</li>
                                    <li>Root cause: losses recomputed from targets instead of predictor outputs</li>
                                    <li>Cleaned up legacy PyTorch training code (−49,824 lines)</li>
                                    <li>Added XLA compilation cache (15-30 min faster restarts)</li>
                                    <li>Added extracted training modules: quality_gates, evaluation, training_step</li>
                                </ul>
                                <div class="change-card__meta">
                                    <span>Key: <a href="#">291fcb1cd</a> Fix critical HJEPA gradient flow bug (+51 −8)</span>
                                    <span>Key: <a href="#">c64ad85e0</a> chore: clean up legacy code after PyTorch→JAX migration</span>
                                </div>
                            </div>
                        </div>
                    </article>
                    
                    <article class="change-card" data-category="architecture">
                        <div class="change-card__header">
                            <span class="change-card__number">3</span>
                            <div class="change-card__info">
                                <h3 class="change-card__title">Architecture Consolidation</h3>
                                <p class="change-card__commits">20 commits · +135,290 −131,343</p>
                            </div>
                            <button class="change-card__toggle" aria-label="Expand details">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <polyline points="6 9 12 15 18 9"></polyline>
                                </svg>
                            </button>
                        </div>
                        <div class="change-card__body">
                            <div class="change-card__content">
                                <p class="change-card__description">Removed legacy services and consolidated duplicated code across the codebase.</p>
                                <ul class="change-card__list">
                                    <li>Renamed semantic matchers/routers for clarity (59,072 lines affected)</li>
                                    <li>Removed empty stubs, dead code; added static analysis tools (vulture, jscpd)</li>
                                    <li>Consolidated to central repository, removed legacy services</li>
                                    <li>Split <code>models.py</code> (2,395 lines) into 18 domain-specific modules</li>
                                    <li>Consolidated 3 singleton registries into <code>utils/singleton.py</code></li>
                                </ul>
                                <div class="change-card__meta">
                                    <span>Key: <a href="#">a1733f99d</a> refactor: rename semantic matchers/routers</span>
                                    <span>Key: <a href="#">4bd82671b</a> refactor: remove empty stubs, dead code cleanup</span>
                                </div>
                            </div>
                        </div>
                    </article>
                    
                    <article class="change-card" data-category="security">
                        <div class="change-card__header">
                            <span class="change-card__number">4</span>
                            <div class="change-card__info">
                                <h3 class="change-card__title">Security Hardening</h3>
                                <p class="change-card__commits">2 commits · +1,237 −227</p>
                            </div>
                            <button class="change-card__toggle" aria-label="Expand details">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <polyline points="6 9 12 15 18 9"></polyline>
                                </svg>
                            </button>
                        </div>
                        <div class="change-card__body">
                            <div class="change-card__content">
                                <p class="change-card__description">Byzantine security audit identified and fixed critical vulnerabilities.</p>
                                <ul class="change-card__list">
                                    <li><strong>RCE vulnerability</strong>: Pickle deserialization allowed arbitrary code execution</li>
                                    <li>Fix: implemented whitelist-only deserializer in <code>safe_pickle.py</code></li>
                                    <li>Improved test quality for smarthome controller and integrations</li>
                                    <li>Added unified crypto roundtrip tests</li>
                                </ul>
                                <div class="change-card__meta">
                                    <span>Key: <a href="#">29e432050</a> fix(security): Byzantine audit P0 fixes - RCE prevention</span>
                                    <span>New file: packages/kagami/core/security/safe_pickle.py (+181)</span>
                                </div>
                            </div>
                        </div>
                    </article>
                    
                    <article class="change-card" data-category="quality">
                        <div class="change-card__header">
                            <span class="change-card__number">5</span>
                            <div class="change-card__info">
                                <h3 class="change-card__title">Quality Improvements</h3>
                                <p class="change-card__commits">21 commits · +11,209 −8,233</p>
                            </div>
                            <button class="change-card__toggle" aria-label="Expand details">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <polyline points="6 9 12 15 18 9"></polyline>
                                </svg>
                            </button>
                        </div>
                        <div class="change-card__body">
                            <div class="change-card__content">
                                <p class="change-card__description">World model fixes, test additions, and cleanup.</p>
                                <ul class="change-card__list">
                                    <li><strong>EFE math fix</strong>: Fixed Expected Free Energy calculation</li>
                                    <li>Added prioritized replay and intrinsic motivation</li>
                                    <li>Added comprehensive E8/Fano mathematical correctness tests</li>
                                    <li>Implemented catastrophe_kan.py with KAN layers</li>
                                    <li>Removed .stagehand-cache from git tracking</li>
                                </ul>
                                <div class="change-card__meta">
                                    <span>Key: <a href="#">5a2f1e683</a> feat(world-model): fix EFE math, add prioritized replay</span>
                                    <span>Key: <a href="#">efca066f6</a> chore: remove .stagehand-cache from git tracking</span>
                                </div>
                            </div>
                        </div>
                    </article>
                    
                    <article class="change-card" data-category="verification">
                        <div class="change-card__header">
                            <span class="change-card__number">6</span>
                            <div class="change-card__info">
                                <h3 class="change-card__title">Verification Platform</h3>
                                <p class="change-card__commits">1 commit · +20,848 −6,656</p>
                            </div>
                            <button class="change-card__toggle" aria-label="Expand details">
                                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <polyline points="6 9 12 15 18 9"></polyline>
                                </svg>
                            </button>
                        </div>
                        <div class="change-card__body">
                            <div class="change-card__content">
                                <p class="change-card__description">Browser automation consolidation for verification tools.</p>
                                <ul class="change-card__list">
                                    <li>Removed Puppeteer from MedVerify</li>
                                    <li>Stagehand is now the sole browser tool</li>
                                    <li>Part of broader verification platform expansion work</li>
                                </ul>
                                <div class="change-card__meta">
                                    <span>Key: <a href="#">d31d266c9</a> cleanup: remove Puppeteer from MedVerify (+20,848 −6,656)</span>
                                </div>
                            </div>
                        </div>
                    </article>
                </div>
            </section>
            
            <!-- Category Breakdown -->
            <section class="section" id="categories" aria-labelledby="categories-title">
                <div class="section__header">
                    <h2 class="section__title" id="categories-title">By Category</h2>
                    <p class="section__subtitle">Where the effort went</p>
                </div>
                
                <div class="category-list" id="category-list">
                    <!-- Populated by JS -->
                </div>
            </section>
            
            <!-- Commits -->
            <section class="commits-section section" id="commits" aria-labelledby="commits-title">
                <div class="commits-header">
                    <div class="section__header">
                        <h2 class="section__title" id="commits-title">Full Commit Log</h2>
                        <p class="section__subtitle">81 commits</p>
                    </div>
                    
                    <div class="commits-search">
                        <svg class="commits-search__icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="11" cy="11" r="8"></circle>
                            <path d="m21 21-4.35-4.35"></path>
                        </svg>
                        <input type="text" 
                               class="commits-search__input" 
                               id="commits-search" 
                               placeholder="Filter commits..." 
                               aria-label="Filter commits">
                    </div>
                </div>
                
                <!-- Category filters -->
                <div class="filters" role="group" aria-label="Filter by category">
                    <button class="filter-pill active" data-category="all">
                        All <span class="filter-pill__count">81</span>
                    </button>
                    <button class="filter-pill" data-category="ci-cd">
                        CI/CD <span class="filter-pill__count">25</span>
                    </button>
                    <button class="filter-pill" data-category="architecture">
                        Architecture <span class="filter-pill__count">20</span>
                    </button>
                    <button class="filter-pill" data-category="quality">
                        Quality <span class="filter-pill__count">21</span>
                    </button>
                    <button class="filter-pill" data-category="tpu-training">
                        Training <span class="filter-pill__count">12</span>
                    </button>
                    <button class="filter-pill" data-category="security">
                        Security <span class="filter-pill__count">2</span>
                    </button>
                    <button class="filter-pill" data-category="verification">
                        Verification <span class="filter-pill__count">1</span>
                    </button>
                </div>
                
                <div class="commits-sort" role="group" aria-label="Sort commits">
                    <button class="sort-btn active" data-sort="time">Latest</button>
                    <button class="sort-btn" data-sort="impact">Impact</button>
                    <button class="sort-btn" data-sort="category">Category</button>
                </div>
                
                <div class="commits-list" id="commits-list" role="list">
                    <!-- Populated by JS -->
                </div>
            </section>
        </div>
    </main>
    
    <!-- Footer -->
    <footer class="footer">
        <p class="footer__quote">"A codebase released what it no longer needed."</p>
        <p class="footer__credit">
            Generated January 26, 2026 · Net change: <span class="footer__net" id="footer-net" role="button" tabindex="0" aria-label="Net change, click for surprise">−7,287</span>
        </p>
    </footer>
    
    <!-- Toast for easter egg -->
    <div class="toast" id="toast" role="status" aria-live="polite"></div>

    <script>
        (function() {
            'use strict';
            
            // ═══════════════════════════════════════════════════════════════
            // STATE
            // ═══════════════════════════════════════════════════════════════
            let commits = [];
            let metrics = {};
            let currentFilter = 'all';
            let currentSort = 'time';
            let searchQuery = '';
            let netClickCount = 0;
            
            // ═══════════════════════════════════════════════════════════════
            // INIT
            // ═══════════════════════════════════════════════════════════════
            async function init() {
                await loadData();
                initScrollProgress();
                initSectionNav();
                initHeroCounters();
                initHeroParallax();
                initScrollReveal();
                initTimeline();
                initCategoryList();
                initCommitList();
                initChangeCards();
                initFilters();
                initSearch();
                initSort();
                initEasterEgg();
                initMagneticButtons();
                initTiltCards();
                
                console.log('%c Exhale ', 'background: linear-gradient(135deg, #3b82f6, #22c55e); color: white; padding: 8px 16px; border-radius: 4px; font-weight: bold;');
                console.log('%c −7,287 lines lighter ', 'color: #ef4444; font-style: italic;');
            }
            
            // ═══════════════════════════════════════════════════════════════
            // DATA LOADING
            // ═══════════════════════════════════════════════════════════════
            async function loadData() {
                try {
                    const [commitsRes, metricsRes] = await Promise.all([
                        fetch('data/commits.json'),
                        fetch('data/metrics.json')
                    ]);
                    
                    const commitsData = await commitsRes.json();
                    commits = commitsData.commits || [];
                    metrics = await metricsRes.json();
                } catch (e) {
                    console.error('Failed to load data:', e);
                }
            }
            
            // ═══════════════════════════════════════════════════════════════
            // SCROLL PROGRESS
            // ═══════════════════════════════════════════════════════════════
            function initScrollProgress() {
                const bar = document.querySelector('.scroll-progress__bar');
                
                window.addEventListener('scroll', () => {
                    const scrollTop = window.scrollY;
                    const docHeight = document.documentElement.scrollHeight - window.innerHeight;
                    const progress = (scrollTop / docHeight) * 100;
                    bar.style.width = progress + '%';
                }, { passive: true });
            }
            
            // ═══════════════════════════════════════════════════════════════
            // SECTION NAVIGATION
            // ═══════════════════════════════════════════════════════════════
            function initSectionNav() {
                const dots = document.querySelectorAll('.section-nav__dot');
                const sections = ['hero', 'timeline', 'changes', 'categories', 'commits'];
                
                // Click handlers
                dots.forEach(dot => {
                    dot.addEventListener('click', () => {
                        const sectionId = dot.dataset.section;
                        const section = document.getElementById(sectionId);
                        if (section) {
                            section.scrollIntoView({ behavior: 'smooth' });
                        }
                    });
                });
                
                // Intersection observer for active state
                const observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            const id = entry.target.id;
                            dots.forEach(dot => {
                                dot.classList.toggle('active', dot.dataset.section === id);
                            });
                        }
                    });
                }, { rootMargin: '-40% 0px -40% 0px' });
                
                sections.forEach(id => {
                    const section = document.getElementById(id);
                    if (section) observer.observe(section);
                });
            }
            
            // ═══════════════════════════════════════════════════════════════
            // HERO COUNTERS
            // ═══════════════════════════════════════════════════════════════
            function initHeroCounters() {
                const counters = document.querySelectorAll('.stat__value[data-count]');
                
                const observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            animateCounter(entry.target);
                            observer.unobserve(entry.target);
                        }
                    });
                }, { threshold: 0.5 });
                
                counters.forEach(counter => observer.observe(counter));
            }
            
            function animateCounter(el) {
                const target = parseInt(el.dataset.count);
                const prefix = el.dataset.prefix || '';
                const duration = 1200;
                const startTime = performance.now();
                const isNegative = target < 0;
                const absTarget = Math.abs(target);
                
                function update(currentTime) {
                    const elapsed = currentTime - startTime;
                    const progress = Math.min(elapsed / duration, 1);
                    
                    // Ease out cubic
                    const eased = 1 - Math.pow(1 - progress, 3);
                    const current = Math.round(absTarget * eased);
                    
                    if (isNegative) {
                        el.textContent = '−' + current.toLocaleString();
                    } else {
                        el.textContent = prefix + current.toLocaleString();
                    }
                    
                    if (progress < 1) {
                        requestAnimationFrame(update);
                    } else {
                        if (isNegative) {
                            el.textContent = '−' + absTarget.toLocaleString();
                        } else {
                            el.textContent = prefix + absTarget.toLocaleString();
                        }
                    }
                }
                
                requestAnimationFrame(update);
            }
            
            // ═══════════════════════════════════════════════════════════════
            // SCROLL REVEAL
            // ═══════════════════════════════════════════════════════════════
            function initScrollReveal() {
                const sections = document.querySelectorAll('.section');
                
                const observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            entry.target.classList.add('revealed');
                            observer.unobserve(entry.target);
                        }
                    });
                }, { 
                    rootMargin: '0px 0px -10% 0px',
                    threshold: 0.1 
                });
                
                sections.forEach(section => observer.observe(section));
            }
            
            // ═══════════════════════════════════════════════════════════════
            // TIMELINE
            // ═══════════════════════════════════════════════════════════════
            function initTimeline() {
                const track = document.getElementById('timeline-track');
                if (!track || !commits.length) return;
                
                // Group commits by day
                const saturday = commits.filter(c => c.timestamp.startsWith('2026-01-24'));
                const sunday = commits.filter(c => c.timestamp.startsWith('2026-01-25'));
                
                const maxLines = Math.max(...commits.map(c => c.additions + c.deletions));
                
                function createDayColumn(dayCommits, label) {
                    const dayEl = document.createElement('div');
                    dayEl.className = 'timeline-day';
                    dayEl.innerHTML = `<span class="timeline-day__label">${label}</span>`;
                    
                    const commitsEl = document.createElement('div');
                    commitsEl.className = 'timeline-day__commits';
                    
                    dayCommits.forEach(commit => {
                        const lines = commit.additions + commit.deletions;
                        const height = Math.max(8, (lines / maxLines) * 80);
                        
                        const bar = document.createElement('div');
                        bar.className = 'timeline-commit';
                        bar.setAttribute('data-arc', commit.arc);
                        bar.setAttribute('data-subject', commit.subject.slice(0, 60));
                        bar.setAttribute('role', 'listitem');
                        bar.setAttribute('aria-label', commit.subject);
                        bar.style.height = height + 'px';
                        
                        bar.addEventListener('click', () => {
                            const commitEl = document.querySelector(`[data-hash="${commit.shortHash}"]`);
                            if (commitEl) {
                                commitEl.scrollIntoView({ behavior: 'smooth', block: 'center' });
                                commitEl.classList.add('expanded');
                                // On mobile, show a brief toast with the commit subject
                                if (window.innerWidth <= 768) {
                                    showToast(commit.subject.slice(0, 80) + (commit.subject.length > 80 ? '...' : ''));
                                }
                            }
                        });
                        
                        commitsEl.appendChild(bar);
                    });
                    
                    dayEl.appendChild(commitsEl);
                    return dayEl;
                }
                
                track.appendChild(createDayColumn(saturday, 'Saturday'));
                
                // Separator
                const sep = document.createElement('div');
                sep.style.cssText = 'width: 2px; background: var(--border-2); margin: 0 16px; align-self: stretch;';
                track.appendChild(sep);
                
                track.appendChild(createDayColumn(sunday, 'Sunday'));
            }
            
            // ═══════════════════════════════════════════════════════════════
            // CATEGORY LIST
            // ═══════════════════════════════════════════════════════════════
            function initCategoryList() {
                const container = document.getElementById('category-list');
                if (!container || !metrics.byArc) return;
                
                const colors = {
                    'ci-cd': 'var(--cat-cicd)',
                    'tpu-training': 'var(--cat-training)',
                    'architecture': 'var(--cat-architecture)',
                    'security': 'var(--cat-security)',
                    'quality': 'var(--cat-quality)',
                    'verification': 'var(--cat-verification)'
                };
                
                const names = {
                    'ci-cd': 'CI/CD Pipeline',
                    'tpu-training': 'TPU Training',
                    'architecture': 'Architecture',
                    'security': 'Security',
                    'quality': 'Quality',
                    'verification': 'Verification'
                };
                
                const maxCommits = Math.max(...Object.values(metrics.byArc).map(a => a.commits));
                
                const sorted = Object.entries(metrics.byArc).sort((a, b) => b[1].commits - a[1].commits);
                
                sorted.forEach(([arc, data], index) => {
                    const item = document.createElement('div');
                    item.className = 'category-item';
                    item.style.transitionDelay = `${index * 89}ms`;
                    
                    const width = (data.commits / maxCommits) * 100;
                    
                    item.innerHTML = `
                        <div class="category-item__color" style="background: ${colors[arc]}"></div>
                        <div class="category-item__info">
                            <div class="category-item__name">${names[arc]}</div>
                            <div class="category-item__bar">
                                <div class="category-item__bar-fill" style="width: ${width}%; background: ${colors[arc]}"></div>
                            </div>
                        </div>
                        <div class="category-item__stats">
                            <span>${data.commits} commits</span>
                            <span style="color: var(--growth)">+${data.additions.toLocaleString()}</span>
                            <span style="color: var(--reduce)">−${data.deletions.toLocaleString()}</span>
                        </div>
                    `;
                    
                    container.appendChild(item);
                });
            }
            
            // ═══════════════════════════════════════════════════════════════
            // COMMIT LIST
            // ═══════════════════════════════════════════════════════════════
            function initCommitList() {
                renderCommits();
            }
            
            function renderCommits() {
                const container = document.getElementById('commits-list');
                if (!container) return;
                
                let filtered = commits;
                
                // Apply category filter
                if (currentFilter !== 'all') {
                    filtered = filtered.filter(c => c.arc === currentFilter);
                }
                
                // Apply search
                if (searchQuery) {
                    const q = searchQuery.toLowerCase();
                    filtered = filtered.filter(c => 
                        c.subject.toLowerCase().includes(q) ||
                        c.shortHash.toLowerCase().includes(q)
                    );
                }
                
                // Apply sort
                if (currentSort === 'impact') {
                    filtered = [...filtered].sort((a, b) => 
                        (b.additions + b.deletions) - (a.additions + a.deletions)
                    );
                } else if (currentSort === 'category') {
                    filtered = [...filtered].sort((a, b) => a.arc.localeCompare(b.arc));
                }
                // 'time' is default order from data
                
                if (filtered.length === 0) {
                    container.innerHTML = '<div class="commits-empty">No commits match your filters</div>';
                    return;
                }
                
                container.innerHTML = filtered.map(commit => `
                    <div class="commit-item" data-arc="${commit.arc}" data-hash="${commit.shortHash}" role="listitem">
                        <span class="commit-item__hash">${commit.shortHash}</span>
                        <span class="commit-item__subject">${escapeHtml(commit.subject)}</span>
                        <span class="commit-item__stats">
                            <span class="commit-item__add">+${commit.additions.toLocaleString()}</span>
                            <span class="commit-item__del">−${commit.deletions.toLocaleString()}</span>
                        </span>
                        <div class="commit-item__details">
                            <div class="commit-item__files">
                                ${commit.files ? commit.files.slice(0, 5).map(f => `
                                    <div class="commit-item__file">
                                        <span>${escapeHtml(f.path)}</span>
                                        <span>
                                            <span style="color: var(--growth)">+${f.additions}</span>
                                            <span style="color: var(--reduce)">−${f.deletions}</span>
                                        </span>
                                    </div>
                                `).join('') : ''}
                                ${commit.files && commit.files.length > 5 ? `<div class="commit-item__file">...and ${commit.files.length - 5} more files</div>` : ''}
                            </div>
                        </div>
                    </div>
                `).join('');
                
                // Add click handlers for expansion
                container.querySelectorAll('.commit-item').forEach(item => {
                    item.addEventListener('click', () => {
                        item.classList.toggle('expanded');
                    });
                });
            }
            
            // ═══════════════════════════════════════════════════════════════
            // CHANGE CARDS
            // ═══════════════════════════════════════════════════════════════
            function initChangeCards() {
                const cards = document.querySelectorAll('.change-card');
                
                cards.forEach(card => {
                    const toggle = card.querySelector('.change-card__toggle');
                    const header = card.querySelector('.change-card__header');
                    
                    [toggle, header].forEach(el => {
                        el.addEventListener('click', (e) => {
                            if (e.target === toggle || e.currentTarget === header) {
                                card.classList.toggle('expanded');
                            }
                        });
                    });
                });
            }
            
            // ═══════════════════════════════════════════════════════════════
            // FILTERS
            // ═══════════════════════════════════════════════════════════════
            function initFilters() {
                const pills = document.querySelectorAll('.filter-pill');
                
                pills.forEach(pill => {
                    pill.addEventListener('click', (e) => {
                        // Sparkle effect
                        const rect = pill.getBoundingClientRect();
                        const x = ((e.clientX - rect.left) / rect.width) * 100;
                        const y = ((e.clientY - rect.top) / rect.height) * 100;
                        pill.style.setProperty('--x', x + '%');
                        pill.style.setProperty('--y', y + '%');
                        pill.classList.add('sparkle');
                        setTimeout(() => pill.classList.remove('sparkle'), 377);
                        
                        // Update active state
                        pills.forEach(p => p.classList.remove('active'));
                        pill.classList.add('active');
                        
                        // Update filter
                        currentFilter = pill.dataset.category;
                        renderCommits();
                    });
                });
            }
            
            // ═══════════════════════════════════════════════════════════════
            // SEARCH
            // ═══════════════════════════════════════════════════════════════
            function initSearch() {
                const input = document.getElementById('commits-search');
                if (!input) return;
                
                let debounceTimer;
                input.addEventListener('input', () => {
                    clearTimeout(debounceTimer);
                    debounceTimer = setTimeout(() => {
                        searchQuery = input.value;
                        renderCommits();
                    }, 233);
                });
            }
            
            // ═══════════════════════════════════════════════════════════════
            // SORT
            // ═══════════════════════════════════════════════════════════════
            function initSort() {
                const btns = document.querySelectorAll('.sort-btn');
                
                btns.forEach(btn => {
                    btn.addEventListener('click', () => {
                        btns.forEach(b => b.classList.remove('active'));
                        btn.classList.add('active');
                        currentSort = btn.dataset.sort;
                        renderCommits();
                    });
                });
            }
            
            // ═══════════════════════════════════════════════════════════════
            // EASTER EGG
            // ═══════════════════════════════════════════════════════════════
            function initEasterEgg() {
                const net = document.getElementById('footer-net');
                const toast = document.getElementById('toast');
                
                const messages = [
                    "Every deletion was a decision.",
                    "Sometimes the best code is no code.",
                    "A lighter codebase runs faster.",
                    "Entropy reduced. Clarity increased.",
                    "The weight of legacy, lifted.",
                    "7,287 lines of technical debt, paid.",
                    "Exhale."
                ];
                
                net.addEventListener('click', () => {
                    netClickCount++;
                    
                    // Bounce animation
                    net.style.transform = 'scale(1.3)';
                    setTimeout(() => net.style.transform = '', 233);
                    
                    if (netClickCount >= 7) {
                        showToast(messages[Math.floor(Math.random() * messages.length)]);
                        netClickCount = 0;
                    }
                });
                
                net.addEventListener('keydown', (e) => {
                    if (e.key === 'Enter' || e.key === ' ') {
                        e.preventDefault();
                        net.click();
                    }
                });
            }
            
            function showToast(message) {
                const toast = document.getElementById('toast');
                toast.textContent = message;
                toast.classList.add('visible');
                
                setTimeout(() => {
                    toast.classList.remove('visible');
                }, 3000);
            }
            
            // ═══════════════════════════════════════════════════════════════
            // MAGNETIC BUTTONS
            // ═══════════════════════════════════════════════════════════════
            function initMagneticButtons() {
                const buttons = document.querySelectorAll('.filter-pill, .sort-btn');
                
                buttons.forEach(btn => {
                    btn.addEventListener('mousemove', (e) => {
                        const rect = btn.getBoundingClientRect();
                        const x = e.clientX - rect.left - rect.width / 2;
                        const y = e.clientY - rect.top - rect.height / 2;
                        
                        btn.style.transform = `translate(${x * 0.1}px, ${y * 0.1}px)`;
                    });
                    
                    btn.addEventListener('mouseleave', () => {
                        btn.style.transform = '';
                    });
                });
            }
            
            // ═══════════════════════════════════════════════════════════════
            // TILT EFFECT
            // ═══════════════════════════════════════════════════════════════
            function initTiltCards() {
                const cards = document.querySelectorAll('.change-card, .commit-item');
                
                cards.forEach(card => {
                    card.classList.add('tilt-card');
                    
                    card.addEventListener('mousemove', (e) => {
                        if (window.matchMedia('(prefers-reduced-motion: reduce)').matches) return;
                        
                        const rect = card.getBoundingClientRect();
                        const x = e.clientX - rect.left;
                        const y = e.clientY - rect.top;
                        const centerX = rect.width / 2;
                        const centerY = rect.height / 2;
                        
                        // Subtle tilt (max 3 degrees)
                        const tiltX = ((y - centerY) / centerY) * -3;
                        const tiltY = ((x - centerX) / centerX) * 3;
                        
                        // Shine position
                        const shineX = ((x / rect.width) * 200) - 100;
                        
                        card.style.setProperty('--tilt-x', `${tiltX}deg`);
                        card.style.setProperty('--tilt-y', `${tiltY}deg`);
                        card.style.setProperty('--shine-x', `${shineX}%`);
                    });
                    
                    card.addEventListener('mouseleave', () => {
                        card.style.setProperty('--tilt-x', '0deg');
                        card.style.setProperty('--tilt-y', '0deg');
                        card.style.setProperty('--shine-x', '-100%');
                    });
                });
            }
            
            // ═══════════════════════════════════════════════════════════════
            // HERO PARALLAX
            // ═══════════════════════════════════════════════════════════════
            function initHeroParallax() {
                const hero = document.querySelector('.hero');
                const eyebrow = document.querySelector('.hero__eyebrow');
                const title = document.querySelector('.hero__title');
                const subtitle = document.querySelector('.hero__subtitle');
                const stats = document.querySelector('.hero__stats');
                const scrollIndicator = document.querySelector('.hero__scroll');
                
                if (!hero || window.matchMedia('(prefers-reduced-motion: reduce)').matches) return;
                
                window.addEventListener('scroll', () => {
                    const scrollY = window.scrollY;
                    const heroHeight = hero.offsetHeight;
                    
                    if (scrollY > heroHeight) return;
                    
                    const progress = scrollY / heroHeight;
                    
                    // Different speeds for parallax layers
                    if (eyebrow) eyebrow.style.transform = `translateY(${scrollY * 0.3}px)`;
                    if (title) title.style.transform = `translateY(${scrollY * 0.2}px)`;
                    if (subtitle) subtitle.style.transform = `translateY(${scrollY * 0.15}px)`;
                    if (stats) stats.style.transform = `translateY(${scrollY * 0.1}px)`;
                    if (scrollIndicator) {
                        scrollIndicator.style.opacity = Math.max(0, 1 - progress * 2);
                    }
                }, { passive: true });
            }
            
            // ═══════════════════════════════════════════════════════════════
            // UTILITIES
            // ═══════════════════════════════════════════════════════════════
            function escapeHtml(str) {
                const div = document.createElement('div');
                div.textContent = str;
                return div.innerHTML;
            }
            
            // ═══════════════════════════════════════════════════════════════
            // START
            // ═══════════════════════════════════════════════════════════════
            if (document.readyState === 'loading') {
                document.addEventListener('DOMContentLoaded', init);
            } else {
                init();
            }
            
            // ═══════════════════════════════════════════════════════════════
            // SERVICE WORKER REGISTRATION
            // ═══════════════════════════════════════════════════════════════
            if ('serviceWorker' in navigator) {
                window.addEventListener('load', () => {
                    navigator.serviceWorker.register('/sw.js')
                        .then((registration) => {
                            console.log('[App] Service Worker registered:', registration.scope);
                        })
                        .catch((error) => {
                            console.log('[App] Service Worker registration failed:', error);
                        });
                });
            }
        })();
    </script>
</body>
</html>
