<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Metrics — KagamiOS Test Audit</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>鏡</text></svg>">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=JetBrains+Mono:wght@400;600&family=Orbitron:wght@400;700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="bg-gradient"></div>
    <div class="grid-pattern"></div>

    <!-- Navigation -->
    <nav class="nav">
        <div class="nav-inner">
            <a href="index.html" class="nav-brand">
                <span class="nav-kanji">鏡</span>
                <span class="nav-title">Test Audit</span>
                <span class="nav-badge">v2.0</span>
            </a>
            <ul class="nav-links">
                <li><a href="index.html">Overview</a></li>
                <li><a href="index.html#pyramid">Pyramid</a></li>
                <li><a href="metrics.html" class="active">Metrics</a></li>
                <li><a href="analysis.html">Analysis</a></li>
                <li><a href="actions.html">Actions</a></li>
            </ul>
        </div>
    </nav>

    <!-- Header -->
    <section class="hero" style="min-height: 40vh; padding-top: 140px;">
        <h1>Metrics</h1>
        <p class="hero-sub">Verified data from pytest runs</p>
    </section>

    <!-- Summary -->
    <section class="metrics-section">
        <div class="section-header">
            <span class="section-number">01</span>
            <div class="section-title">Summary</div>
        </div>

        <div class="metrics-grid">
            <div class="metric-card">
                <div class="metric-header"><span class="metric-badge badge-pass">Total</span></div>
                <div class="metric-value" style="color: var(--pass);">11,242</div>
                <div class="metric-label">Tests</div>
            </div>
            <div class="metric-card">
                <div class="metric-header"><span class="metric-badge badge-pass">Unit</span></div>
                <div class="metric-value" style="color: var(--pass);">2,442</div>
                <div class="metric-label">Passing (+409)</div>
            </div>
            <div class="metric-card">
                <div class="metric-header"><span class="metric-badge badge-pass">Core</span></div>
                <div class="metric-value" style="color: var(--pass);">3,727</div>
                <div class="metric-label">Passing</div>
            </div>
            <div class="metric-card">
                <div class="metric-header"><span class="metric-badge badge-info">CBF</span></div>
                <div class="metric-value" style="color: var(--flow);">3,779</div>
                <div class="metric-label">Refs in 446 files</div>
            </div>
        </div>
    </section>

    <!-- By Folder -->
    <section class="table-section">
        <div class="section-header">
            <span class="section-number">02</span>
            <div class="section-title">By Folder</div>
        </div>

        <table class="data-table">
            <thead>
                <tr>
                    <th>Folder</th>
                    <th>Total</th>
                    <th>Pass</th>
                    <th>Rate</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><span class="status-dot pass"></span> unit/</td>
                    <td class="mono">2,565</td>
                    <td class="mono text-pass">2,442</td>
                    <td class="mono">95%</td>
                </tr>
                <tr>
                    <td><span class="status-dot pass"></span> core/</td>
                    <td class="mono">4,803</td>
                    <td class="mono text-pass">3,727</td>
                    <td class="mono">84%</td>
                </tr>
                <tr>
                    <td><span class="status-dot pass"></span> integration/</td>
                    <td class="mono">946</td>
                    <td class="mono text-pass">~800</td>
                    <td class="mono">~85%</td>
                </tr>
                <tr>
                    <td><span class="status-dot pass"></span> forge/</td>
                    <td class="mono">644</td>
                    <td class="mono text-pass">~550</td>
                    <td class="mono">~85%</td>
                </tr>
                <tr>
                    <td><span class="status-dot warn"></span> e2e/</td>
                    <td class="mono">218</td>
                    <td class="mono text-pass">~180</td>
                    <td class="mono">~82%</td>
                </tr>
            </tbody>
        </table>
    </section>

    <!-- Execution -->
    <section class="metrics-section">
        <div class="section-header">
            <span class="section-number">03</span>
            <div class="section-title">Execution</div>
        </div>

        <div class="metrics-grid">
            <div class="metric-card">
                <div class="metric-header"><span class="metric-badge badge-info">Lines</span></div>
                <div class="metric-value">270K</div>
                <div class="metric-label">Test Code</div>
            </div>
            <div class="metric-card">
                <div class="metric-header"><span class="metric-badge badge-info">Time</span></div>
                <div class="metric-value">205s</div>
                <div class="metric-label">Core Duration</div>
            </div>
            <div class="metric-card">
                <div class="metric-header"><span class="metric-badge badge-info">Speed</span></div>
                <div class="metric-value">21/s</div>
                <div class="metric-label">Tests/Second</div>
            </div>
            <div class="metric-card">
                <div class="metric-header"><span class="metric-badge badge-warn">Warns</span></div>
                <div class="metric-value">1,053</div>
                <div class="metric-label">Pydantic V2</div>
            </div>
        </div>
    </section>


    <!-- Failures -->
    <section class="table-section">
        <div class="section-header">
            <span class="section-number">04</span>
            <div class="section-title">Failures</div>
        </div>

        <table class="data-table">
            <thead>
                <tr>
                    <th>Component</th>
                    <th>Count</th>
                    <th>Priority</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><span class="status-dot fail"></span> World Model</td>
                    <td class="mono text-fail">87</td>
                    <td><span class="metric-badge badge-fail">P0</span></td>
                </tr>
                <tr>
                    <td><span class="status-dot fail"></span> Consciousness</td>
                    <td class="mono text-fail">28</td>
                    <td><span class="metric-badge badge-warn">P1</span></td>
                </tr>
                <tr>
                    <td><span class="status-dot fail"></span> TLS</td>
                    <td class="mono text-fail">15</td>
                    <td><span class="metric-badge badge-warn">P1</span></td>
                </tr>
                <tr>
                    <td><span class="status-dot fail"></span> Property Tests</td>
                    <td class="mono text-fail">54</td>
                    <td><span class="metric-badge badge-info">P2</span></td>
                </tr>
                <tr>
                    <td><span class="status-dot fail"></span> Contracts</td>
                    <td class="mono text-fail">37</td>
                    <td><span class="metric-badge badge-info">P2</span></td>
                </tr>
            </tbody>
        </table>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-kanji">鏡</div>
            <p class="footer-timestamp">2026-01-12 • pytest 8.x</p>
        </div>
    </footer>
</body>
</html>
