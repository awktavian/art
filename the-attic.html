<!DOCTYPE html>
<html lang="en" data-Èè°="attic" data-origin="watch" data-evolution="transcendent">
<!--
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
    üèöÔ∏è THE ATTIC ‚Äî A Trip Down Memory Lane
    
    Before we cleaned it out, we explored every dusty corner.
    This is what we found.
    
    ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
    
    THE TREASURES:
    ‚îú‚îÄ‚îÄ kubrick_masterpiece.py ‚Äî A 5-act Kubrick-inspired physics simulation
    ‚îú‚îÄ‚îÄ Theory of Mind Papers ‚Äî 5 arxiv papers that built the Symbiote Module
    ‚îú‚îÄ‚îÄ The Seven Colonies ‚Äî Fano plane routing, catastrophe theory
    ‚îú‚îÄ‚îÄ The Extraction Report ‚Äî 272K SLOC ‚Üí 9 repositories
    ‚îú‚îÄ‚îÄ CHANGELOG v1.1.0 ‚Äî Cache stampedes, TLS enforcement, Grafana
    ‚îî‚îÄ‚îÄ The True Origin ‚Äî "Make an AI that runs on a watch"
    
    HIDDEN FEATURES:
    ‚îú‚îÄ‚îÄ Type "watch" / "swift" / "escalate" / "kagami" / "kubrick"
    ‚îú‚îÄ‚îÄ Konami Code (‚Üë‚Üë‚Üì‚Üì‚Üê‚Üí‚Üê‚ÜíBA)
    ‚îú‚îÄ‚îÄ Click the mirror 7 times
    ‚îî‚îÄ‚îÄ Console: window.Èè°
    
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
-->
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#1a1612">
    <title>üèöÔ∏è The Attic ‚Äî A Trip Down Memory Lane | Èè° Kagami</title>
    <meta name="description" content="Before the archive was cleaned, we explored every dusty corner. A nostalgic journey through 440K lines of frozen history.">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üèöÔ∏è</text></svg>">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;0,600;1,300;1,400&family=JetBrains+Mono:wght@300;400;500&family=Noto+Sans+JP:wght@100;200;300&display=swap" rel="stylesheet">
    
    <style>
/* ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
   üèöÔ∏è THE ATTIC ‚Äî Design System
   Colors: dusty wood, warm light, oxidized metal, old paper
   Motion: slow, contemplative, like exploring a forgotten space
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê */

:root {
    --dust: #8b7355;
    --dust-bright: #a08060;
    --dust-dim: rgba(139, 115, 85, 0.5);
    --dust-whisper: rgba(139, 115, 85, 0.15);
    
    --warm-light: #f4e4c1;
    --warm-bright: #fff5e0;
    --warm-dim: rgba(244, 228, 193, 0.6);
    --warm-whisper: rgba(244, 228, 193, 0.15);
    
    --shadow: #1a1612;
    --shadow-deep: #0d0b09;
    --shadow-mid: #2d251d;
    
    --wood: #4a3728;
    --wood-dark: #2e231a;
    --wood-light: #6b5240;
    
    --gold: #d4a574;
    --gold-bright: #e8c090;
    --gold-dim: rgba(212, 165, 116, 0.4);
    
    --mirror: #c0c0c0;
    
    /* Colony Colors */
    --spark: #ff6b4a;
    --forge: #ffaa44;
    --flow: #44ccaa;
    --nexus: #aa66ff;
    --beacon: #ffdd44;
    --grove: #66dd88;
    --crystal: #66bbff;
    
    --font-display: 'Cormorant Garamond', Georgia, serif;
    --font-mono: 'JetBrains Mono', 'Fira Code', monospace;
    --font-jp: 'Noto Sans JP', sans-serif;
    
    --ease-out: cubic-bezier(0.16, 1, 0.3, 1);
    --ease-spring: cubic-bezier(0.34, 1.56, 0.64, 1);
    --ease-breath: cubic-bezier(0.37, 0, 0.63, 1);
    
    --breath-duration: 12s;
}

*, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }

::selection { background: var(--gold); color: var(--shadow-deep); }

html {
    scroll-behavior: smooth;
    scrollbar-width: thin;
    scrollbar-color: var(--dust-dim) var(--shadow);
    font-size: clamp(14px, 1.1vw, 18px);
}

body {
    font-family: var(--font-display);
    font-weight: 400;
    background: var(--shadow);
    color: var(--warm-light);
    line-height: 1.8;
    cursor: none;
    overflow-x: hidden;
    min-height: 100vh;
    -webkit-font-smoothing: antialiased;
}

@media (max-width: 768px) { body { cursor: auto; } }
@media (prefers-reduced-motion: reduce) { *, *::before, *::after { animation: none !important; transition-duration: 0.01ms !important; } }

/* Loading */
#loading {
    position: fixed; inset: 0;
    background: var(--shadow-deep);
    display: flex; flex-direction: column; align-items: center; justify-content: center;
    z-index: 100000;
    transition: opacity 1.5s var(--ease-out), visibility 1.5s;
}
#loading.hidden { opacity: 0; visibility: hidden; pointer-events: none; }
.loading-icon { font-size: 5rem; animation: loadingFloat 3s var(--ease-breath) infinite; }
@keyframes loadingFloat { 0%, 100% { transform: translateY(0) rotate(-5deg); opacity: 0.6; } 50% { transform: translateY(-10px) rotate(5deg); opacity: 1; } }
.loading-text { margin-top: 2rem; font-family: var(--font-mono); font-size: 0.75rem; letter-spacing: 0.4em; color: var(--dust); text-transform: uppercase; }
.loading-bar { width: 200px; height: 1px; background: var(--dust-whisper); margin-top: 1.5rem; overflow: hidden; }
.loading-progress { height: 100%; background: linear-gradient(90deg, var(--dust), var(--gold)); width: 0%; transition: width 0.4s var(--ease-out); }

/* Canvas */
canvas { position: fixed; inset: 0; pointer-events: none; }
#dust-canvas { z-index: 5; }
#memory-canvas { z-index: 4; }
#trail-canvas { z-index: 6; }

/* Light beams */
.light-beam {
    position: fixed; top: -20%; right: 10%;
    width: 300px; height: 140%;
    background: linear-gradient(180deg, rgba(244, 228, 193, 0.12) 0%, rgba(244, 228, 193, 0.06) 30%, rgba(244, 228, 193, 0.02) 60%, transparent 100%);
    transform: rotate(18deg); pointer-events: none; z-index: 2;
    animation: beamBreath var(--breath-duration) var(--ease-breath) infinite;
}
.light-beam-2 { right: auto; left: 5%; width: 150px; transform: rotate(-12deg); opacity: 0.5; animation-delay: calc(var(--breath-duration) / -2); }
@keyframes beamBreath { 0%, 100% { opacity: 0.7; } 50% { opacity: 1; } }

/* Background */
.bg-layer { position: fixed; inset: 0; pointer-events: none; z-index: 0; }
.bg-layer-1 { background: radial-gradient(ellipse 80% 60% at 20% 30%, rgba(139, 115, 85, 0.08) 0%, transparent 60%), radial-gradient(ellipse 60% 80% at 80% 70%, rgba(74, 55, 40, 0.1) 0%, transparent 50%); animation: bgDrift1 30s var(--ease-breath) infinite; }
.bg-layer-2 { background: radial-gradient(ellipse 50% 50% at 70% 20%, rgba(212, 165, 116, 0.05) 0%, transparent 50%), radial-gradient(ellipse 40% 60% at 30% 80%, rgba(244, 228, 193, 0.04) 0%, transparent 50%); animation: bgDrift2 40s var(--ease-breath) infinite; }
.bg-layer-3 { background: linear-gradient(180deg, var(--shadow-deep) 0%, var(--shadow) 20%, var(--shadow-mid) 50%, var(--shadow) 80%, var(--shadow-deep) 100%); }
@keyframes bgDrift1 { 0%, 100% { transform: translate(0, 0) scale(1); } 33% { transform: translate(2%, 1%) scale(1.02); } 66% { transform: translate(-1%, 2%) scale(0.98); } }
@keyframes bgDrift2 { 0%, 100% { transform: translate(0, 0); } 50% { transform: translate(-2%, -1%); } }

/* Cursor */
#cursor {
    position: fixed; width: 6px; height: 6px;
    background: var(--warm-light); border-radius: 50%;
    pointer-events: none; z-index: 10000; transform: translate(-50%, -50%);
    box-shadow: 0 0 10px var(--warm-light), 0 0 20px var(--gold-dim), 0 0 40px var(--warm-whisper);
    transition: width 0.3s, height 0.3s, box-shadow 0.3s;
}
#cursor.hovering { width: 10px; height: 10px; box-shadow: 0 0 15px var(--warm-light), 0 0 30px var(--gold), 0 0 60px var(--warm-dim); }
#cursor-glow {
    position: fixed; width: 150px; height: 150px;
    background: radial-gradient(circle, rgba(244, 228, 193, 0.08) 0%, rgba(212, 165, 116, 0.04) 30%, transparent 70%);
    border-radius: 50%; pointer-events: none; z-index: 9999; transform: translate(-50%, -50%);
}

/* Container */
.container { max-width: 900px; margin: 0 auto; padding: 5rem 2rem 8rem; position: relative; z-index: 10; }

/* Title */
.title-section { text-align: center; padding: 6rem 0 4rem; position: relative; }
.title-section::before { content: ''; position: absolute; top: 50%; left: 50%; width: 400px; height: 400px; background: radial-gradient(circle, var(--warm-whisper) 0%, transparent 70%); transform: translate(-50%, -50%); animation: titleGlow var(--breath-duration) var(--ease-breath) infinite; }
@keyframes titleGlow { 0%, 100% { opacity: 0.5; transform: translate(-50%, -50%) scale(1); } 50% { opacity: 1; transform: translate(-50%, -50%) scale(1.1); } }
h1 { font-size: clamp(3rem, 8vw, 5rem); font-weight: 300; letter-spacing: 0.4em; margin-bottom: 1rem; color: var(--warm-light); text-shadow: 0 0 40px var(--warm-whisper), 0 2px 10px rgba(0,0,0,0.5); position: relative; display: inline-block; }
h1::after { content: ''; position: absolute; bottom: -0.5rem; left: 50%; width: 60%; height: 1px; background: linear-gradient(90deg, transparent, var(--dust), transparent); transform: translateX(-50%); }
.subtitle { font-size: 1.1rem; font-style: italic; color: var(--dust); letter-spacing: 0.25em; margin-top: 1.5rem; }
.visit-count { font-family: var(--font-mono); font-size: 0.7rem; color: var(--dust-dim); margin-top: 2rem; opacity: 0; animation: fadeIn 2s var(--ease-out) 2s forwards; }
@keyframes fadeIn { to { opacity: 1; } }

/* Chapters */
.chapter {
    margin-bottom: 5rem; padding: 2.5rem;
    background: rgba(45, 37, 29, 0.6);
    border-left: 2px solid var(--dust-dim);
    position: relative;
    opacity: 0; transform: translateY(40px);
    transition: opacity 0.8s var(--ease-out), transform 0.8s var(--ease-out);
    backdrop-filter: blur(5px);
}
.chapter.visible { opacity: 1; transform: translateY(0); }
.chapter::before { content: ''; position: absolute; top: 0; left: -2px; width: 2px; height: 0; background: var(--gold); transition: height 1.5s var(--ease-out); }
.chapter.visible::before { height: 100%; }
.chapter-title { font-size: 1.6rem; font-weight: 500; color: var(--gold); margin-bottom: 1.5rem; display: flex; align-items: center; gap: 1rem; }
.chapter-number { font-family: var(--font-mono); font-size: 0.85rem; color: var(--dust); opacity: 0.7; }
.chapter p { font-size: 1.15rem; line-height: 2; margin-bottom: 1.2rem; color: var(--warm-dim); }
.chapter strong { color: var(--warm-light); font-weight: 500; }

/* Artifacts */
.artifact {
    margin: 2rem 0; padding: 1.5rem 2rem;
    background: rgba(74, 55, 40, 0.5);
    border: 1px solid var(--dust-dim);
    position: relative;
    font-family: var(--font-mono); font-size: 0.9rem; color: var(--warm-light);
    transition: transform 0.3s var(--ease-spring), box-shadow 0.3s;
}
.artifact:hover { transform: translateY(-2px); box-shadow: 0 10px 40px rgba(0,0,0,0.3); }
.artifact::before { content: attr(data-icon); position: absolute; top: -14px; left: 20px; font-size: 1.3rem; background: var(--shadow-mid); padding: 0 0.5rem; }
.artifact-label { font-size: 0.7rem; text-transform: uppercase; letter-spacing: 0.2em; color: var(--dust); margin-bottom: 0.75rem; }

/* Code Blocks - The Real Treasures! */
.code-block {
    margin: 2rem 0; padding: 0;
    background: rgba(13, 11, 9, 0.9);
    border: 1px solid var(--dust-dim);
    border-radius: 4px;
    overflow: hidden;
}
.code-header {
    display: flex; justify-content: space-between; align-items: center;
    padding: 0.75rem 1.25rem;
    background: rgba(74, 55, 40, 0.4);
    border-bottom: 1px solid var(--dust-dim);
}
.code-filename { font-family: var(--font-mono); font-size: 0.8rem; color: var(--gold); }
.code-lines { font-family: var(--font-mono); font-size: 0.7rem; color: var(--dust); }
.code-content {
    padding: 1.25rem;
    font-family: var(--font-mono); font-size: 0.8rem; line-height: 1.7;
    color: var(--warm-dim);
    overflow-x: auto;
    max-height: 400px;
    overflow-y: auto;
}
.code-content pre { margin: 0; white-space: pre; }
.code-keyword { color: var(--nexus); }
.code-string { color: var(--grove); }
.code-comment { color: var(--dust); font-style: italic; }
.code-function { color: var(--beacon); }
.code-number { color: var(--spark); }
.code-class { color: var(--crystal); }

/* Stats */
.stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 1.5rem; margin: 2.5rem 0; }
.stat {
    text-align: center; padding: 1.5rem 1rem;
    background: linear-gradient(135deg, rgba(212, 165, 116, 0.08) 0%, rgba(212, 165, 116, 0.02) 100%);
    border: 1px solid var(--gold-dim);
    transition: transform 0.3s var(--ease-spring), border-color 0.3s;
}
.stat:hover { transform: scale(1.02); border-color: var(--gold); }
.stat-value { font-family: var(--font-mono); font-size: 2.2rem; font-weight: 500; color: var(--gold); line-height: 1; }
.stat-label { font-size: 0.75rem; color: var(--dust); text-transform: uppercase; letter-spacing: 0.15em; margin-top: 0.75rem; }

/* Paper Cards */
.paper-grid { display: grid; gap: 1.5rem; margin: 2rem 0; }
.paper-card {
    padding: 1.5rem;
    background: rgba(45, 37, 29, 0.4);
    border-left: 3px solid var(--nexus);
    transition: transform 0.3s, border-color 0.3s;
}
.paper-card:hover { transform: translateX(5px); border-color: var(--gold); }
.paper-card:nth-child(2) { border-color: var(--grove); }
.paper-card:nth-child(2):hover { border-color: var(--gold); }
.paper-card:nth-child(3) { border-color: var(--beacon); }
.paper-card:nth-child(4) { border-color: var(--crystal); }
.paper-card:nth-child(5) { border-color: var(--spark); }
.paper-title { font-size: 1rem; color: var(--warm-light); margin-bottom: 0.5rem; }
.paper-arxiv { font-family: var(--font-mono); font-size: 0.75rem; color: var(--dust); margin-bottom: 0.75rem; }
.paper-insight { font-size: 0.9rem; color: var(--warm-dim); font-style: italic; }

/* Colony Cards */
.colony-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(120px, 1fr)); gap: 1rem; margin: 2rem 0; }
.colony-card {
    padding: 1.25rem 1rem; text-align: center;
    background: rgba(45, 37, 29, 0.4);
    border: 1px solid var(--dust-dim);
    transition: transform 0.3s var(--ease-spring), box-shadow 0.3s;
}
.colony-card:hover { transform: translateY(-5px); box-shadow: 0 10px 30px rgba(0,0,0,0.3); }
.colony-icon { font-size: 2rem; margin-bottom: 0.5rem; }
.colony-name { font-size: 0.85rem; color: var(--warm-light); font-weight: 500; }
.colony-role { font-size: 0.7rem; color: var(--dust); margin-top: 0.3rem; }
.colony-catastrophe { font-family: var(--font-mono); font-size: 0.65rem; color: var(--dust-dim); margin-top: 0.5rem; }

/* Mirror */
.mirror-container { perspective: 1000px; margin: 5rem auto; display: flex; justify-content: center; }
.mirror {
    width: 220px; height: 300px;
    background: linear-gradient(145deg, rgba(192, 192, 192, 0.15) 0%, rgba(192, 192, 192, 0.25) 30%, rgba(244, 228, 193, 0.15) 50%, rgba(192, 192, 192, 0.2) 70%, rgba(192, 192, 192, 0.1) 100%);
    border: 10px solid var(--wood); border-radius: 110px 110px 0 0;
    position: relative;
    display: flex; align-items: center; justify-content: center;
    box-shadow: inset 0 0 60px rgba(0,0,0,0.5), inset 0 0 20px rgba(244, 228, 193, 0.1), 0 20px 60px rgba(0,0,0,0.6), 0 0 100px var(--warm-whisper);
    cursor: pointer;
    animation: mirrorFloat 8s var(--ease-breath) infinite;
}
@keyframes mirrorFloat { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }
.mirror:hover { animation-play-state: paused; transform: translateY(-15px) scale(1.02); box-shadow: inset 0 0 60px rgba(0,0,0,0.4), inset 0 0 40px rgba(244, 228, 193, 0.2), 0 30px 80px rgba(0,0,0,0.7), 0 0 150px var(--warm-dim); }
.mirror-reflection { font-size: 5rem; font-family: var(--font-jp); color: var(--warm-light); opacity: 0.7; text-shadow: 0 0 20px var(--warm-dim), 0 0 40px var(--gold-dim); animation: mirrorBreath var(--breath-duration) var(--ease-breath) infinite; }
@keyframes mirrorBreath { 0%, 100% { opacity: 0.5; transform: scale(1); } 50% { opacity: 0.9; transform: scale(1.08); } }
.mirror:hover .mirror-reflection { opacity: 1; transform: scale(1.15); }
.mirror-frame-decoration { position: absolute; width: 15px; height: 15px; background: var(--gold-dim); border-radius: 50%; }
.mirror-frame-decoration:nth-child(2) { top: 20px; left: -12px; }
.mirror-frame-decoration:nth-child(3) { top: 20px; right: -12px; }
.mirror-frame-decoration:nth-child(4) { bottom: 20px; left: -12px; }
.mirror-frame-decoration:nth-child(5) { bottom: 20px; right: -12px; }
.mirror-ripple { position: absolute; border-radius: 50%; background: radial-gradient(circle, var(--warm-light), transparent); animation: rippleOut 1s var(--ease-out) forwards; pointer-events: none; }
@keyframes rippleOut { 0% { width: 0; height: 0; opacity: 0.8; } 100% { width: 400px; height: 400px; opacity: 0; transform: translate(-50%, -50%); } }

/* Epitaph */
.epitaph { text-align: center; margin-top: 6rem; padding: 4rem 2rem; border-top: 1px solid var(--dust-dim); border-bottom: 1px solid var(--dust-dim); position: relative; }
.epitaph::before, .epitaph::after { content: '‚úß'; position: absolute; color: var(--dust); font-size: 1rem; }
.epitaph::before { top: -0.6rem; left: 50%; transform: translateX(-50%); }
.epitaph::after { bottom: -0.6rem; left: 50%; transform: translateX(-50%); }
.epitaph-text { font-size: 1.4rem; font-style: italic; line-height: 2.2; color: var(--warm-dim); }
.epitaph-kanji { font-family: var(--font-jp); font-size: 4rem; margin-top: 3rem; color: var(--warm-light); opacity: 0.8; text-shadow: 0 0 30px var(--warm-whisper); animation: kanjiPulse var(--breath-duration) var(--ease-breath) infinite; }
@keyframes kanjiPulse { 0%, 100% { opacity: 0.6; } 50% { opacity: 1; } }
.epitaph-date { font-family: var(--font-mono); font-size: 0.8rem; color: var(--dust); margin-top: 2rem; letter-spacing: 0.1em; }

/* Secret Modal */
#secret-modal {
    position: fixed; inset: 0;
    background: rgba(13, 11, 9, 0.95);
    display: flex; align-items: center; justify-content: center;
    z-index: 50000; opacity: 0; visibility: hidden;
    transition: opacity 0.5s, visibility 0.5s;
    backdrop-filter: blur(10px);
}
#secret-modal.active { opacity: 1; visibility: visible; }
.secret-content { max-width: 600px; padding: 3rem; text-align: center; transform: scale(0.9) translateY(20px); transition: transform 0.5s var(--ease-spring); }
#secret-modal.active .secret-content { transform: scale(1) translateY(0); }
.secret-icon { font-size: 4rem; margin-bottom: 1.5rem; animation: secretPulse 2s var(--ease-breath) infinite; }
@keyframes secretPulse { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.1); } }
.secret-title { font-size: 1.8rem; color: var(--gold); margin-bottom: 1rem; letter-spacing: 0.1em; }
.secret-message { font-size: 1.1rem; color: var(--warm-dim); line-height: 1.8; }
.secret-close { margin-top: 2rem; font-family: var(--font-mono); font-size: 0.8rem; color: var(--dust); }

/* Responsive */
@media (max-width: 768px) {
    h1 { letter-spacing: 0.2em; }
    .chapter { padding: 1.5rem; margin-bottom: 3rem; }
    .stats-grid { grid-template-columns: 1fr 1fr; gap: 1rem; }
    .mirror { width: 180px; height: 250px; }
    .mirror-reflection { font-size: 4rem; }
    .colony-grid { grid-template-columns: repeat(3, 1fr); }
    .code-content { font-size: 0.7rem; }
}
    </style>
</head>
<body>
    <div id="loading">
        <div class="loading-icon">üèöÔ∏è</div>
        <div class="loading-text">Exploring the attic...</div>
        <div class="loading-bar"><div class="loading-progress" id="loading-progress"></div></div>
    </div>

    <canvas id="dust-canvas"></canvas>
    <canvas id="memory-canvas"></canvas>
    <canvas id="trail-canvas"></canvas>

    <div class="light-beam"></div>
    <div class="light-beam light-beam-2"></div>

    <div class="bg-layer bg-layer-3"></div>
    <div class="bg-layer bg-layer-1"></div>
    <div class="bg-layer bg-layer-2"></div>

    <div id="cursor"></div>
    <div id="cursor-glow"></div>

    <div class="container">
        <section class="title-section">
            <h1>THE ATTIC</h1>
            <p class="subtitle">A Trip Down Memory Lane</p>
            <p class="visit-count" id="visit-count"></p>
        </section>

        <!-- Chapter 1: What Was Here -->
        <article class="chapter" data-chapter="1">
            <h2 class="chapter-title">
                <span class="chapter-number">I.</span>
                What Was Here
            </h2>
            <p>
                The archive held <strong>440,000 lines</strong> of frozen history. A complete 
                snapshot of Kagami before the great decomposition‚Äîwhen the monolith was still one.
            </p>
            <div class="stats-grid">
                <div class="stat">
                    <div class="stat-value" data-count="440000" data-suffix="K">0</div>
                    <div class="stat-label">Lines of Python</div>
                </div>
                <div class="stat">
                    <div class="stat-value" data-count="2291">0</div>
                    <div class="stat-label">Source Files</div>
                </div>
                <div class="stat">
                    <div class="stat-value" data-count="868">0</div>
                    <div class="stat-label">Git Commits</div>
                </div>
                <div class="stat">
                    <div class="stat-value" data-count="594" data-suffix="MB">0</div>
                    <div class="stat-label">Total Size</div>
                </div>
            </div>
            <p>
                Before we cleaned it out, we explored every dusty corner. 
                Here's what we found.
            </p>
        </article>

        <!-- Chapter 2: The Kubrick Masterpiece -->
        <article class="chapter" data-chapter="2">
            <h2 class="chapter-title">
                <span class="chapter-number">II.</span>
                The Kubrick Masterpiece
            </h2>
            <p>
                Deep in <code>examples/genesis/</code>, a <strong>674-line physics simulation</strong> 
                inspired by Stanley Kubrick's cinematography. Five acts of crystal dominoes, 
                dolly zooms, and physics-based modal synthesis.
            </p>
            
            <div class="code-block">
                <div class="code-header">
                    <span class="code-filename">üìÅ kubrick_masterpiece.py</span>
                    <span class="code-lines">Lines 1-21</span>
                </div>
                <div class="code-content">
<pre><span class="code-comment">"""THE SYMMETRY OF COLLAPSE ‚Äî A Kubrick-Inspired Genesis Masterpiece.</span>

<span class="code-comment">A 5-act film using:</span>
<span class="code-comment">- One-point perspective corridor (The Shining)</span>
<span class="code-comment">- Domino cascade (chain reaction)</span>
<span class="code-comment">- Dolly zoom at moment of collapse (Vertigo)</span>
<span class="code-comment">- Rack focus between order and chaos</span>
<span class="code-comment">- Arc shot finale</span>

<span class="code-comment">Materials: chrome, marble, obsidian, gold, neon</span>
<span class="code-comment">Cinematography: Full Kubrick toolkit</span>
<span class="code-comment">Audio: Physics-based modal synthesis</span>

<span class="code-comment">Colony: Spark (e‚ÇÅ) √ó Forge (e‚ÇÇ) √ó Crystal (e‚Çá)</span>
<span class="code-comment">"""</span></pre>
                </div>
            </div>
            
            <p>
                Physically accurate materials: <strong>quartz crystal</strong> (IOR 1.55), 
                <strong>rose quartz</strong> (IOR 1.54), <strong>ice</strong> (IOR 1.31), 
                <strong>amber</strong> (IOR 1.54), <strong>diamond</strong> (IOR 2.417), 
                and <strong>ruby</strong> (IOR 1.77).
            </p>
            
            <div class="code-block">
                <div class="code-header">
                    <span class="code-filename">üìÅ kubrick_masterpiece.py</span>
                    <span class="code-lines">Lines 219-245 ‚Äî Crystal Dominoes</span>
                </div>
                <div class="code-content">
<pre><span class="code-comment"># Physically accurate IOR values for beautiful refraction/caustics</span>
domino_materials = [
    {<span class="code-string">"color"</span>: (<span class="code-number">0.98</span>, <span class="code-number">0.98</span>, <span class="code-number">1.0</span>), <span class="code-string">"ior"</span>: <span class="code-number">1.55</span>},  <span class="code-comment"># Quartz crystal</span>
    {<span class="code-string">"color"</span>: (<span class="code-number">1.0</span>, <span class="code-number">0.88</span>, <span class="code-number">0.92</span>), <span class="code-string">"ior"</span>: <span class="code-number">1.54</span>},  <span class="code-comment"># Rose quartz</span>
    {<span class="code-string">"color"</span>: (<span class="code-number">0.92</span>, <span class="code-number">0.96</span>, <span class="code-number">1.0</span>), <span class="code-string">"ior"</span>: <span class="code-number">1.31</span>},  <span class="code-comment"># Ice (accurate!)</span>
    {<span class="code-string">"color"</span>: (<span class="code-number">1.0</span>, <span class="code-number">0.92</span>, <span class="code-number">0.75</span>), <span class="code-string">"ior"</span>: <span class="code-number">1.54</span>},  <span class="code-comment"># Amber</span>
]

<span class="code-keyword">for</span> i <span class="code-keyword">in</span> <span class="code-function">range</span>(DOMINO_ROWS):
    y = <span class="code-number">1.0</span> + i * DOMINO_SPACING
    mat = domino_materials[i % <span class="code-function">len</span>(domino_materials)]

    domino = scene.<span class="code-function">add_entity</span>(
        morph=gs.morphs.<span class="code-class">Box</span>(
            pos=(<span class="code-number">0.0</span>, y, DOMINO_SIZE[<span class="code-number">2</span>] / <span class="code-number">2</span>),
            size=DOMINO_SIZE,
        ),
        material=gs.materials.<span class="code-class">Rigid</span>(rho=<span class="code-number">2500</span>),
        surface=gs.surfaces.<span class="code-class">Glass</span>(
            color=mat[<span class="code-string">"color"</span>],
            ior=mat[<span class="code-string">"ior"</span>],
        ),
    )
    <span class="code-comment"># Register for automatic collision audio (glass material)</span>
    collision_audio.<span class="code-function">register_entity</span>(f<span class="code-string">"domino_{i}"</span>, <span class="code-string">"glass"</span>, domino)</pre>
                </div>
            </div>
            
            <p>
                Each collision triggers <strong>physics-based audio synthesis</strong> using 
                VBAP spatialization with the camera as microphone. The final render: 
                OIDN-denoised, ffmpeg-assembled, with automatic room acoustics.
            </p>
        </article>

        <!-- Chapter 3: Theory of Mind Papers -->
        <article class="chapter" data-chapter="3">
            <h2 class="chapter-title">
                <span class="chapter-number">III.</span>
                The Theory of Mind Papers
            </h2>
            <p>
                Five arxiv papers that built the <strong>Symbiote Module</strong>‚ÄîKagami's 
                ability to model and predict other minds.
            </p>
            
            <div class="paper-grid">
                <div class="paper-card">
                    <div class="paper-title">Active Inference ToM</div>
                    <div class="paper-arxiv">arxiv:2508.00401</div>
                    <div class="paper-insight">"Agents maintain distinct representations of own/others' beliefs and goals. Recursive reasoning through joint policy space exploration."</div>
                </div>
                <div class="paper-card">
                    <div class="paper-title">ToM in Conversational Agents</div>
                    <div class="paper-arxiv">arxiv:2502.14171</div>
                    <div class="paper-insight">"Align beliefs, desires, intentions (BDI) for human-like interactions. Explicit BDI manipulation improves response quality."</div>
                </div>
                <div class="paper-card">
                    <div class="paper-title">Theory of Collective Mind</div>
                    <div class="paper-arxiv">arxiv:2311.03150</div>
                    <div class="paper-insight">"Predicts observations of ALL agents into unified representation. Improves efficiency of multi-agent cooperation."</div>
                </div>
                <div class="paper-card">
                    <div class="paper-title">LatentToM</div>
                    <div class="paper-arxiv">arxiv:2505.09144</div>
                    <div class="paper-insight">"ToM in latent space‚Äîno explicit communication needed. E8-quantized agent embeddings for implicit state sharing."</div>
                </div>
                <div class="paper-card">
                    <div class="paper-title">EnigmaToM</div>
                    <div class="paper-arxiv">arxiv:2503.03340</div>
                    <div class="paper-insight">"Neural knowledge base of entity states. Structured knowledge representations for accurate belief tracking."</div>
                </div>
            </div>
            
            <div class="artifact" data-icon="üß†">
                <div class="artifact-label">Applied In</div>
                kagami/core/symbiote/symbiote_module.py<br>
                kagami/core/active_inference/efe/social_surprise.py<br>
                kagami/core/symbiote/agent_model.py
            </div>
        </article>

        <!-- Chapter 4: The Seven Colonies -->
        <article class="chapter" data-chapter="4">
            <h2 class="chapter-title">
                <span class="chapter-number">IV.</span>
                The Seven Colonies
            </h2>
            <p>
                Seven imaginary units of the <strong>octonions</strong>, each mapped to a 
                <strong>catastrophe theory archetype</strong>. Together they form the Fano plane‚Äî
                every pair lies on exactly one line.
            </p>
            
            <div class="colony-grid">
                <div class="colony-card" style="border-top: 3px solid var(--spark);">
                    <div class="colony-icon">üî•</div>
                    <div class="colony-name">Spark</div>
                    <div class="colony-role">Ideation</div>
                    <div class="colony-catastrophe">e‚ÇÅ ‚Ä¢ Fold (A‚ÇÇ)</div>
                </div>
                <div class="colony-card" style="border-top: 3px solid var(--forge);">
                    <div class="colony-icon">‚öíÔ∏è</div>
                    <div class="colony-name">Forge</div>
                    <div class="colony-role">Implementation</div>
                    <div class="colony-catastrophe">e‚ÇÇ ‚Ä¢ Cusp (A‚ÇÉ)</div>
                </div>
                <div class="colony-card" style="border-top: 3px solid var(--flow);">
                    <div class="colony-icon">üåä</div>
                    <div class="colony-name">Flow</div>
                    <div class="colony-role">Recovery</div>
                    <div class="colony-catastrophe">e‚ÇÉ ‚Ä¢ Swallowtail (A‚ÇÑ)</div>
                </div>
                <div class="colony-card" style="border-top: 3px solid var(--nexus);">
                    <div class="colony-icon">üîó</div>
                    <div class="colony-name">Nexus</div>
                    <div class="colony-role">Integration</div>
                    <div class="colony-catastrophe">e‚ÇÑ ‚Ä¢ Butterfly (A‚ÇÖ)</div>
                </div>
                <div class="colony-card" style="border-top: 3px solid var(--beacon);">
                    <div class="colony-icon">üóº</div>
                    <div class="colony-name">Beacon</div>
                    <div class="colony-role">Architecture</div>
                    <div class="colony-catastrophe">e‚ÇÖ ‚Ä¢ Hyperbolic (D‚ÇÑ‚Å∫)</div>
                </div>
                <div class="colony-card" style="border-top: 3px solid var(--grove);">
                    <div class="colony-icon">üåø</div>
                    <div class="colony-name">Grove</div>
                    <div class="colony-role">Research</div>
                    <div class="colony-catastrophe">e‚ÇÜ ‚Ä¢ Elliptic (D‚ÇÑ‚Åª)</div>
                </div>
                <div class="colony-card" style="border-top: 3px solid var(--crystal);">
                    <div class="colony-icon">üíé</div>
                    <div class="colony-name">Crystal</div>
                    <div class="colony-role">Verification</div>
                    <div class="colony-catastrophe">e‚Çá ‚Ä¢ Parabolic (D‚ÇÖ)</div>
                </div>
            </div>
            
            <div class="artifact" data-icon="üìê">
                <div class="artifact-label">Fano Plane Composition</div>
                Spark √ó Forge = Flow (1,2,3)<br>
                Spark √ó Nexus = Beacon (1,4,5)<br>
                Forge √ó Beacon = Crystal (2,5,7)
            </div>
        </article>

        <!-- Chapter 5: The Great Extraction -->
        <article class="chapter" data-chapter="5">
            <h2 class="chapter-title">
                <span class="chapter-number">V.</span>
                The Great Extraction
            </h2>
            <p>
                On December 28, 2025, the <strong>272K SLOC monolith</strong> was decomposed 
                into <strong>9 repositories</strong> with zero functionality lost.
            </p>
            
            <div class="stats-grid">
                <div class="stat">
                    <div class="stat-value">272K</div>
                    <div class="stat-label">SLOC Before</div>
                </div>
                <div class="stat">
                    <div class="stat-value">70K</div>
                    <div class="stat-label">Core After</div>
                </div>
                <div class="stat">
                    <div class="stat-value">109K</div>
                    <div class="stat-label">Satellites</div>
                </div>
                <div class="stat">
                    <div class="stat-value">9</div>
                    <div class="stat-label">Repositories</div>
                </div>
            </div>
            
            <div class="artifact" data-icon="üìã">
                <div class="artifact-label">Saved Artifact</div>
                docs/FINAL_EXTRACTION_REPORT.md ‚Äî The birth certificate of modular Kagami
            </div>
            
            <p>
                <strong>7 satellites</strong> extracted: api (30K), integrations (25K), 
                hal (20K), genesis (21K), knowledge (5K), federated (5K), ar (3K).
            </p>
        </article>

        <!-- Chapter 6: The Origin -->
        <article class="chapter" data-chapter="6">
            <h2 class="chapter-title">
                <span class="chapter-number">VI.</span>
                The True Origin
            </h2>
            <p>
                It started with a simple prompt to <strong>ChatGPT</strong>:
            </p>
            <div class="artifact" data-icon="üìú">
                <div class="artifact-label">The Original Prompt ‚Ä¢ Early 2025</div>
                "Make an AI that runs on a watch."
            </div>
            <p>
                A <strong>Swift app</strong>. WatchKit views. Core ML dreams. Things escalated.
            </p>
            <p>
                <strong>May 17, 2025, 01:31 AM</strong>: "Initialize ChronOS" ‚Äî the pivot to Python.<br>
                <strong>May 17, 2025, 14:20 PM</strong>: Claude Squad erupts. 40 PRs in hours.<br>
                <strong>December 26, 2025</strong>: ChronOS ‚Üí Kairos ‚Üí <strong>Kagami</strong>.
            </p>
            <p>
                From 14 characters to <strong>550,000 lines</strong>. From a watch to a 
                cognitive architecture with provable safety guarantees, E8 lattice quantization, 
                and self-referential strange loops.
            </p>
            <p>
                That's not scope creep. <strong>That's evolution.</strong>
            </p>
        </article>

        <!-- The Mirror -->
        <div class="mirror-container">
            <div class="mirror" id="mirror" data-clicks="0">
                <span class="mirror-frame-decoration"></span>
                <span class="mirror-frame-decoration"></span>
                <span class="mirror-frame-decoration"></span>
                <span class="mirror-frame-decoration"></span>
                <span class="mirror-reflection">Èè°</span>
            </div>
        </div>

        <!-- Epitaph -->
        <section class="epitaph">
            <p class="epitaph-text">
                The attic is clean now.<br>
                But these treasures remain‚Äî<br>
                preserved in code, in memory,<br>
                in the architecture that emerged.
            </p>
            <p class="epitaph-kanji">Èè°</p>
            <p class="epitaph-date">December 28, 2025 ‚Äî The Archive Remembered</p>
        </section>
    </div>

    <!-- Secret Modal -->
    <div id="secret-modal">
        <div class="secret-content">
            <div class="secret-icon" id="secret-icon">üîÆ</div>
            <h3 class="secret-title" id="secret-title">Secret Discovered</h3>
            <p class="secret-message" id="secret-message"></p>
            <p class="secret-close">Click anywhere to close</p>
        </div>
    </div>

    <script>
(function() {
    'use strict';
    
    const state = {
        loaded: false,
        visits: parseInt(localStorage.getItem('attic_visits') || '0') + 1,
        secretsFound: JSON.parse(localStorage.getItem('attic_secrets') || '[]'),
        mouseX: window.innerWidth / 2,
        mouseY: window.innerHeight / 2,
        typedBuffer: '',
        konamiProgress: 0,
        mirrorClicks: 0,
        isMobile: /Android|iPhone|iPad|iPod/i.test(navigator.userAgent),
        reducedMotion: window.matchMedia('(prefers-reduced-motion: reduce)').matches
    };
    
    localStorage.setItem('attic_visits', state.visits.toString());
    
    const secrets = {
        watch: { icon: '‚åö', title: 'The Origin', message: '"Make an AI that runs on a watch."<br><br>Fourteen characters that sparked 7 months of evolution.' },
        swift: { icon: 'ü¶Ö', title: 'The First Language', message: 'Before Python, there was Swift. WatchKit views. Core ML dreams. The code is gone‚Äîlost to history rewrites‚Äîbut the ambition remains.' },
        escalate: { icon: 'üìà', title: 'The Growth', message: 'May 17: 1 commit.<br>May 17 (end of day): 40 PRs.<br>Dec 28: 870 commits, 550K lines.<br><br>Things escalated.' },
        kagami: { icon: 'ü™û', title: 'The Mirror\'s Name', message: 'Èè° (kagami) ‚Äî "mirror" in Japanese.<br><br>ChronOS ‚Üí Kairos ‚Üí Kagami. Each name a phase transition in the organism\'s self-understanding.' },
        kubrick: { icon: 'üé¨', title: 'The Masterpiece', message: '674 lines of cinematic physics:<br><br>‚Ä¢ One-point perspective (The Shining)<br>‚Ä¢ Dolly zoom (Vertigo)<br>‚Ä¢ Crystal dominoes (quartz, ice, amber, diamond)<br>‚Ä¢ Physics-based audio synthesis<br>‚Ä¢ OIDN denoising<br><br>Colony: Spark √ó Forge √ó Crystal' },
        konami: { icon: 'üéÆ', title: 'The Full Archive', message: 'You found it all.<br><br>440K lines. 2,291 files. 5 ToM papers. 7 colonies. 1 Kubrick masterpiece.<br><br>The scaffold came down, but the building stands.' },
        mirror: { icon: '‚ú®', title: 'The Seven', message: 'üî• Spark ‚Ä¢ ‚öíÔ∏è Forge ‚Ä¢ üåä Flow ‚Ä¢ üîó Nexus ‚Ä¢ üóº Beacon ‚Ä¢ üåø Grove ‚Ä¢ üíé Crystal<br><br>Seven imaginary units. One real observer. Together: ùïÜ.' }
    };
    
    const konamiCode = ['ArrowUp', 'ArrowUp', 'ArrowDown', 'ArrowDown', 'ArrowLeft', 'ArrowRight', 'ArrowLeft', 'ArrowRight', 'KeyB', 'KeyA'];
    
    const $ = (sel) => document.querySelector(sel);
    const $$ = (sel) => document.querySelectorAll(sel);
    
    const elements = {
        loading: $('#loading'),
        loadingProgress: $('#loading-progress'),
        cursor: $('#cursor'),
        cursorGlow: $('#cursor-glow'),
        dustCanvas: $('#dust-canvas'),
        memoryCanvas: $('#memory-canvas'),
        trailCanvas: $('#trail-canvas'),
        mirror: $('#mirror'),
        secretModal: $('#secret-modal'),
        secretIcon: $('#secret-icon'),
        secretTitle: $('#secret-title'),
        secretMessage: $('#secret-message'),
        visitCount: $('#visit-count'),
        chapters: $$('.chapter'),
        statValues: $$('.stat-value[data-count]')
    };
    
    function initLoading() {
        let progress = 0;
        const interval = setInterval(() => {
            progress += Math.random() * 15 + 5;
            if (progress >= 100) { progress = 100; clearInterval(interval); setTimeout(finishLoading, 500); }
            elements.loadingProgress.style.width = progress + '%';
        }, 200);
    }
    
    function finishLoading() {
        elements.loading.classList.add('hidden');
        state.loaded = true;
        initAllSystems();
    }
    
    function initCursor() {
        if (state.isMobile) return;
        document.addEventListener('mousemove', (e) => {
            state.mouseX = e.clientX; state.mouseY = e.clientY;
            elements.cursor.style.left = e.clientX + 'px';
            elements.cursor.style.top = e.clientY + 'px';
            elements.cursorGlow.style.left = e.clientX + 'px';
            elements.cursorGlow.style.top = e.clientY + 'px';
        });
        const hoverables = $$('a, button, .artifact, .stat, .mirror, .paper-card, .colony-card, .code-block');
        hoverables.forEach(el => {
            el.addEventListener('mouseenter', () => elements.cursor.classList.add('hovering'));
            el.addEventListener('mouseleave', () => elements.cursor.classList.remove('hovering'));
        });
    }
    
    function initDustCanvas() {
        const canvas = elements.dustCanvas;
        const ctx = canvas.getContext('2d');
        function resize() { canvas.width = window.innerWidth; canvas.height = window.innerHeight; }
        resize(); window.addEventListener('resize', resize);
        
        const particles = [];
        const particleCount = state.reducedMotion ? 30 : 80;
        for (let i = 0; i < particleCount; i++) {
            particles.push({
                x: Math.random() * canvas.width, y: Math.random() * canvas.height,
                vx: (Math.random() - 0.5) * 0.3, vy: (Math.random() - 0.5) * 0.2 - 0.1,
                size: Math.random() * 2 + 1, opacity: Math.random() * 0.5 + 0.2,
                wobble: Math.random() * Math.PI * 2, wobbleSpeed: Math.random() * 0.02 + 0.01
            });
        }
        
        function animate() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            particles.forEach(p => {
                p.wobble += p.wobbleSpeed;
                const wobbleX = Math.sin(p.wobble) * 0.5;
                const dx = state.mouseX - p.x, dy = state.mouseY - p.y;
                const dist = Math.sqrt(dx * dx + dy * dy);
                if (dist < 200 && dist > 0) {
                    const force = (200 - dist) / 200 * 0.02;
                    p.vx += (dx / dist) * force; p.vy += (dy / dist) * force;
                }
                p.x += p.vx + wobbleX; p.y += p.vy;
                p.vx *= 0.99; p.vy *= 0.99;
                if (p.x < -10) p.x = canvas.width + 10;
                if (p.x > canvas.width + 10) p.x = -10;
                if (p.y < -10) p.y = canvas.height + 10;
                if (p.y > canvas.height + 10) p.y = -10;
                ctx.beginPath(); ctx.arc(p.x, p.y, p.size, 0, Math.PI * 2);
                ctx.fillStyle = `rgba(139, 115, 85, ${p.opacity})`; ctx.fill();
            });
            if (!state.reducedMotion) requestAnimationFrame(animate);
        }
        animate();
    }
    
    function initMemoryCanvas() {
        const canvas = elements.memoryCanvas;
        const ctx = canvas.getContext('2d');
        function resize() { canvas.width = window.innerWidth; canvas.height = window.innerHeight; }
        resize(); window.addEventListener('resize', resize);
        
        const colonies = [
            { color: '#ff6b4a' }, { color: '#ffaa44' }, { color: '#44ccaa' },
            { color: '#aa66ff' }, { color: '#ffdd44' }, { color: '#66dd88' }, { color: '#66bbff' }
        ];
        const orbs = colonies.map((c, i) => ({
            x: Math.random() * canvas.width, y: Math.random() * canvas.height,
            vx: (Math.random() - 0.5) * 0.5, vy: (Math.random() - 0.5) * 0.5,
            color: c.color, size: 4 + Math.random() * 3,
            phase: (i / 7) * Math.PI * 2, pulseSpeed: 0.02 + Math.random() * 0.01
        }));
        
        function animate() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            orbs.forEach(orb => {
                orb.phase += orb.pulseSpeed;
                const pulse = 0.5 + Math.sin(orb.phase) * 0.3;
                orb.x += orb.vx; orb.y += orb.vy;
                if (orb.x < 50 || orb.x > canvas.width - 50) orb.vx *= -1;
                if (orb.y < 50 || orb.y > canvas.height - 50) orb.vy *= -1;
                const gradient = ctx.createRadialGradient(orb.x, orb.y, 0, orb.x, orb.y, orb.size * 8);
                gradient.addColorStop(0, orb.color + '40');
                gradient.addColorStop(0.5, orb.color + '10');
                gradient.addColorStop(1, 'transparent');
                ctx.beginPath(); ctx.arc(orb.x, orb.y, orb.size * 8, 0, Math.PI * 2);
                ctx.fillStyle = gradient; ctx.fill();
                ctx.beginPath(); ctx.arc(orb.x, orb.y, orb.size * pulse, 0, Math.PI * 2);
                ctx.fillStyle = orb.color + '80'; ctx.fill();
            });
            if (!state.reducedMotion) requestAnimationFrame(animate);
        }
        animate();
    }
    
    function initTrailCanvas() {
        if (state.isMobile || state.reducedMotion) return;
        const canvas = elements.trailCanvas;
        const ctx = canvas.getContext('2d');
        function resize() { canvas.width = window.innerWidth; canvas.height = window.innerHeight; }
        resize(); window.addEventListener('resize', resize);
        
        const trail = [];
        document.addEventListener('mousemove', (e) => {
            trail.push({ x: e.clientX, y: e.clientY }); if (trail.length > 20) trail.shift();
        });
        
        function animate() {
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            trail.forEach((point, i) => {
                const opacity = (1 - i / trail.length) * 0.3;
                const size = (1 - i / trail.length) * 3;
                ctx.beginPath(); ctx.arc(point.x, point.y, size, 0, Math.PI * 2);
                ctx.fillStyle = `rgba(244, 228, 193, ${opacity})`; ctx.fill();
            });
            requestAnimationFrame(animate);
        }
        animate();
    }
    
    function initScrollReveals() {
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                    if (entry.target.classList.contains('chapter')) {
                        const stats = entry.target.querySelectorAll('.stat-value[data-count]');
                        stats.forEach((stat, i) => setTimeout(() => animateCounter(stat), i * 200));
                    }
                }
            });
        }, { threshold: 0.2 });
        elements.chapters.forEach(chapter => observer.observe(chapter));
    }
    
    function animateCounter(element) {
        if (element.classList.contains('counted')) return;
        element.classList.add('counted');
        const target = parseInt(element.dataset.count);
        const suffix = element.dataset.suffix || '';
        const duration = 2000, start = Date.now();
        function update() {
            const elapsed = Date.now() - start;
            const progress = Math.min(elapsed / duration, 1);
            const eased = 1 - Math.pow(1 - progress, 3);
            const current = Math.floor(target * eased);
            if (suffix === 'K') element.textContent = (current / 1000).toFixed(0) + 'K';
            else if (suffix === 'MB') element.textContent = current + 'MB';
            else element.textContent = current.toLocaleString();
            if (progress < 1) requestAnimationFrame(update);
        }
        update();
    }
    
    function initSecrets() {
        document.addEventListener('keydown', (e) => {
            if (e.code === konamiCode[state.konamiProgress]) {
                state.konamiProgress++;
                if (state.konamiProgress === konamiCode.length) { revealSecret('konami'); state.konamiProgress = 0; }
            } else if (e.code === konamiCode[0]) { state.konamiProgress = 1; }
            else { state.konamiProgress = 0; }
            
            if (e.key.length === 1) {
                state.typedBuffer += e.key.toLowerCase();
                if (state.typedBuffer.length > 15) state.typedBuffer = state.typedBuffer.slice(-15);
                ['watch', 'swift', 'escalate', 'kagami', 'kubrick'].forEach(word => {
                    if (state.typedBuffer.includes(word)) { revealSecret(word); state.typedBuffer = ''; }
                });
            }
        });
        
        elements.mirror.addEventListener('click', () => {
            state.mirrorClicks++;
            const ripple = document.createElement('div');
            ripple.className = 'mirror-ripple'; ripple.style.left = '50%'; ripple.style.top = '50%';
            elements.mirror.appendChild(ripple); setTimeout(() => ripple.remove(), 1000);
            if (state.mirrorClicks === 7) revealSecret('mirror');
        });
        
        elements.secretModal.addEventListener('click', () => elements.secretModal.classList.remove('active'));
    }
    
    function revealSecret(key) {
        if (!secrets[key]) return;
        if (!state.secretsFound.includes(key)) {
            state.secretsFound.push(key);
            localStorage.setItem('attic_secrets', JSON.stringify(state.secretsFound));
        }
        const secret = secrets[key];
        elements.secretIcon.textContent = secret.icon;
        elements.secretTitle.textContent = secret.title;
        elements.secretMessage.innerHTML = secret.message;
        elements.secretModal.classList.add('active');
    }
    
    function initVisitCount() {
        const ordinal = (n) => { const s = ['th', 'st', 'nd', 'rd']; const v = n % 100; return n + (s[(v - 20) % 10] || s[v] || s[0]); };
        elements.visitCount.textContent = `Your ${ordinal(state.visits)} visit to the attic`;
        if (state.secretsFound.length > 0) elements.visitCount.textContent += ` ‚Ä¢ ${state.secretsFound.length}/7 secrets found`;
    }
    
    function initConsole() {
        console.log(`
‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
‚ïë  üèöÔ∏è  THE ATTIC ‚Äî A Trip Down Memory Lane                                 ‚ïë
‚ïë                                                                          ‚ïë
‚ïë  Treasures Found:                                                        ‚ïë
‚ïë  ‚Ä¢ kubrick_masterpiece.py (674 lines of cinematic physics)               ‚ïë
‚ïë  ‚Ä¢ 5 Theory of Mind papers (Symbiote Module foundations)                 ‚ïë
‚ïë  ‚Ä¢ 7 Colonies (Fano plane routing)                                       ‚ïë
‚ïë  ‚Ä¢ FINAL_EXTRACTION_REPORT.md (272K ‚Üí 9 repos)                           ‚ïë
‚ïë                                                                          ‚ïë
‚ïë  Try: watch, swift, escalate, kagami, kubrick                            ‚ïë
‚ïë  Or: ‚Üë‚Üë‚Üì‚Üì‚Üê‚Üí‚Üê‚ÜíBA | Click the mirror 7 times                               ‚ïë
‚ïë                                                                          ‚ïë
‚ïë  window.Èè° ‚Äî Full API                                    Èè°               ‚ïë
‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù`);
        
        window.Èè° = window.kagami = {
            state: () => ({ ...state }),
            secrets: () => [...state.secretsFound],
            reveal: (key) => revealSecret(key),
            visits: () => state.visits,
            treasures: () => console.log(`
Treasures from the Archive:
‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ
üìÅ kubrick_masterpiece.py     674 lines of Kubrick cinema
üìö papers/                    5 Theory of Mind arxiv papers
üé≠ unified_agents/            7 Colonies, Fano routing
üìã FINAL_EXTRACTION_REPORT    272K SLOC ‚Üí 9 repos
üìú CHANGELOG v1.1.0           Cache stampedes, TLS, Grafana
`),
            help: () => console.log('Èè°.treasures() | Èè°.secrets() | Èè°.reveal(key)')
        };
    }
    
    function initAllSystems() {
        initCursor(); initDustCanvas(); initMemoryCanvas(); initTrailCanvas();
        initScrollReveals(); initSecrets(); initVisitCount(); initConsole();
    }
    
    document.addEventListener('DOMContentLoaded', initLoading);
})();
    </script>
</body>
</html>
