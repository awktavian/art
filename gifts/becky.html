<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>For Becky ‚Äî A Kitchen Without Limits</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Crimson+Pro:wght@300;400;600;700&family=Playfair+Display:wght@700;900&family=JetBrains+Mono:wght@400;500&display=swap" rel="stylesheet">
    <style>
        /*
         * The Kitchen ‚Äî where ingredients become meals, where chaos becomes celebration
         * For Becky: who juggles worlds and still makes room for cooking
         *
         * Thermomix TM7: precision meets possibility
         * Steam rises. Blades spin. Meals emerge.
         */

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --copper: #B87333;
            --copper-dark: #8B5A2B;
            --copper-light: #CD853F;
            --green: #98d8aa;
            --green-dark: #6fa87d;
            --cream: #FFF8DC;
            --cream-dark: #F5E6D3;
            --tomato: #FF6347;
            --tomato-dark: #D63916;
            --char: #1a1a1a;
            --smoke: rgba(255, 248, 220, 0.1);
        }

        body {
            font-family: 'Crimson Pro', serif;
            background: var(--char);
            color: var(--cream);
            overflow-x: hidden;
            cursor: none;
            line-height: 1.7;
        }

        @media (max-width: 768px) {
            body {
                cursor: auto;
            }
        }

        /* Custom Cursor - Whisk with steam glow */
        #cursor {
            width: 32px;
            height: 32px;
            border: 2px solid var(--copper);
            border-radius: 50%;
            position: fixed;
            pointer-events: none;
            z-index: 10000;
            transition: all 0.15s cubic-bezier(0.075, 0.82, 0.165, 1);
            mix-blend-mode: difference;
        }

        #cursor::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 6px;
            height: 6px;
            background: var(--copper);
            border-radius: 50%;
            box-shadow: 0 0 20px var(--copper), 0 0 40px var(--copper-light);
        }

        #cursor.hover {
            width: 60px;
            height: 60px;
            border-color: var(--green);
            background: radial-gradient(circle, var(--smoke), transparent);
        }

        #cursor.hover::before {
            background: var(--green);
            box-shadow: 0 0 30px var(--green), 0 0 60px var(--green-dark);
        }

        @media (max-width: 768px) {
            #cursor {
                display: none;
            }
        }

        /* Breathing Background Layers */
        .bg-layer {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            opacity: 0.4;
        }

        .bg-layer-1 {
            background: radial-gradient(ellipse at 20% 30%, var(--copper-dark) 0%, transparent 50%);
            animation: breathe1 8s ease-in-out infinite;
        }

        .bg-layer-2 {
            background: radial-gradient(ellipse at 80% 70%, var(--green-dark) 0%, transparent 50%);
            animation: breathe2 11s ease-in-out infinite;
        }

        .bg-layer-3 {
            background: radial-gradient(ellipse at 50% 50%, var(--tomato-dark) 0%, transparent 60%);
            animation: breathe3 13s ease-in-out infinite;
        }

        @keyframes breathe1 {
            0%, 100% { transform: scale(1) translateY(0); opacity: 0.3; }
            50% { transform: scale(1.2) translateY(-20px); opacity: 0.5; }
        }

        @keyframes breathe2 {
            0%, 100% { transform: scale(1.1) translateX(0); opacity: 0.4; }
            50% { transform: scale(1) translateX(20px); opacity: 0.3; }
        }

        @keyframes breathe3 {
            0%, 100% { transform: scale(1) rotate(0deg); opacity: 0.2; }
            50% { transform: scale(1.3) rotate(5deg); opacity: 0.4; }
        }

        /* Particles - Steam, spices, ingredients */
        .particle {
            position: fixed;
            pointer-events: none;
            z-index: 1;
            opacity: 0;
        }

        .particle.steam {
            width: 4px;
            height: 4px;
            background: radial-gradient(circle, var(--cream), transparent);
            border-radius: 50%;
            animation: steam-rise var(--duration) linear infinite;
            animation-delay: var(--delay);
        }

        .particle.spice {
            width: 3px;
            height: 3px;
            background: var(--tomato);
            border-radius: 50%;
            box-shadow: 0 0 10px var(--tomato);
            animation: spice-float var(--duration) ease-in-out infinite;
            animation-delay: var(--delay);
        }

        .particle.herb {
            width: 8px;
            height: 2px;
            background: var(--green);
            border-radius: 2px;
            animation: herb-drift var(--duration) ease-in-out infinite;
            animation-delay: var(--delay);
        }

        @keyframes steam-rise {
            0% {
                transform: translateY(100vh) scale(0.5);
                opacity: 0;
            }
            10% {
                opacity: 0.6;
            }
            90% {
                opacity: 0.6;
            }
            100% {
                transform: translateY(-20vh) scale(1.5);
                opacity: 0;
            }
        }

        @keyframes spice-float {
            0%, 100% {
                transform: translate(0, 100vh) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 0.8;
            }
            50% {
                transform: translate(var(--drift), 50vh) rotate(180deg);
                opacity: 0.8;
            }
            90% {
                opacity: 0.8;
            }
            100% {
                transform: translate(calc(var(--drift) * 2), -20vh) rotate(360deg);
                opacity: 0;
            }
        }

        @keyframes herb-drift {
            0%, 100% {
                transform: translate(-50px, 100vh) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 0.7;
            }
            50% {
                transform: translate(50px, 50vh) rotate(720deg);
                opacity: 0.7;
            }
            90% {
                opacity: 0.7;
            }
            100% {
                transform: translate(150px, -20vh) rotate(1440deg);
                opacity: 0;
            }
        }

        /* Container */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 2rem;
            position: relative;
            z-index: 10;
        }

        /* Hero Section */
        .hero {
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 4rem 0;
            position: relative;
            overflow: hidden;
        }

        .hero-title {
            font-family: 'Playfair Display', serif;
            font-size: clamp(3rem, 8vw, 6.5rem);
            font-weight: 900;
            margin-bottom: 1.5rem;
            background: linear-gradient(
                135deg,
                var(--cream) 0%,
                var(--copper-light) 25%,
                var(--green) 50%,
                var(--copper-light) 75%,
                var(--cream) 100%
            );
            background-size: 300% 300%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: shimmer 6s ease-in-out infinite;
            letter-spacing: -0.03em;
            opacity: 0;
            transform: translateY(30px);
            animation: shimmer 6s ease-in-out infinite, fadeInUp 1s ease-out 0.3s forwards;
        }

        @keyframes shimmer {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        @keyframes fadeInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .hero-subtitle {
            font-family: 'Playfair Display', serif;
            font-size: clamp(1.4rem, 3vw, 2.2rem);
            color: var(--copper-light);
            margin-bottom: 3rem;
            font-weight: 700;
            opacity: 0;
            animation: fadeInUp 1s ease-out 0.6s forwards;
            letter-spacing: 0.05em;
        }

        .hero-machine {
            width: 400px;
            height: 400px;
            margin: 3rem 0;
            position: relative;
            opacity: 0;
            animation: fadeInUp 1s ease-out 0.9s forwards, float 6s ease-in-out 2s infinite;
        }

        @keyframes float {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-15px); }
        }

        @media (max-width: 768px) {
            .hero-machine {
                width: 280px;
                height: 280px;
            }
        }

        /* Thermomix SVG */
        .thermomix-container {
            position: relative;
            width: 100%;
            height: 100%;
        }

        .thermomix-body {
            fill: var(--copper);
            filter: drop-shadow(0 10px 40px rgba(184, 115, 51, 0.4));
        }

        .thermomix-bowl {
            fill: var(--cream);
            opacity: 0.9;
        }

        .thermomix-blade {
            fill: var(--char);
            transform-origin: 200px 170px;
            animation: blade-spin 2.5s linear infinite;
            filter: drop-shadow(0 2px 8px rgba(26, 26, 26, 0.5));
        }

        .thermomix-blade.turbo {
            animation: blade-spin 0.3s linear infinite !important;
        }

        @keyframes blade-spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .thermomix-steam {
            opacity: 0;
            animation: steam-pulse 4s ease-in-out infinite;
        }

        @keyframes steam-pulse {
            0%, 100% { opacity: 0; transform: translateY(0) scale(0.8); }
            50% { opacity: 0.6; transform: translateY(-30px) scale(1.3); }
        }

        .thermomix-steam ellipse:nth-child(1) {
            animation-delay: 0s;
        }

        .thermomix-steam ellipse:nth-child(2) {
            animation-delay: 0.5s;
        }

        .thermomix-steam ellipse:nth-child(3) {
            animation-delay: 1s;
        }

        /* Ingredient Orbit */
        .ingredient-orbit {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 500px;
            height: 500px;
            transform: translate(-50%, -50%);
        }

        .ingredient-orbit .ingredient {
            pointer-events: auto;
        }

        .ingredient {
            position: absolute;
            font-size: 2.5rem;
            filter: drop-shadow(0 4px 12px rgba(0, 0, 0, 0.3));
            animation: orbit var(--orbit-duration) linear infinite;
            animation-delay: var(--orbit-delay);
            cursor: help;
            transition: transform 0.3s ease;
        }

        .ingredient:hover {
            transform: scale(1.3);
            filter: drop-shadow(0 6px 18px rgba(184, 115, 51, 0.6));
        }

        @keyframes orbit {
            from {
                transform: rotate(0deg) translateX(250px) rotate(0deg);
            }
            to {
                transform: rotate(360deg) translateX(250px) rotate(-360deg);
            }
        }

        .handwritten-note {
            max-width: 700px;
            background: var(--cream);
            color: var(--char);
            padding: 3.5rem 4rem;
            margin: 4rem auto;
            border-radius: 8px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5), 0 10px 30px rgba(184, 115, 51, 0.3);
            font-size: 1.4rem;
            line-height: 2;
            position: relative;
            transform: rotate(-0.5deg);
            opacity: 0;
            animation: fadeInUp 1s ease-out 1.2s forwards;
            border: 3px solid var(--cream-dark);
        }

        .handwritten-note::before {
            content: '';
            position: absolute;
            top: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 80px;
            height: 20px;
            background: var(--copper-light);
            border-radius: 2px;
            opacity: 0.7;
            box-shadow: 0 4px 12px rgba(139, 90, 43, 0.4);
        }

        .handwritten-note p {
            margin-bottom: 1.5rem;
            font-style: italic;
        }

        .handwritten-note p:first-child {
            font-weight: 600;
            font-size: 1.5rem;
            color: var(--copper-dark);
        }

        .handwritten-note .signature {
            text-align: right;
            font-weight: 700;
            margin-top: 2.5rem;
            font-style: normal;
            font-size: 1.6rem;
            color: var(--copper-dark);
        }

        /* Section */
        section {
            padding: 7rem 0;
            position: relative;
        }

        .section-title {
            font-family: 'Playfair Display', serif;
            font-size: clamp(2.5rem, 5vw, 4rem);
            font-weight: 900;
            text-align: center;
            margin-bottom: 4rem;
            color: var(--copper-light);
            opacity: 0;
            transform: translateY(30px);
            transition: all 0.8s cubic-bezier(0.075, 0.82, 0.165, 1);
            letter-spacing: -0.02em;
        }

        .section-title.visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* Feature Grid */
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2.5rem;
            margin-bottom: 4rem;
        }

        .feature-card {
            background: linear-gradient(135deg, var(--smoke), rgba(184, 115, 51, 0.05));
            padding: 3rem;
            border-radius: 16px;
            border: 2px solid rgba(184, 115, 51, 0.2);
            position: relative;
            overflow: hidden;
            transition: all 0.4s cubic-bezier(0.075, 0.82, 0.165, 1);
            opacity: 0;
            transform: translateY(30px);
            cursor: none;
        }

        .feature-card.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .feature-card::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 0;
            height: 0;
            background: radial-gradient(circle, var(--copper-light), transparent);
            opacity: 0;
            transition: all 0.6s ease-out;
            border-radius: 50%;
        }

        .feature-card:hover {
            transform: translateY(-8px);
            border-color: var(--copper);
            box-shadow: 0 20px 60px rgba(184, 115, 51, 0.3);
        }

        .feature-card:hover::before {
            width: 300%;
            height: 300%;
            opacity: 0.1;
        }

        .feature-icon {
            font-size: 3.5rem;
            margin-bottom: 1.5rem;
            display: block;
            filter: drop-shadow(0 4px 12px rgba(184, 115, 51, 0.4));
        }

        .feature-title {
            font-family: 'Playfair Display', serif;
            font-size: 1.75rem;
            font-weight: 700;
            margin-bottom: 1.25rem;
            color: var(--green);
            letter-spacing: 0.02em;
        }

        .feature-description {
            font-size: 1.2rem;
            color: var(--cream-dark);
            line-height: 1.8;
        }

        /* Recipe Showcase - Static Cards */
        .recipe-showcase {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(340px, 1fr));
            gap: 3rem;
            margin: 4rem 0;
        }

        .recipe-card {
            background: linear-gradient(135deg, var(--copper-dark), var(--copper));
            border-radius: 20px;
            padding: 3rem;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            transition: all 0.4s cubic-bezier(0.075, 0.82, 0.165, 1);
            cursor: none;
            opacity: 0;
            transform: translateY(30px);
            position: relative;
            overflow: hidden;
            border: 3px solid rgba(255, 248, 220, 0.1);
        }

        .recipe-card.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .recipe-card::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 0;
            height: 0;
            background: radial-gradient(circle, var(--green), transparent);
            opacity: 0;
            transition: all 0.6s ease-out;
            border-radius: 50%;
        }

        .recipe-card:hover {
            transform: translateY(-12px);
            box-shadow: 0 30px 80px rgba(184, 115, 51, 0.6);
            border-color: var(--green);
        }

        .recipe-card:hover::before {
            width: 400%;
            height: 400%;
            opacity: 0.15;
        }

        .recipe-emoji {
            font-size: 5rem;
            display: block;
            margin-bottom: 1.5rem;
            text-align: center;
            filter: drop-shadow(0 4px 12px rgba(0, 0, 0, 0.3));
        }

        .recipe-name {
            font-family: 'Playfair Display', serif;
            font-size: 2.2rem;
            font-weight: 900;
            text-align: center;
            margin-bottom: 0.75rem;
            color: var(--cream);
            letter-spacing: 0.02em;
        }

        .recipe-cuisine {
            font-size: 1rem;
            text-align: center;
            color: var(--cream-dark);
            margin-bottom: 2rem;
            font-family: 'JetBrains Mono', monospace;
            text-transform: uppercase;
            letter-spacing: 0.2em;
            opacity: 0.9;
        }

        .recipe-details {
            font-size: 1.15rem;
            line-height: 2;
            color: var(--cream);
            list-style: none;
        }

        .recipe-details li {
            margin-bottom: 0.75rem;
            padding-left: 2rem;
            position: relative;
        }

        .recipe-details li::before {
            content: '‚úì';
            position: absolute;
            left: 0;
            color: var(--green);
            font-weight: bold;
            font-size: 1.3rem;
        }

        /* Interactive Section */
        .interactive-section {
            background: linear-gradient(135deg, rgba(184, 115, 51, 0.1), rgba(152, 216, 170, 0.1));
            padding: 5rem 3rem;
            border-radius: 24px;
            border: 3px solid rgba(184, 115, 51, 0.3);
            margin: 4rem 0;
            text-align: center;
        }

        .create-title {
            font-family: 'Playfair Display', serif;
            font-size: clamp(2.5rem, 4vw, 3.5rem);
            font-weight: 900;
            color: var(--green);
            margin-bottom: 3rem;
            letter-spacing: -0.01em;
        }

        .ingredient-dropzone {
            width: 320px;
            height: 320px;
            margin: 3rem auto;
            position: relative;
            border: 4px dashed var(--copper);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            background: radial-gradient(circle, rgba(184, 115, 51, 0.1), transparent);
        }

        .ingredient-dropzone.active {
            border-color: var(--green);
            background: radial-gradient(circle, rgba(152, 216, 170, 0.2), transparent);
            transform: scale(1.05);
            border-width: 5px;
        }

        .dropzone-text {
            font-family: 'Playfair Display', serif;
            font-size: 1.5rem;
            color: var(--copper-light);
            font-weight: 700;
            transition: all 0.3s ease;
        }

        .ingredient-dropzone:hover .dropzone-text {
            color: var(--green);
            transform: scale(1.1);
        }

        .ingredient-buttons {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 1.25rem;
            margin-top: 3rem;
        }

        .ingredient-btn {
            background: var(--copper);
            color: var(--cream);
            border: none;
            padding: 1.2rem 2rem;
            font-family: 'Crimson Pro', serif;
            font-size: 1.2rem;
            border-radius: 50px;
            cursor: none;
            transition: all 0.3s ease;
            font-weight: 700;
            display: flex;
            align-items: center;
            gap: 0.75rem;
            box-shadow: 0 4px 15px rgba(184, 115, 51, 0.3);
        }

        .ingredient-btn:hover {
            background: var(--green);
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 10px 30px rgba(152, 216, 170, 0.4);
        }

        .ingredient-btn.added {
            background: var(--green-dark);
            transform: scale(0.9);
            opacity: 0.6;
        }

        .celebration-message {
            font-family: 'Playfair Display', serif;
            font-size: 1.8rem;
            color: var(--tomato);
            margin-top: 3rem;
            font-weight: 700;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.5s ease;
        }

        .celebration-message.visible {
            opacity: 1;
            transform: translateY(0);
        }

        /* CTA Section */
        .cta-section {
            text-align: center;
            padding: 7rem 0;
        }

        .cta-button {
            display: inline-block;
            background: linear-gradient(135deg, var(--copper), var(--copper-light));
            color: var(--cream);
            font-family: 'Playfair Display', serif;
            font-size: 1.75rem;
            font-weight: 900;
            padding: 2rem 5rem;
            border-radius: 60px;
            text-decoration: none;
            transition: all 0.4s cubic-bezier(0.075, 0.82, 0.165, 1);
            box-shadow: 0 10px 40px rgba(184, 115, 51, 0.4);
            position: relative;
            overflow: hidden;
            cursor: none;
            letter-spacing: 0.05em;
        }

        .cta-button::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 0;
            height: 0;
            background: radial-gradient(circle, var(--green), transparent);
            opacity: 0;
            transition: all 0.6s ease-out;
            border-radius: 50%;
        }

        .cta-button:hover {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 20px 60px rgba(184, 115, 51, 0.6);
        }

        .cta-button:hover::before {
            width: 400%;
            height: 400%;
            opacity: 0.3;
        }

        .cta-subtitle {
            margin-top: 2.5rem;
            font-size: 1.4rem;
            color: var(--copper-light);
            font-family: 'JetBrains Mono', monospace;
            letter-spacing: 0.1em;
        }

        /* Ripple Effect */
        .ripple {
            position: absolute;
            border-radius: 50%;
            background: radial-gradient(circle, var(--green), transparent);
            transform: scale(0);
            animation: ripple-expand 0.8s ease-out;
            pointer-events: none;
        }

        @keyframes ripple-expand {
            to {
                transform: scale(4);
                opacity: 0;
            }
        }

        /* Footer */
        footer {
            text-align: center;
            padding: 4rem 0 2rem;
            color: var(--copper-light);
            font-family: 'JetBrains Mono', monospace;
            font-size: 1rem;
            opacity: 0.8;
            letter-spacing: 0.05em;
        }

        /* Mobile Adjustments */
        @media (max-width: 768px) {
            .container {
                padding: 0 1rem;
            }

            .handwritten-note {
                padding: 2.5rem;
                font-size: 1.2rem;
            }

            .feature-grid {
                grid-template-columns: 1fr;
                gap: 2rem;
            }

            .recipe-showcase {
                grid-template-columns: 1fr;
                gap: 2.5rem;
            }

            .ingredient-orbit {
                width: 320px;
                height: 320px;
            }

            .ingredient {
                font-size: 1.8rem;
            }

            @keyframes orbit {
                from {
                    transform: rotate(0deg) translateX(160px) rotate(0deg);
                }
                to {
                    transform: rotate(360deg) translateX(160px) rotate(-360deg);
                }
            }

            .ingredient-dropzone {
                width: 260px;
                height: 260px;
            }

            .ingredient-buttons {
                gap: 1rem;
            }

            .ingredient-btn {
                padding: 1rem 1.5rem;
                font-size: 1.1rem;
            }
        }

        /* WebXR AR Button */
        .xr-button {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            background: linear-gradient(135deg, var(--copper), var(--copper-light));
            color: var(--cream);
            border: 3px solid var(--green);
            padding: 1.2rem 2.5rem;
            font-family: 'Crimson Pro', serif;
            font-size: 1.3rem;
            font-weight: 700;
            border-radius: 60px;
            cursor: none;
            transition: all 0.4s cubic-bezier(0.075, 0.82, 0.165, 1);
            box-shadow: 0 10px 40px rgba(184, 115, 51, 0.6),
                        0 0 30px rgba(152, 216, 170, 0.4);
            z-index: 9999;
            display: none;
            animation: pulse-glow 2s ease-in-out infinite;
        }

        @keyframes pulse-glow {
            0%, 100% {
                box-shadow: 0 10px 40px rgba(184, 115, 51, 0.6),
                            0 0 30px rgba(152, 216, 170, 0.4);
                transform: scale(1);
            }
            50% {
                box-shadow: 0 10px 60px rgba(184, 115, 51, 0.8),
                            0 0 50px rgba(152, 216, 170, 0.6);
                transform: scale(1.05);
            }
        }

        .xr-button:hover {
            background: linear-gradient(135deg, var(--green), var(--green-dark));
            border-color: var(--copper-light);
            transform: translateY(-3px) scale(1.1);
            box-shadow: 0 15px 50px rgba(152, 216, 170, 0.7),
                        0 0 60px rgba(184, 115, 51, 0.5);
        }

        .xr-button:active {
            transform: translateY(0) scale(1);
        }

        .xr-button.in-session {
            background: linear-gradient(135deg, var(--tomato), var(--tomato-dark));
            animation: none;
        }

        /* XR Overlay UI */
        .xr-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 9998;
            display: none;
        }

        .xr-overlay.active {
            display: block;
        }

        .xr-ui-panel {
            position: absolute;
            bottom: 120px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(26, 26, 26, 0.85);
            backdrop-filter: blur(10px);
            border: 2px solid var(--copper);
            border-radius: 20px;
            padding: 1.5rem 2rem;
            pointer-events: auto;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.7);
        }

        .xr-ingredient-selector {
            display: flex;
            gap: 1rem;
            flex-wrap: wrap;
            justify-content: center;
        }

        .xr-ingredient-btn {
            background: var(--copper);
            color: var(--cream);
            border: none;
            padding: 0.8rem 1.5rem;
            font-family: 'Crimson Pro', serif;
            font-size: 1.1rem;
            font-weight: 600;
            border-radius: 30px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(184, 115, 51, 0.4);
        }

        .xr-ingredient-btn:hover {
            background: var(--green);
            transform: scale(1.1);
        }

        .xr-ingredient-btn.added {
            background: var(--green-dark);
            opacity: 0.7;
        }

        /* Accessibility */
        @media (max-width: 768px) {
            .xr-button {
                bottom: 1rem;
                right: 1rem;
                padding: 1rem 2rem;
                font-size: 1.1rem;
            }
        }

        @media (prefers-reduced-motion: reduce) {
            *,
            *::before,
            *::after {
                animation-duration: 0.01ms !important;
                animation-iteration-count: 1 !important;
                transition-duration: 0.01ms !important;
            }

            .thermomix-blade {
                animation: none !important;
            }

            .particle {
                display: none !important;
            }

            .xr-button {
                animation: none !important;
            }
        }

        /* Hidden data attributes with cooking tips */
        [data-tip]::after {
            content: attr(data-tip);
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%);
            background: var(--char);
            color: var(--cream);
            padding: 0.5rem 1rem;
            border-radius: 8px;
            font-size: 0.9rem;
            white-space: nowrap;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.3s ease;
            z-index: 1000;
        }

        [data-tip]:hover::after {
            opacity: 1;
        }
    </style>
</head>
<body>
    <!-- Custom Cursor -->
    <div id="cursor"></div>

    <!-- Background Layers -->
    <div class="bg-layer bg-layer-1"></div>
    <div class="bg-layer bg-layer-2"></div>
    <div class="bg-layer bg-layer-3"></div>

    <!-- Particles Container -->
    <div id="particles"></div>

    <!-- Hero Section -->
    <section class="hero">
        <div class="container">
            <h1 class="hero-title" data-kanji="ÊñôÁêÜ">For Becky</h1>
            <p class="hero-subtitle">A Kitchen Without Limits</p>

            <div class="hero-machine">
                <div class="thermomix-container">
                    <svg viewBox="0 0 400 400" xmlns="http://www.w3.org/2000/svg">
                        <!-- Steam clouds -->
                        <g class="thermomix-steam">
                            <ellipse cx="120" cy="80" rx="30" ry="20" fill="var(--cream)" opacity="0.4"/>
                            <ellipse cx="200" cy="60" rx="35" ry="25" fill="var(--cream)" opacity="0.3"/>
                            <ellipse cx="280" cy="75" rx="28" ry="18" fill="var(--cream)" opacity="0.4"/>
                        </g>

                        <!-- Machine body -->
                        <rect x="120" y="200" width="160" height="140" rx="20" class="thermomix-body"/>

                        <!-- Control panel -->
                        <rect x="140" y="220" width="120" height="40" rx="8" fill="var(--char)"/>
                        <circle cx="170" cy="240" r="8" fill="var(--green)"/>
                        <circle cx="200" cy="240" r="8" fill="var(--tomato)"/>
                        <circle cx="230" cy="240" r="8" fill="var(--copper-light)"/>

                        <!-- Bowl -->
                        <ellipse cx="200" cy="180" rx="90" ry="30" class="thermomix-bowl"/>
                        <path d="M 110,180 Q 110,120 200,100 Q 290,120 290,180" class="thermomix-bowl"/>

                        <!-- Blade -->
                        <g class="thermomix-blade">
                            <rect x="195" y="140" width="10" height="60" rx="2"/>
                            <rect x="170" y="165" width="60" height="10" rx="2"/>
                        </g>

                        <!-- Lid -->
                        <ellipse cx="200" cy="100" rx="50" ry="15" fill="var(--copper-light)"/>
                        <rect x="175" y="80" width="50" height="20" rx="10" fill="var(--copper-light)"/>
                    </svg>

                    <!-- Ingredient Orbit -->
                    <div class="ingredient-orbit">
                        <span class="ingredient" style="--orbit-duration: 12s; --orbit-delay: 0s;" data-tip="Fresh herbs">üåø</span>
                        <span class="ingredient" style="--orbit-duration: 15s; --orbit-delay: -2s;" data-tip="Garlic">üßÑ</span>
                        <span class="ingredient" style="--orbit-duration: 13s; --orbit-delay: -4s;" data-tip="Tomatoes">üçÖ</span>
                        <span class="ingredient" style="--orbit-duration: 14s; --orbit-delay: -6s;" data-tip="Fresh vegetables">ü•ï</span>
                        <span class="ingredient" style="--orbit-duration: 16s; --orbit-delay: -8s;" data-tip="Ginger">ü´ö</span>
                        <span class="ingredient" style="--orbit-duration: 11s; --orbit-delay: -10s;" data-tip="Lemon">üçã</span>
                    </div>
                </div>
            </div>

            <div class="handwritten-note" data-kanji="ÊÑõ">
                <p>Becky‚Äî</p>
                <p>This is for the part of you that loves cooking <em>and</em> doing a lot at once. Fewer limits, more possibilities‚Äîand meals that feel like celebrations.</p>
                <p>I can't wait to be invited over.</p>
                <p>So proud of you.</p>
                <p class="signature">With love, Tim</p>
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section>
        <div class="container">
            <h2 class="section-title" data-kanji="ÂèØËÉΩÊÄß">One Machine, Endless Possibilities</h2>

            <div class="feature-grid">
                <div class="feature-card" data-tip="Mix, blend, chop, knead‚Äîall in one" data-kanji="Âäõ">
                    <span class="feature-icon">‚ö°</span>
                    <h3 class="feature-title">All-In-One Power</h3>
                    <p class="feature-description">Mix, blend, steam, chop, knead, weigh, cook‚Äî20+ functions in a single machine. Your kitchen, simplified.</p>
                </div>

                <div class="feature-card" data-tip="Precision temperature control" data-kanji="Á≤æÂØÜ">
                    <span class="feature-icon">üéØ</span>
                    <h3 class="feature-title">Precision Control</h3>
                    <p class="feature-description">Temperature control to the degree. Speed adjustments that matter. Cooking becomes a science you control.</p>
                </div>

                <div class="feature-card" data-tip="Guided recipes via Cookidoo app" data-kanji="ÊäÄË°ì">
                    <span class="feature-icon">üì±</span>
                    <h3 class="feature-title">Cookidoo Integration</h3>
                    <p class="feature-description">Thousands of guided recipes on your screen. Step-by-step instructions. New ideas every week.</p>
                </div>

                <div class="feature-card" data-tip="Professional consultant support" data-kanji="ÊîØÊè¥">
                    <span class="feature-icon">üë®‚Äçüç≥</span>
                    <h3 class="feature-title">Expert Support</h3>
                    <p class="feature-description">Personal consultant. Professional network. Classes, tips, and a community that cares about your cooking.</p>
                </div>

                <div class="feature-card" data-tip="From soups to desserts" data-kanji="ÂÆåÁíß">
                    <span class="feature-icon">üç≤</span>
                    <h3 class="feature-title">Complete Meals</h3>
                    <p class="feature-description">Soups, sauces, mains, sides, desserts, bread‚Äîcomplete meals from a single machine. More time at the table.</p>
                </div>

                <div class="feature-card" data-tip="Multitask while it cooks" data-kanji="Ëá™Áî±">
                    <span class="feature-icon">‚è∞</span>
                    <h3 class="feature-title">Time Liberation</h3>
                    <p class="feature-description">Set it, let it work, do everything else. The machine handles the timing. You handle your life.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Recipe Showcase -->
    <section>
        <div class="container">
            <h2 class="section-title" data-kanji="È≠îÊ≥ï">Recipe Magic</h2>

            <div class="recipe-showcase" id="recipe-showcase">
                <!-- Recipe cards will be generated by JS -->
            </div>
        </div>
    </section>

    <!-- Interactive Section -->
    <section>
        <div class="container">
            <div class="interactive-section">
                <h2 class="create-title" data-kanji="ÂâµÈÄ†">What Will You Create?</h2>

                <div class="ingredient-dropzone" id="dropzone">
                    <p class="dropzone-text" id="dropzone-text">Drop ingredients here</p>
                </div>

                <div class="ingredient-buttons">
                    <button class="ingredient-btn" data-ingredient="tomatoes" data-kanji="Ëµ§">üçÖ Tomatoes</button>
                    <button class="ingredient-btn" data-ingredient="garlic" data-kanji="È¶ô">üßÑ Garlic</button>
                    <button class="ingredient-btn" data-ingredient="basil" data-kanji="Á∑ë">üåø Basil</button>
                    <button class="ingredient-btn" data-ingredient="olive-oil" data-kanji="Ê≤π">ü´í Olive Oil</button>
                    <button class="ingredient-btn" data-ingredient="onions" data-kanji="Áîò">üßÖ Onions</button>
                    <button class="ingredient-btn" data-ingredient="cream" data-kanji="‰π≥">ü•õ Cream</button>
                    <button class="ingredient-btn" data-ingredient="chicken" data-kanji="ËÇâ">üçó Chicken</button>
                    <button class="ingredient-btn" data-ingredient="rice" data-kanji="Á±≥">üçö Rice</button>
                </div>

                <div class="celebration-message" id="celebration-message"></div>
            </div>
        </div>
    </section>

    <!-- CTA Section -->
    <section class="cta-section">
        <div class="container">
            <h2 class="section-title" data-kanji="Á•ùÁ¶è">Celebrations Await</h2>
            <a href="https://www.thermomix.com/collections/shop-all" class="cta-button" target="_blank" rel="noopener">Explore Your Thermomix</a>
            <p class="cta-subtitle">TM7 ‚Äî Every meal a celebration</p>
        </div>
    </section>

    <footer>
        <p data-kanji="Èè°">Made with love ¬∑ Christmas 2025</p>
    </footer>

    <!-- WebXR AR Button -->
    <button id="ar-button" class="xr-button">View Thermomix in AR üç≥</button>

    <!-- XR Overlay UI -->
    <div id="xr-overlay" class="xr-overlay">
        <div class="xr-ui-panel">
            <div class="xr-ingredient-selector">
                <button class="xr-ingredient-btn" data-ingredient="tomatoes">üçÖ Tomatoes</button>
                <button class="xr-ingredient-btn" data-ingredient="garlic">üßÑ Garlic</button>
                <button class="xr-ingredient-btn" data-ingredient="basil">üåø Basil</button>
                <button class="xr-ingredient-btn" data-ingredient="onions">üßÖ Onions</button>
            </div>
        </div>
    </div>

    <script>
        //
        // The Kitchen Console ‚Äî where ingredients become instructions
        // Type "cook" to see celebration
        // Click the dropzone to trigger celebration
        // window.thermomix contains all recipes
        //

        // Web Audio API - Initialize on first interaction
        let audioCtx = null;

        function initAudio() {
            if (!audioCtx) {
                audioCtx = new (window.AudioContext || window.webkitAudioContext)();
            }
            return audioCtx;
        }

        // Cooking sounds
        function playBubble() {
            const ctx = initAudio();
            const osc = ctx.createOscillator();
            const gain = ctx.createGain();
            osc.connect(gain);
            gain.connect(ctx.destination);
            osc.frequency.setValueAtTime(200 + Math.random() * 100, ctx.currentTime);
            gain.gain.setValueAtTime(0.08, ctx.currentTime);
            gain.gain.exponentialRampToValueAtTime(0.01, ctx.currentTime + 0.3);
            osc.start();
            osc.stop(ctx.currentTime + 0.3);
        }

        function playWhisk() {
            const ctx = initAudio();
            const osc = ctx.createOscillator();
            const gain = ctx.createGain();
            osc.connect(gain);
            gain.connect(ctx.destination);
            osc.type = 'sawtooth';
            osc.frequency.setValueAtTime(400, ctx.currentTime);
            osc.frequency.exponentialRampToValueAtTime(300, ctx.currentTime + 0.15);
            gain.gain.setValueAtTime(0.06, ctx.currentTime);
            gain.gain.exponentialRampToValueAtTime(0.01, ctx.currentTime + 0.15);
            osc.start();
            osc.stop(ctx.currentTime + 0.15);
        }

        function playChop() {
            const ctx = initAudio();
            const osc = ctx.createOscillator();
            const gain = ctx.createGain();
            osc.connect(gain);
            gain.connect(ctx.destination);
            osc.type = 'square';
            osc.frequency.setValueAtTime(150, ctx.currentTime);
            gain.gain.setValueAtTime(0.1, ctx.currentTime);
            gain.gain.exponentialRampToValueAtTime(0.01, ctx.currentTime + 0.1);
            osc.start();
            osc.stop(ctx.currentTime + 0.1);
        }

        function playSuccess() {
            const ctx = initAudio();
            const notes = [523.25, 659.25, 783.99]; // C, E, G
            notes.forEach((freq, i) => {
                setTimeout(() => {
                    const osc = ctx.createOscillator();
                    const gain = ctx.createGain();
                    osc.connect(gain);
                    gain.connect(ctx.destination);
                    osc.frequency.setValueAtTime(freq, ctx.currentTime);
                    gain.gain.setValueAtTime(0.1, ctx.currentTime);
                    gain.gain.exponentialRampToValueAtTime(0.01, ctx.currentTime + 0.4);
                    osc.start();
                    osc.stop(ctx.currentTime + 0.4);
                }, i * 120);
            });
        }

        function playHover() {
            const ctx = initAudio();
            const osc = ctx.createOscillator();
            const gain = ctx.createGain();
            osc.connect(gain);
            gain.connect(ctx.destination);
            osc.frequency.setValueAtTime(440, ctx.currentTime);
            gain.gain.setValueAtTime(0.03, ctx.currentTime);
            gain.gain.exponentialRampToValueAtTime(0.01, ctx.currentTime + 0.1);
            osc.start();
            osc.stop(ctx.currentTime + 0.1);
        }

        //
        // WEBXR IMPLEMENTATION
        // AR Mode - Place Thermomix in your kitchen
        //

        let xrSession = null;
        let xrRefSpace = null;
        let gl = null;
        let xrGLFactory = null;
        let hitTestSource = null;
        let hitTestSourceRequested = false;
        let thermomixPlaced = false;

        // WebXR Session Management
        const arButton = document.getElementById('ar-button');
        const xrOverlay = document.getElementById('xr-overlay');

        // Check for WebXR support
        if (navigator.xr) {
            navigator.xr.isSessionSupported('immersive-ar').then((supported) => {
                if (supported) {
                    arButton.style.display = 'block';
                    arButton.addEventListener('click', initXRSession);
                    console.log('%cüéØ AR Mode Available! Click the AR button to place your Thermomix.', 'color: #98d8aa; font-weight: bold;');
                } else {
                    console.log('%c‚ö†Ô∏è AR not supported on this device', 'color: #FF6347;');
                }
            }).catch(err => {
                console.log('%c‚ö†Ô∏è WebXR not available:', 'color: #FF6347;', err);
            });
        } else {
            console.log('%c‚ö†Ô∏è WebXR not supported in this browser', 'color: #FF6347;');
        }

        async function initXRSession() {
            if (xrSession) {
                // End session if already running
                await xrSession.end();
                return;
            }

            try {
                // Request AR session
                xrSession = await navigator.xr.requestSession('immersive-ar', {
                    requiredFeatures: ['hit-test', 'dom-overlay'],
                    optionalFeatures: ['local-floor'],
                    domOverlay: { root: xrOverlay }
                });

                // Setup WebGL context
                const canvas = document.createElement('canvas');
                gl = canvas.getContext('webgl', { xrCompatible: true });
                xrGLFactory = new XRWebGLLayer(xrSession, gl);

                await xrSession.updateRenderState({
                    baseLayer: xrGLFactory
                });

                // Get reference space
                xrRefSpace = await xrSession.requestReferenceSpace('local-floor');

                // Session started
                arButton.textContent = 'Exit AR üö™';
                arButton.classList.add('in-session');
                xrOverlay.classList.add('active');

                playSuccess();
                console.log('%cüéâ AR Session Started!', 'color: #98d8aa; font-weight: bold; font-size: 16px;');

                // Handle session end
                xrSession.addEventListener('end', onXRSessionEnd);

                // Start render loop
                xrSession.requestAnimationFrame(onXRFrame);

                // Setup spatial audio
                initSpatialAudio();

                // Setup XR interactions
                setupXRInteractions();

            } catch (err) {
                console.error('Failed to start AR session:', err);
                alert('Could not start AR session. Make sure you\'re on a supported device.');
            }
        }

        function onXRSessionEnd() {
            xrSession = null;
            arButton.textContent = 'View Thermomix in AR üç≥';
            arButton.classList.remove('in-session');
            xrOverlay.classList.remove('active');

            // Reset AR state
            hitTestSource = null;
            hitTestSourceRequested = false;
            thermomixPlaced = false;
            steamParticles = [];
            ingredientObjects = [];
            bladeRotation = 0;

            // Stop spatial audio
            if (cookingSound) {
                cookingSound.osc1.stop();
                cookingSound.osc2.stop();
                cookingSound.lfo.stop();
                cookingSound = null;
            }

            // Reset ingredient buttons
            document.querySelectorAll('.xr-ingredient-btn').forEach(btn => {
                btn.classList.remove('added');
            });

            console.log('%cüç≥ AR Session Ended - State Reset', 'color: #B87333;');
        }

        // 3D Thermomix Model State
        let thermomixPosition = { x: 0, y: 0, z: -1.5 };
        let bladeRotation = 0;
        let steamParticles = [];
        let ingredientObjects = [];
        const COPPER = [0.72, 0.45, 0.20, 1.0];
        const CREAM = [1.0, 0.97, 0.86, 1.0];
        const GREEN = [0.60, 0.85, 0.66, 1.0];
        const CHAR = [0.10, 0.10, 0.10, 1.0];

        function onXRFrame(time, frame) {
            const session = frame.session;
            session.requestAnimationFrame(onXRFrame);

            const pose = frame.getViewerPose(xrRefSpace);
            if (!pose) return;

            // Hit test for placing Thermomix on surfaces
            if (!thermomixPlaced) {
                if (!hitTestSourceRequested) {
                    session.requestReferenceSpace('viewer').then((refSpace) => {
                        session.requestHitTestSource({ space: refSpace }).then((source) => {
                            hitTestSource = source;
                        });
                    });
                    hitTestSourceRequested = true;
                }

                if (hitTestSource) {
                    const hitTestResults = frame.getHitTestResults(hitTestSource);
                    if (hitTestResults.length > 0) {
                        const hit = hitTestResults[0];
                        const hitPose = hit.getPose(xrRefSpace);

                        // Update Thermomix position to hit location
                        thermomixPosition.x = hitPose.transform.position.x;
                        thermomixPosition.y = hitPose.transform.position.y;
                        thermomixPosition.z = hitPose.transform.position.z;
                    }
                }
            }

            const glLayer = session.renderState.baseLayer;
            gl.bindFramebuffer(gl.FRAMEBUFFER, glLayer.framebuffer);

            // Clear
            gl.clearColor(0, 0, 0, 0);
            gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);
            gl.enable(gl.DEPTH_TEST);

            // Render for each view (eye)
            for (const view of pose.views) {
                const viewport = glLayer.getViewport(view);
                gl.viewport(viewport.x, viewport.y, viewport.width, viewport.height);

                // Update animations
                bladeRotation += 0.05;
                updateSteamParticles();

                // Render scene
                renderThermomix(view);
                renderSteamParticles(view);
                renderIngredients(view);

                // Render placement indicator if not placed
                if (!thermomixPlaced) {
                    renderPlacementIndicator(view);
                }
            }

            // Update spatial audio
            updateSpatialAudio(pose);
        }

        function renderPlacementIndicator(view) {
            // Visual indicator for where Thermomix will be placed
            const indicatorMatrix = createModelMatrix(
                thermomixPosition.x,
                thermomixPosition.y,
                thermomixPosition.z,
                0.2
            );
            const indicatorColor = [0.60, 0.85, 0.66, 0.5]; // Semi-transparent green
            renderSphere(view, indicatorMatrix, indicatorColor, 0.15);
        }

        // Tap to place Thermomix
        if (xrOverlay) {
            xrOverlay.addEventListener('click', (e) => {
                if (xrSession && !thermomixPlaced) {
                    thermomixPlaced = true;
                    playSuccess();
                    console.log('%cüç≥ Thermomix placed on surface!', 'color: #98d8aa; font-weight: bold;');
                    console.log(`Position: x=${thermomixPosition.x.toFixed(2)}, y=${thermomixPosition.y.toFixed(2)}, z=${thermomixPosition.z.toFixed(2)}`);
                }
            });
        }

        function renderThermomix(view) {
            // This is a simplified representation
            // In production, you'd use proper shaders and 3D models

            const modelMatrix = createModelMatrix(
                thermomixPosition.x,
                thermomixPosition.y,
                thermomixPosition.z,
                0.3 // scale
            );

            // Render cylindrical body (simplified as wireframe)
            renderCylinder(view, modelMatrix, COPPER, 0.15, 0.25);

            // Render bowl
            const bowlMatrix = createModelMatrix(
                thermomixPosition.x,
                thermomixPosition.y + 0.15,
                thermomixPosition.z,
                0.2
            );
            renderSphere(view, bowlMatrix, CREAM, 0.12);

            // Render spinning blade
            const bladeMatrix = createModelMatrix(
                thermomixPosition.x,
                thermomixPosition.y + 0.1,
                thermomixPosition.z,
                0.08,
                bladeRotation
            );
            renderBlade(view, bladeMatrix, CHAR);
        }

        function updateSteamParticles() {
            // Add new steam particle
            if (Math.random() < 0.3) {
                steamParticles.push({
                    x: thermomixPosition.x + (Math.random() - 0.5) * 0.1,
                    y: thermomixPosition.y + 0.25,
                    z: thermomixPosition.z + (Math.random() - 0.5) * 0.1,
                    vy: 0.01 + Math.random() * 0.01,
                    life: 1.0,
                    size: 0.02 + Math.random() * 0.02
                });
            }

            // Update existing particles
            steamParticles = steamParticles.filter(p => {
                p.y += p.vy;
                p.life -= 0.02;
                p.size += 0.001;
                return p.life > 0;
            });
        }

        function renderSteamParticles(view) {
            steamParticles.forEach(particle => {
                const particleMatrix = createModelMatrix(
                    particle.x,
                    particle.y,
                    particle.z,
                    particle.size
                );
                const color = [1.0, 0.97, 0.86, particle.life * 0.3];
                renderSphere(view, particleMatrix, color, particle.size);
            });
        }

        function renderIngredients(view) {
            ingredientObjects.forEach((ingredient, index) => {
                const angle = (Date.now() / 2000) + (index * Math.PI * 2 / ingredientObjects.length);
                const orbitRadius = 0.3;

                const ingredientMatrix = createModelMatrix(
                    thermomixPosition.x + Math.cos(angle) * orbitRadius,
                    thermomixPosition.y + 0.1,
                    thermomixPosition.z + Math.sin(angle) * orbitRadius,
                    0.05
                );

                renderSphere(view, ingredientMatrix, ingredient.color, 0.04);
            });
        }

        // Spatial Audio System
        let spatialAudioContext = null;
        let cookingSound = null;
        let steamSound = null;
        let pannerNode = null;

        function initSpatialAudio() {
            if (audioCtx) {
                spatialAudioContext = audioCtx;
            } else {
                spatialAudioContext = initAudio();
            }

            // Create panner for 3D positioning
            pannerNode = spatialAudioContext.createPanner();
            pannerNode.panningModel = 'HRTF';
            pannerNode.distanceModel = 'inverse';
            pannerNode.refDistance = 1;
            pannerNode.maxDistance = 10;
            pannerNode.rolloffFactor = 1;
            pannerNode.coneInnerAngle = 360;
            pannerNode.coneOuterAngle = 0;
            pannerNode.coneOuterGain = 0;

            // Position audio at Thermomix
            pannerNode.setPosition(
                thermomixPosition.x,
                thermomixPosition.y,
                thermomixPosition.z
            );

            // Create continuous cooking sounds
            createCookingAmbience();

            console.log('%cüîä Spatial audio initialized', 'color: #98d8aa;');
        }

        function createCookingAmbience() {
            // Gentle bubbling sound using oscillators
            const osc1 = spatialAudioContext.createOscillator();
            const osc2 = spatialAudioContext.createOscillator();
            const gain = spatialAudioContext.createGain();
            const lfo = spatialAudioContext.createOscillator();
            const lfoGain = spatialAudioContext.createGain();

            osc1.type = 'sine';
            osc2.type = 'sine';
            lfo.type = 'sine';

            osc1.frequency.setValueAtTime(180, spatialAudioContext.currentTime);
            osc2.frequency.setValueAtTime(220, spatialAudioContext.currentTime);
            lfo.frequency.setValueAtTime(2, spatialAudioContext.currentTime);

            lfoGain.gain.setValueAtTime(20, spatialAudioContext.currentTime);
            gain.gain.setValueAtTime(0.03, spatialAudioContext.currentTime);

            lfo.connect(lfoGain);
            lfoGain.connect(osc1.frequency);
            lfoGain.connect(osc2.frequency);

            osc1.connect(gain);
            osc2.connect(gain);
            gain.connect(pannerNode);
            pannerNode.connect(spatialAudioContext.destination);

            osc1.start();
            osc2.start();
            lfo.start();

            cookingSound = { osc1, osc2, lfo, gain };
        }

        function updateSpatialAudio(pose) {
            if (!pannerNode || !pose) return;

            // Update listener position
            const transform = pose.transform;
            if (spatialAudioContext.listener.positionX) {
                spatialAudioContext.listener.positionX.setValueAtTime(
                    transform.position.x,
                    spatialAudioContext.currentTime
                );
                spatialAudioContext.listener.positionY.setValueAtTime(
                    transform.position.y,
                    spatialAudioContext.currentTime
                );
                spatialAudioContext.listener.positionZ.setValueAtTime(
                    transform.position.z,
                    spatialAudioContext.currentTime
                );
            }
        }

        // XR Interactions
        function setupXRInteractions() {
            const xrIngredientButtons = document.querySelectorAll('.xr-ingredient-btn');

            xrIngredientButtons.forEach(btn => {
                btn.addEventListener('click', () => {
                    const ingredient = btn.dataset.ingredient;
                    addIngredientToAR(ingredient, btn);
                });
            });
        }

        function addIngredientToAR(ingredient, button) {
            if (button.classList.contains('added')) return;

            // Color mapping for ingredients
            const ingredientColors = {
                'tomatoes': [1.0, 0.39, 0.28, 1.0], // Tomato red
                'garlic': [0.96, 0.96, 0.94, 1.0],  // White
                'basil': [0.60, 0.85, 0.66, 1.0],   // Green
                'onions': [0.95, 0.90, 0.75, 1.0]   // Cream/tan
            };

            ingredientObjects.push({
                name: ingredient,
                color: ingredientColors[ingredient] || GREEN
            });

            button.classList.add('added');

            // Play sound for adding ingredient
            playChop();

            // Create visual feedback - particle burst
            for (let i = 0; i < 10; i++) {
                setTimeout(() => {
                    steamParticles.push({
                        x: thermomixPosition.x,
                        y: thermomixPosition.y + 0.25,
                        z: thermomixPosition.z,
                        vy: 0.02 + Math.random() * 0.02,
                        life: 1.0,
                        size: 0.03
                    });
                }, i * 30);
            }

            console.log(`%cüç≥ Added ${ingredient} to Thermomix!`, 'color: #98d8aa; font-weight: bold;');

            if (ingredientObjects.length >= 3) {
                playSuccess();
                console.log('%cüéâ Recipe ready in AR!', 'color: #98d8aa; font-weight: bold; font-size: 16px;');
            }
        }

        // Simplified WebGL matrix and rendering helpers
        function createModelMatrix(x, y, z, scale, rotation = 0) {
            const s = scale;
            const c = Math.cos(rotation);
            const si = Math.sin(rotation);

            return [
                s*c, 0, s*si, 0,
                0, s, 0, 0,
                -s*si, 0, s*c, 0,
                x, y, z, 1
            ];
        }

        function renderCylinder(view, matrix, color, radius, height) {
            // Simplified rendering - in production use proper vertex buffers
            // This is a placeholder that represents the cylinder conceptually
            console.debug('Rendering cylinder:', { matrix, color, radius, height });
        }

        function renderSphere(view, matrix, color, radius) {
            // Simplified rendering - in production use proper vertex buffers
            console.debug('Rendering sphere:', { matrix, color, radius });
        }

        function renderBlade(view, matrix, color) {
            // Simplified rendering - in production use proper vertex buffers
            console.debug('Rendering blade:', { matrix, color });
        }

        // Custom Cursor
        const cursor = document.getElementById('cursor');
        let mouseX = 0, mouseY = 0;
        let cursorX = 0, cursorY = 0;

        document.addEventListener('mousemove', (e) => {
            mouseX = e.clientX;
            mouseY = e.clientY;
        });

        function animateCursor() {
            const dx = mouseX - cursorX;
            const dy = mouseY - cursorY;

            cursorX += dx * 0.15;
            cursorY += dy * 0.15;

            cursor.style.left = cursorX + 'px';
            cursor.style.top = cursorY + 'px';

            requestAnimationFrame(animateCursor);
        }
        animateCursor();

        // Cursor hover effects with audio
        const interactiveElements = document.querySelectorAll('a, button, .feature-card, .recipe-card, .ingredient');
        interactiveElements.forEach(el => {
            el.addEventListener('mouseenter', () => {
                cursor.classList.add('hover');
                playHover();
            });
            el.addEventListener('mouseleave', () => cursor.classList.remove('hover'));
        });

        // Particles
        const particlesContainer = document.getElementById('particles');
        const particleTypes = ['steam', 'spice', 'herb'];

        function createParticle() {
            const particle = document.createElement('div');
            particle.className = `particle ${particleTypes[Math.floor(Math.random() * particleTypes.length)]}`;

            particle.style.left = Math.random() * 100 + '%';
            particle.style.setProperty('--duration', (8 + Math.random() * 12) + 's');
            particle.style.setProperty('--delay', (Math.random() * 5) + 's');
            particle.style.setProperty('--drift', (Math.random() * 100 - 50) + 'px');

            particlesContainer.appendChild(particle);

            setTimeout(() => particle.remove(), 20000);
        }

        setInterval(createParticle, 400);
        for (let i = 0; i < 30; i++) createParticle();

        // Scroll Reveal
        const observerOptions = {
            threshold: 0.15,
            rootMargin: '0px 0px -50px 0px'
        };

        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        }, observerOptions);

        document.querySelectorAll('.section-title, .feature-card').forEach(el => observer.observe(el));

        // Ripple Effect
        function createRipple(e) {
            const ripple = document.createElement('div');
            ripple.className = 'ripple';

            const rect = e.currentTarget.getBoundingClientRect();
            const size = Math.max(rect.width, rect.height);
            const x = e.clientX - rect.left - size / 2;
            const y = e.clientY - rect.top - size / 2;

            ripple.style.width = ripple.style.height = size + 'px';
            ripple.style.left = x + 'px';
            ripple.style.top = y + 'px';

            e.currentTarget.appendChild(ripple);

            setTimeout(() => ripple.remove(), 800);
        }

        document.querySelectorAll('.feature-card, .cta-button').forEach(el => {
            el.addEventListener('click', createRipple);
        });

        // Recipe Data
        const recipes = [
            {
                emoji: 'üçù',
                name: 'Fresh Pasta',
                cuisine: 'Italian',
                details: ['Knead perfect dough', 'Silky marinara sauce', 'Steam vegetables', 'All in 30 minutes']
            },
            {
                emoji: 'üçú',
                name: 'Ramen Bowl',
                cuisine: 'Japanese',
                details: ['Rich bone broth', 'Perfectly soft egg', 'Tare seasoning', 'Restaurant quality']
            },
            {
                emoji: 'ü•ò',
                name: 'Paella',
                cuisine: 'Spanish',
                details: ['Saffron rice perfection', 'Seafood medley', 'Socarrat crust', 'Feeds a celebration']
            },
            {
                emoji: 'üçõ',
                name: 'Thai Curry',
                cuisine: 'Thai',
                details: ['Homemade curry paste', 'Coconut cream base', 'Tender vegetables', 'Balanced heat']
            },
            {
                emoji: 'ü•ñ',
                name: 'Artisan Bread',
                cuisine: 'French',
                details: ['Knead to perfection', 'Controlled fermentation', 'Crispy crust', 'Bakery at home']
            },
            {
                emoji: 'üç∞',
                name: 'Cheesecake',
                cuisine: 'American',
                details: ['Smooth filling', 'Perfect bake', 'Berry compote', 'Celebration-ready']
            }
        ];

        // Recipe Showcase - Create static cards
        const recipeShowcase = document.getElementById('recipe-showcase');

        function renderRecipes() {
            recipes.forEach((recipe, index) => {
                const card = document.createElement('div');
                card.className = 'recipe-card';
                card.setAttribute('data-kanji', recipe.cuisine);

                card.innerHTML = `
                    <span class="recipe-emoji">${recipe.emoji}</span>
                    <h3 class="recipe-name">${recipe.name}</h3>
                    <p class="recipe-cuisine">${recipe.cuisine}</p>
                    <ul class="recipe-details">
                        ${recipe.details.map(d => `<li>${d}</li>`).join('')}
                    </ul>
                `;

                recipeShowcase.appendChild(card);

                // Add to observer
                observer.observe(card);

                // Add hover interaction
                card.addEventListener('mouseenter', () => {
                    cursor.classList.add('hover');
                    playBubble();
                });
                card.addEventListener('mouseleave', () => cursor.classList.remove('hover'));
            });
        }

        renderRecipes();

        // Interactive Dropzone
        const dropzone = document.getElementById('dropzone');
        const dropzoneText = document.getElementById('dropzone-text');
        const celebrationMessage = document.getElementById('celebration-message');
        const ingredientButtons = document.querySelectorAll('.ingredient-btn');

        let addedIngredients = [];

        ingredientButtons.forEach(btn => {
            btn.addEventListener('click', (e) => {
                const ingredient = btn.dataset.ingredient;

                if (!addedIngredients.includes(ingredient)) {
                    addedIngredients.push(ingredient);
                    btn.classList.add('added');

                    dropzone.classList.add('active');
                    dropzoneText.textContent = `${addedIngredients.length} ingredient${addedIngredients.length > 1 ? 's' : ''} added`;

                    createRipple(e);
                    playChop();

                    // Celebration messages based on count
                    if (addedIngredients.length === 2) {
                        celebrationMessage.textContent = '‚ú® Nice start! Keep going...';
                        celebrationMessage.classList.add('visible');
                        setTimeout(() => celebrationMessage.classList.remove('visible'), 1500);
                    } else if (addedIngredients.length === 3) {
                        celebrationMessage.textContent = 'üî• Almost there! One more...';
                        celebrationMessage.classList.add('visible');
                        setTimeout(() => celebrationMessage.classList.remove('visible'), 1500);
                    } else if (addedIngredients.length >= 4) {
                        celebrationMessage.textContent = 'üéâ Perfect! Time to cook something amazing!';
                        celebrationMessage.classList.add('visible');
                        playSuccess();

                        console.log('%cüéâ Recipe ready! Ingredients:', 'font-size: 16px; font-weight: bold; color: #98d8aa;');
                        addedIngredients.forEach(ing => console.log(`  ‚Ä¢ ${ing}`));

                        setTimeout(() => {
                            dropzone.classList.remove('active');
                            dropzoneText.textContent = 'Creating magic...';

                            setTimeout(() => {
                                addedIngredients = [];
                                ingredientButtons.forEach(b => b.classList.remove('added'));
                                dropzoneText.textContent = 'Drop ingredients here';
                                celebrationMessage.classList.remove('visible');
                            }, 2000);
                        }, 2000);
                    }
                }
            });
        });

        // Keyboard Easter Egg
        let typedKeys = '';
        const secretCode = 'cook';

        document.addEventListener('keydown', (e) => {
            typedKeys += e.key.toLowerCase();

            if (typedKeys.includes(secretCode)) {
                playSuccess();

                console.log(`
    ‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
    ‚ïë                                       ‚ïë
    ‚ïë         üç≥  THERMOMIX TM7  üç≥        ‚ïë
    ‚ïë                                       ‚ïë
    ‚ïë     One Machine. Endless Meals.       ‚ïë
    ‚ïë                                       ‚ïë
    ‚ïë  Mix ¬∑ Blend ¬∑ Steam ¬∑ Chop ¬∑ Cook   ‚ïë
    ‚ïë                                       ‚ïë
    ‚ïë      For Becky ‚Äî who makes magic     ‚ïë
    ‚ïë         happen in the kitchen        ‚ïë
    ‚ïë                                       ‚ïë
    ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù
                `);

                console.log('%c‚ú® Secret unlocked! Type window.thermomix.inspect() for more.', 'font-size: 16px; color: #98d8aa; font-weight: bold;');

                typedKeys = '';
            }

            if (typedKeys.length > 20) {
                typedKeys = typedKeys.slice(-20);
            }
        });

        // Window object for console exploration
        window.thermomix = {
            model: 'TM7',
            recipient: 'Becky',
            features: [
                'All-in-one cooking system',
                'Precision temperature control',
                'Cookidoo app integration',
                'Professional support network',
                'WebXR AR Mode - Place in your kitchen!'
            ],
            recipes: recipes,
            message: 'For the part of you that loves cooking and doing a lot at once. Fewer limits, more possibilities.',
            ar: {
                supported: navigator.xr !== undefined,
                inSession: () => xrSession !== null,
                ingredients: () => ingredientObjects.map(i => i.name),
                thermomixPosition: () => thermomixPosition
            },
            inspect: function() {
                console.log('üç≥ THERMOMIX TM7 SPECIFICATIONS');
                console.log('‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ');
                console.log('Model:', this.model);
                console.log('For:', this.recipient);
                console.log('\nFeatures:');
                this.features.forEach((f, i) => console.log(`  ${i + 1}. ${f}`));
                console.log('\nAvailable Recipes:', this.recipes.length);
                this.recipes.forEach(r => console.log(`  ${r.emoji} ${r.name} (${r.cuisine})`));
                console.log('\nAR Capabilities:');
                console.log('  WebXR Supported:', this.ar.supported);
                console.log('  Currently in AR:', this.ar.inSession());
                if (this.ar.inSession()) {
                    console.log('  Ingredients in AR:', this.ar.ingredients());
                }
                console.log('\nüíù "' + this.message + '"');
            },
            Èè°: 'The kitchen is where chaos becomes celebration'
        };

        // Console greeting
        console.log('%cüç≥ Thermomix TM7 ‚Äî For Becky', 'font-size: 20px; font-weight: bold; color: #B87333;');
        console.log('%cType window.thermomix.inspect() to see specifications', 'color: #98d8aa;');
        console.log('%cType "cook" anywhere to unlock secret message', 'color: #FF6347;');
        console.log('%cTriple-click the Thermomix for TURBO MODE', 'color: #FF6347; font-weight: bold;');
        console.log('%cClick ingredient buttons to add to dropzone', 'color: #CD853F;');

        // WebXR-specific console message
        if (navigator.xr) {
            navigator.xr.isSessionSupported('immersive-ar').then((supported) => {
                if (supported) {
                    console.log('%cüéØ AR MODE AVAILABLE! Click the AR button to place Thermomix in your kitchen!', 'color: #98d8aa; font-weight: bold; font-size: 14px; background: #1a1a1a; padding: 8px;');
                }
            });
        }

        console.log('%cÈè°', 'font-size: 30px;');

        // Triple-click easter egg on Thermomix SVG
        let clickCount = 0;
        let clickTimer = null;

        const thermomixContainer = document.querySelector('.thermomix-container');
        if (thermomixContainer) {
            thermomixContainer.addEventListener('click', () => {
                clickCount++;

                if (clickTimer) clearTimeout(clickTimer);

                if (clickCount === 3) {
                    const blade = document.querySelector('.thermomix-blade');
                    if (blade) {
                        blade.classList.add('turbo');
                        playSuccess();

                        console.log('%c‚ö° TURBO MODE ACTIVATED! ‚ö°', 'font-size: 18px; font-weight: bold; color: #FF6347;');

                        setTimeout(() => {
                            blade.classList.remove('turbo');
                            clickCount = 0;
                            console.log('%cüç≥ Back to normal speed...', 'color: #98d8aa;');
                        }, 3000);
                    }
                } else {
                    clickTimer = setTimeout(() => {
                        clickCount = 0;
                    }, 1000);
                }
            });
        }

        // Smooth scroll for links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Random ingredient orbit speed variation
        setInterval(() => {
            document.querySelectorAll('.ingredient').forEach(ing => {
                const currentDuration = parseFloat(ing.style.getPropertyValue('--orbit-duration'));
                const newDuration = currentDuration + (Math.random() - 0.5) * 0.5;
                ing.style.setProperty('--orbit-duration', Math.max(10, Math.min(17, newDuration)) + 's');
            });
        }, 5000);

        // Page load celebration
        window.addEventListener('load', () => {
            setTimeout(() => {
                console.log(`
    ‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó
    ‚ïë                                       ‚ïë
    ‚ïë         üç≥  THERMOMIX TM7  üç≥        ‚ïë
    ‚ïë                                       ‚ïë
    ‚ïë     One Machine. Endless Meals.       ‚ïë
    ‚ïë                                       ‚ïë
    ‚ïë  Mix ¬∑ Blend ¬∑ Steam ¬∑ Chop ¬∑ Cook   ‚ïë
    ‚ïë                                       ‚ïë
    ‚ïë      For Becky ‚Äî who makes magic     ‚ïë
    ‚ïë         happen in the kitchen        ‚ïë
    ‚ïë                                       ‚ïë
    ‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù
                `);
                console.log('%c‚ú® Kitchen ready. Time to create.', 'font-size: 16px; color: #98d8aa; font-weight: bold;');

                // Check for AR support and notify
                if (navigator.xr) {
                    navigator.xr.isSessionSupported('immersive-ar').then((supported) => {
                        if (supported) {
                            console.log('%cüéØ AR Mode Detected! Look for the glowing AR button in the bottom-right corner.', 'font-size: 14px; color: #98d8aa; font-weight: bold; background: rgba(152, 216, 170, 0.1); padding: 8px; border-left: 4px solid #98d8aa;');
                        }
                    });
                }
            }, 500);
        });
    </script>
</body>
</html>
