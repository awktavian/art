<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kagami Orb â€” KiCad Schematic Specification â€” Kagami Orb</title>
    <meta name="description" content="This document specifies the full component-level KiCad schematic for the Kagami Orb custom carrier PCB.">
    <meta name="theme-color" content="#07070a">

    <!-- Open Graph -->
    <meta property="og:title" content="Kagami Orb â€” KiCad Schematic Specification â€” Kagami Orb">
    <meta property="og:description" content="This document specifies the full component-level KiCad schematic for the Kagami Orb custom carrier PCB.">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://storage.googleapis.com/kagami-media-public/orb/kicad-spec.html">
    <meta name="twitter:card" content="summary">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:ital,wght@0,300;0,400;0,500;0,600;1,400&family=IBM+Plex+Mono:wght@300;400;500&family=Noto+Sans+JP:wght@100;200;300&display=swap" rel="stylesheet">

    <style>
        :root {
            --void: #07070a;
            --void-elevated: #0d0d12;
            --void-surface: #111116;
            --gold: #d4a84b;
            --gold-bright: #f0c563;
            --gold-dim: rgba(212, 168, 75, 0.4);
            --gold-whisper: rgba(212, 168, 75, 0.08);
            --sensory: #3dd6d0;
            --success: #22c55e;
            --warning: #f59e0b;
            --error: #ef4444;
            --text: #f5f3ed;
            --text-dim: rgba(245, 243, 237, 0.75);
            --text-ghost: rgba(245, 243, 237, 0.55);
            --text-muted: rgba(245, 243, 237, 0.4);
            --border: rgba(255, 255, 255, 0.08);
            --border-hover: rgba(255, 255, 255, 0.15);
            --code-bg: rgba(0, 0, 0, 0.4);
            --table-stripe: rgba(255, 255, 255, 0.02);
        }

        *, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }
        ::selection { background: var(--gold); color: var(--void); }
        html { scroll-behavior: smooth; font-size: 16px; }

        body {
            font-family: 'IBM Plex Sans', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--void);
            color: var(--text);
            line-height: 1.7;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        /* Top navigation bar */
        .top-nav {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            height: 56px;
            background: rgba(7, 7, 10, 0.85);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border-bottom: 1px solid var(--border);
            z-index: 1000;
            display: flex;
            align-items: center;
            padding: 0 1.5rem;
        }

        .nav-brand {
            font-family: 'Noto Sans JP', sans-serif;
            font-weight: 200;
            font-size: 1.25rem;
            color: var(--gold);
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .nav-brand:hover {
            color: var(--gold-bright);
        }

        .nav-brand .kanji {
            font-size: 1.5rem;
        }

        .nav-links {
            margin-left: auto;
            display: flex;
            gap: 1.5rem;
        }

        .nav-links a {
            color: var(--text-dim);
            text-decoration: none;
            font-size: 0.875rem;
            font-weight: 400;
            transition: color 200ms ease;
        }

        .nav-links a:hover {
            color: var(--gold);
        }

        /* Dropdown menu */
        .nav-dropdown {
            position: relative;
            display: inline-block;
        }

        .nav-dropdown-btn {
            background: none;
            border: none;
            color: var(--text-dim);
            font-size: 0.875rem;
            font-family: inherit;
            cursor: pointer;
            padding: 0;
            transition: color 200ms ease;
        }

        .nav-dropdown-btn:hover {
            color: var(--gold);
        }

        .nav-dropdown-content {
            display: none;
            position: absolute;
            right: 0;
            top: 100%;
            margin-top: 0.5rem;
            background: var(--void-elevated);
            border: 1px solid var(--border);
            border-radius: 8px;
            min-width: 180px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
            z-index: 1001;
            padding: 0.5rem 0;
        }

        .nav-dropdown-content a {
            display: block;
            padding: 0.5rem 1rem;
            color: var(--text-dim);
            text-decoration: none;
            font-size: 0.875rem;
            transition: all 200ms ease;
        }

        .nav-dropdown-content a:hover {
            background: var(--gold-whisper);
            color: var(--gold);
        }

        .nav-dropdown:hover .nav-dropdown-content,
        .nav-dropdown:focus-within .nav-dropdown-content {
            display: block;
        }

        /* Main content */
        main {
            max-width: 900px;
            margin: 0 auto;
            padding: 80px 1.5rem 4rem;
        }

        /* Document header */
        .doc-header {
            margin-bottom: 3rem;
            padding-bottom: 2rem;
            border-bottom: 1px solid var(--border);
        }

        .doc-header h1 {
            font-size: clamp(2rem, 5vw, 3rem);
            font-weight: 500;
            color: var(--text);
            margin-bottom: 0.75rem;
            line-height: 1.2;
        }

        .doc-meta {
            display: flex;
            flex-wrap: wrap;
            gap: 1.5rem;
            font-size: 0.875rem;
            color: var(--text-ghost);
        }

        .doc-meta span {
            display: flex;
            align-items: center;
            gap: 0.375rem;
        }

        /* Typography */
        h1, h2, h3, h4, h5, h6 {
            font-weight: 500;
            line-height: 1.3;
            margin-top: 2.5rem;
            margin-bottom: 1rem;
            color: var(--text);
        }

        h1 { font-size: 2.25rem; }
        h2 {
            font-size: 1.5rem;
            padding-bottom: 0.5rem;
            border-bottom: 1px solid var(--border);
        }
        h3 { font-size: 1.25rem; color: var(--gold); }
        h4 { font-size: 1.125rem; }
        h5 { font-size: 1rem; }
        h6 { font-size: 0.875rem; color: var(--text-dim); }

        p {
            margin-bottom: 1.25rem;
            color: var(--text-dim);
        }

        strong {
            font-weight: 600;
            color: var(--text);
        }

        em {
            color: var(--text-ghost);
        }

        /* Links */
        a {
            color: var(--sensory);
            text-decoration: none;
            transition: color 200ms ease;
        }

        a:hover {
            color: var(--gold);
            text-decoration: underline;
        }

        /* Lists */
        ul, ol {
            margin-bottom: 1.25rem;
            padding-left: 1.5rem;
            color: var(--text-dim);
        }

        li {
            margin-bottom: 0.5rem;
        }

        li::marker {
            color: var(--gold-dim);
        }

        /* Tables - the star of the show */
        .table-wrapper {
            overflow-x: auto;
            margin: 1.5rem 0;
            border-radius: 8px;
            border: 1px solid var(--border);
        }

        table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.9rem;
        }

        thead {
            background: var(--void-elevated);
            position: sticky;
            top: 0;
        }

        th {
            padding: 0.875rem 1rem;
            text-align: left;
            font-weight: 500;
            color: var(--gold);
            font-size: 0.8rem;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            border-bottom: 1px solid var(--border);
            white-space: nowrap;
        }

        td {
            padding: 0.75rem 1rem;
            border-bottom: 1px solid var(--border);
            color: var(--text-dim);
        }

        tr:last-child td {
            border-bottom: none;
        }

        tbody tr:nth-child(even) {
            background: var(--table-stripe);
        }

        tbody tr:hover {
            background: var(--gold-whisper);
        }

        /* Price styling */
        td:nth-child(n) {
            font-family: 'IBM Plex Mono', monospace;
        }

        /* Status badges */
        .status-validated { color: var(--success); }
        .status-warning { color: var(--warning); }
        .status-deprecated { color: var(--error); text-decoration: line-through; }

        /* Code blocks */
        pre {
            background: var(--code-bg);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 1.25rem;
            overflow-x: auto;
            margin: 1.5rem 0;
            font-size: 0.875rem;
        }

        code {
            font-family: 'IBM Plex Mono', 'SF Mono', Consolas, monospace;
            font-size: 0.875em;
        }

        :not(pre) > code {
            background: var(--code-bg);
            padding: 0.2em 0.4em;
            border-radius: 4px;
            color: var(--sensory);
        }

        pre code {
            color: var(--text-dim);
        }

        /* Blockquotes */
        blockquote {
            border-left: 3px solid var(--gold);
            padding-left: 1.25rem;
            margin: 1.5rem 0;
            color: var(--text-ghost);
            font-style: italic;
        }

        /* Horizontal rules */
        hr {
            border: none;
            height: 1px;
            background: var(--border);
            margin: 3rem 0;
        }

        /* Checkboxes */
        input[type="checkbox"] {
            appearance: none;
            width: 1.25rem;
            height: 1.25rem;
            border: 2px solid var(--border);
            border-radius: 4px;
            background: transparent;
            cursor: pointer;
            vertical-align: middle;
            margin-right: 0.5rem;
        }

        input[type="checkbox"]:checked {
            background: var(--gold);
            border-color: var(--gold);
        }

        input[type="checkbox"]:checked::after {
            content: 'âœ“';
            display: block;
            text-align: center;
            color: var(--void);
            font-size: 0.875rem;
            line-height: 1;
        }

        /* Alert boxes */
        .alert {
            padding: 1rem 1.25rem;
            border-radius: 8px;
            margin: 1.5rem 0;
            border-left: 4px solid;
        }

        .alert-warning {
            background: rgba(245, 158, 11, 0.1);
            border-color: var(--warning);
        }

        .alert-error {
            background: rgba(239, 68, 68, 0.1);
            border-color: var(--error);
        }

        .alert-success {
            background: rgba(34, 197, 94, 0.1);
            border-color: var(--success);
        }

        /* Table of contents */
        .toc {
            background: var(--void-elevated);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 1.5rem;
            margin-bottom: 2rem;
        }

        .toc h4 {
            margin-top: 0;
            margin-bottom: 1rem;
            font-size: 0.875rem;
            color: var(--text-ghost);
            text-transform: uppercase;
            letter-spacing: 0.1em;
        }

        .toc ul {
            list-style: none;
            padding-left: 0;
            margin: 0;
        }

        .toc li {
            margin-bottom: 0.375rem;
        }

        .toc a {
            color: var(--text-dim);
            font-size: 0.9rem;
        }

        .toc a:hover {
            color: var(--gold);
        }

        /* CTA buttons */
        .cta-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 1rem;
            margin: 2rem 0;
        }

        .btn {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            padding: 0.75rem 1.5rem;
            border-radius: 6px;
            font-weight: 500;
            font-size: 0.9rem;
            text-decoration: none;
            transition: all 200ms ease;
            cursor: pointer;
            border: none;
        }

        .btn-primary {
            background: var(--gold);
            color: var(--void);
        }

        .btn-primary:hover {
            background: var(--gold-bright);
            text-decoration: none;
        }

        .btn-secondary {
            background: transparent;
            color: var(--text);
            border: 1px solid var(--border);
        }

        .btn-secondary:hover {
            border-color: var(--gold);
            color: var(--gold);
            text-decoration: none;
        }

        /* Footer */
        footer {
            margin-top: 4rem;
            padding: 2rem 0;
            border-top: 1px solid var(--border);
            text-align: center;
            color: var(--text-ghost);
            font-size: 0.875rem;
        }

        footer .kanji {
            font-family: 'Noto Sans JP', sans-serif;
            font-size: 1.5rem;
            color: var(--gold-dim);
            margin-bottom: 0.5rem;
        }

        /* Back to top */
        .back-to-top {
            position: fixed;
            bottom: 2rem;
            right: 2rem;
            width: 44px;
            height: 44px;
            border-radius: 50%;
            background: var(--void-elevated);
            border: 1px solid var(--border);
            color: var(--text-dim);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            opacity: 0;
            visibility: hidden;
            transition: all 200ms ease;
            z-index: 100;
        }

        .back-to-top.visible {
            opacity: 1;
            visibility: visible;
        }

        .back-to-top:hover {
            border-color: var(--gold);
            color: var(--gold);
        }

        /* Print styles */
        @media print {
            .top-nav, .back-to-top, .cta-buttons { display: none; }
            body { background: white; color: black; }
            main { padding: 0; max-width: 100%; }
            a { color: inherit; }
            table, th, td { border: 1px solid #ddd; }
        }

        /* Mobile responsive */
        @media (max-width: 768px) {
            .nav-links { display: none; }
            main { padding: 72px 1rem 2rem; }
            h1 { font-size: 1.75rem; }
            h2 { font-size: 1.25rem; }
            table { font-size: 0.8rem; }
            th, td { padding: 0.5rem 0.75rem; }
            .doc-meta { gap: 1rem; }
        }

        /* Image styling */
        img {
            max-width: 100%;
            height: auto;
            border-radius: 8px;
        }

        /* ASCII art blocks */
        pre.ascii {
            font-size: 0.75rem;
            line-height: 1.4;
            overflow-x: auto;
        }

        /* Smooth scroll offset for anchors */
        :target {
            scroll-margin-top: 80px;
        }
    </style>
</head>
<body>
    <nav class="top-nav">
        <a href="index.html" class="nav-brand">
            <span class="kanji">é¡</span>
            <span>Kagami Orb</span>
        </a>
        <div class="nav-links">
            <a href="index.html">Home</a>
            <a href="bom.html">BOM</a>
            <a href="buy.html">Buy</a>
            <a href="assembly.html">Assembly</a>
            <a href="spec.html">Full Spec</a>
            <div class="nav-dropdown">
                <button class="nav-dropdown-btn">More â–¾</button>
                <div class="nav-dropdown-content">
                    <a href="alternatives.html">Alternatives</a>
                    <a href="custom-pcb.html">Custom PCB</a>
                    <a href="kicad-spec.html">KiCad Schematic</a>
                    <a href="cad-spec.html">CAD / 3D Print</a>
                    <a href="thermal.html">Thermal</a>
                    <a href="fmea.html">FMEA</a>
                    <a href="firmware.html">Firmware</a>
                    <a href="system.html">System Design</a>
                    <a href="validation.html">Validation</a>
                    <hr style="border-color: var(--border); margin: 0.5rem 0;">
                    <a href="hardware/kagami_orb_bom.csv" download>ğŸ“¥ BOM CSV</a>
                    <a href="hardware/kagami_orb_digikey.csv" download>ğŸ“¥ DigiKey CSV</a>
                </div>
            </div>
        </div>
    </nav>

    <main>
        <article class="doc-header">
            <h1>Kagami Orb â€” KiCad Schematic Specification</h1>
            <div class="doc-meta">
                <span>ğŸ“… Last updated: January 11, 2026</span>
                <span>ğŸ“¦ Version: 2.0</span>
            </div>
        </article>

        <div class="content">
            <h2 id="overview">Overview</h2>
<p>This document specifies the <strong>full component-level KiCad schematic</strong> for the Kagami Orb custom carrier PCB.</p>
<p><strong>KiCad Project:</strong> <code>kagami_orb</code> (to be created in <code>apps/hub/kagami-orb/pcb/</code>)</p>
<hr />
<h2 id="schematic-sheets">Schematic Sheets</h2>
<div class="table-wrapper"><table>
<thead>
<tr>
<th>Sheet</th>
<th>Name</th>
<th>Contents</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>Top Level</td>
<td>Block diagram, connectors</td>
</tr>
<tr>
<td>2</td>
<td>Power Management</td>
<td>Resonant RX, BMS, buck converters</td>
</tr>
<tr>
<td>3</td>
<td>CM4 Interface</td>
<td>Module connector, boot config</td>
</tr>
<tr>
<td>4</td>
<td>USB Hub</td>
<td>USB2514B, downstream ports</td>
</tr>
<tr>
<td>5</td>
<td>Audio</td>
<td>ReSpeaker connector, MAX98357A</td>
</tr>
<tr>
<td>6</td>
<td>LED Control</td>
<td>Level shifter, SK6812 connector</td>
</tr>
<tr>
<td>7</td>
<td>Sensors</td>
<td>Hall effect, temperature, I2C</td>
</tr>
</tbody>
</table></div>
<hr />
<h2 id="sheet-1-top-level">Sheet 1: Top Level</h2>
<pre><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         SHEET 1: TOP LEVEL                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                    KAGAMI ORB v1.0                           â”‚
                    â”‚                  Custom Carrier PCB                          â”‚
                    â”‚                    85mm Circular                             â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
     â”‚  POWER   â”‚           â”‚   CM4    â”‚           â”‚  USB HUB â”‚
     â”‚  SHEET 2 â”‚â”€â”€â”€5Vâ”€â”€â”€â”€â”€â”€â”‚ SHEET 3  â”‚â”€â”€â”€USBâ”€â”€â”€â”€â”€â”‚ SHEET 4  â”‚
     â”‚          â”‚           â”‚          â”‚           â”‚          â”‚
     â”‚ Res â†’ BMSâ”‚           â”‚ BCM2711  â”‚           â”‚ USB2514B â”‚
     â”‚ â†’ Buck   â”‚           â”‚ 4GB RAM  â”‚           â”‚ 4-Port   â”‚
     â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
          â”‚                      â”‚                      â”‚
          â”‚ 3.3V                 â”‚ I2S, I2C, GPIO       â”‚ USB
          â”‚                      â”‚                      â”‚
     â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”           â”Œâ”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”
     â”‚ SENSORS  â”‚           â”‚  AUDIO   â”‚           â”‚   LED    â”‚
     â”‚ SHEET 7  â”‚â—„â”€â”€I2Câ”€â”€â”€â”€â”€â”‚ SHEET 5  â”‚           â”‚ SHEET 6  â”‚
     â”‚          â”‚           â”‚          â”‚           â”‚          â”‚
     â”‚ Hall     â”‚           â”‚ ReSpeakerâ”‚           â”‚ 74AHCT   â”‚
     â”‚ Temp     â”‚           â”‚ MAX98357 â”‚           â”‚ SK6812   â”‚
     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


EXTERNAL CONNECTORS:
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

J1: USB-C (Programming/Debug/Emergency Charge)
J2: ReSpeaker 8-pin FFC
J3: SK6812 LED Ring (4-pin JST)
J4: Speaker (2-pin JST)
J5: Battery (4-pin JST with balance)
J6: Resonant Receiver (3-pin pogo)
J7: Debug Header (10-pin SWD)
</code></pre>
<hr />
<h2 id="sheet-2-power-management">Sheet 2: Power Management</h2>
<h3 id="component-list">Component List</h3>
<div class="table-wrapper"><table>
<thead>
<tr>
<th>Ref</th>
<th>Part</th>
<th>Package</th>
<th>Value</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>U1</td>
<td>BQ25895RTWR</td>
<td>QFN-24</td>
<td>-</td>
<td>Battery charger</td>
</tr>
<tr>
<td>U2</td>
<td>BQ40Z50RSMT</td>
<td>QFN-32</td>
<td>-</td>
<td>Fuel gauge</td>
</tr>
<tr>
<td>U3</td>
<td>TPS62840DLC</td>
<td>SOT-23-6</td>
<td>3.3V</td>
<td>Ultra-low Iq LDO</td>
</tr>
<tr>
<td>U4</td>
<td>TPS62841DLC</td>
<td>SOT-23-6</td>
<td>1.8V</td>
<td>Ultra-low Iq LDO</td>
</tr>
<tr>
<td>U5</td>
<td>TPS62A01DRLR</td>
<td>SOT-563</td>
<td>5V</td>
<td>2A buck (backup)</td>
</tr>
<tr>
<td>Q1</td>
<td>DMG2305UX</td>
<td>SOT-23</td>
<td>-</td>
<td>P-FET load switch</td>
</tr>
<tr>
<td>D1</td>
<td>PMEG2010ER</td>
<td>SOD-323</td>
<td>-</td>
<td>Schottky (Resonant input)</td>
</tr>
<tr>
<td>D2</td>
<td>SMBJ5.0A</td>
<td>SMB</td>
<td>5V</td>
<td>TVS protection</td>
</tr>
<tr>
<td>F1</td>
<td>0ZCJ0050AF2E</td>
<td>1206</td>
<td>500mA</td>
<td>Resettable fuse</td>
</tr>
</tbody>
</table></div>
<h3 id="schematic-block">Schematic Block</h3>
<pre><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         SHEET 2: POWER MANAGEMENT                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

RESONANT RECEIVER INPUT (Custom 80mm Litz @ 140kHz)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

J6 (Pogo)       D1              F1
   â”Œâ”€â”€â”€â”     â”Œâ”€â”€â”´â”€â”€â”        â”Œâ”€â”€â”´â”€â”€â”
   â”‚ 1 â”œâ”€â”€â”¬â”€â”€â”¤PMEG â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”¤FUSE â”œâ”€â”€â”€â”€â”€â”€â”
   â”‚ 2 â”‚  â”‚  â”‚2010 â”‚        â”‚500mAâ”‚      â”‚
   â”‚ 3 â”‚  â”‚  â””â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”˜      â”‚
   â””â”€â”€â”€â”˜  â”‚                              â”‚
          â”‚  C1 10Î¼F                      â”‚ VIN_RES (5V nom)
          â””â”€â”€â”¤â”œâ”€â”€GND                      â”‚
                                         â”‚
                                         â–¼
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚                   U1: BQ25895                    â”‚
                    â”‚              Battery Charger IC                  â”‚
                    â”‚                                                  â”‚
                    â”‚  VBUS â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤ VIN_RES
                    â”‚                                                  â”‚
                    â”‚  VSYS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º VSYS (5V)
                    â”‚                                                  â”‚
                    â”‚  VBAT â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º J5 (Battery)
                    â”‚                                                  â”‚
                    â”‚  SDA  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º I2C_SDA
                    â”‚  SCL  â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  I2C_SCL
                    â”‚                                                  â”‚
                    â”‚  INT  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º GPIO_CHG_INT
                    â”‚  CE   â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ VCC (always on)
                    â”‚  QON  â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ GPIO_SHIP_MODE
                    â”‚                                                  â”‚
                    â”‚  PMID â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º (Power path)
                    â”‚  REGN â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º (Internal reg)
                    â”‚                                                  â”‚
                    â”‚  ILIM â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ R_ILIM (10kÎ© = 3A)
                    â”‚  TS   â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Thermistor
                    â”‚                                                  â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

BATTERY CONNECTION
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

J5 (Battery JST-PH 4-pin)
   â”Œâ”€â”€â”€â”
   â”‚ 1 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ BAT+ (11.1V nom)
   â”‚ 2 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ BAL1 (Cell 1)
   â”‚ 3 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ BAL2 (Cell 2)
   â”‚ 4 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ GND
   â””â”€â”€â”€â”˜
          â”‚
          â–¼
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚                 U2: BQ40Z50                      â”‚
    â”‚               Fuel Gauge IC                      â”‚
    â”‚                                                  â”‚
    â”‚  BAT â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ BAT+
    â”‚  PACK+ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º Protection FET
    â”‚  PACK- â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ GND (via sense R)
    â”‚                                                  â”‚
    â”‚  SDA  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º I2C_SDA
    â”‚  SCL  â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  I2C_SCL
    â”‚                                                  â”‚
    â”‚  ALERT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º GPIO_BAT_ALERT
    â”‚                                                  â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


VOLTAGE REGULATORS
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

VSYS (5V) â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º 5V_USB
             â”‚
             â”œâ”€â”€â”€â”¤ U3: TPS62840 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º 3V3
             â”‚        3.3V @ 750mA
             â”‚        Iq = 60nA
             â”‚
             â””â”€â”€â”€â”¤ U4: TPS62841 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º 1V8
                      1.8V @ 750mA
                      Iq = 60nA


USB-C EMERGENCY INPUT
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

J1 (USB-C)
   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚  CC1/CC2  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º CC pulldown (5.1kÎ© Ã— 2)
   â”‚           â”‚
   â”‚  VBUS     â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º VIN_USB (diode OR with VIN_RES)
   â”‚           â”‚
   â”‚  D+/D-    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º USB_DATA (to CM4 for debug)
   â”‚           â”‚
   â”‚  GND      â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º GND
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<hr />
<h2 id="sheet-3-cm4-interface">Sheet 3: CM4 Interface</h2>
<h3 id="component-list_1">Component List</h3>
<div class="table-wrapper"><table>
<thead>
<tr>
<th>Ref</th>
<th>Part</th>
<th>Package</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>J10, J11</td>
<td>DF40HC(3.0)-100DS</td>
<td>100-pin</td>
<td>CM4 connectors</td>
</tr>
<tr>
<td>R1-R4</td>
<td>10kÎ©</td>
<td>0402</td>
<td>Boot config pullups</td>
</tr>
<tr>
<td>C10-C15</td>
<td>100nF</td>
<td>0402</td>
<td>Decoupling</td>
</tr>
<tr>
<td>C16-C17</td>
<td>10Î¼F</td>
<td>0603</td>
<td>Bulk decoupling</td>
</tr>
</tbody>
</table></div>
<h3 id="pin-assignments">Pin Assignments</h3>
<pre><code>CM4 CONNECTOR PINOUT (Critical Signals)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

POWER:
  VBAT (5V)         â† VSYS
  VDD_CORE (1.8V)   â† 1V8 rail
  VDD_IO (3.3V)     â† 3V3 rail
  GND               â† Ground plane

USB:
  USB_DP, USB_DM    â†’ USB Hub (USB2514B)

I2S AUDIO:
  GPIO12 (PCM_CLK)  â†’ I2S_BCLK (shared)
  GPIO19 (PCM_FS)   â†’ I2S_LRCLK (shared)
  GPIO20 (PCM_DIN)  â† ReSpeaker Data Out
  GPIO21 (PCM_DOUT) â†’ MAX98357A Data In

I2C:
  GPIO2 (SDA)       â†” I2C bus
  GPIO3 (SCL)       â†’ I2C bus

LED:
  GPIO18 (PWM0)     â†’ Level shifter â†’ SK6812

GPIO (Status):
  GPIO17            â† Resonant charging status
  GPIO22            â† Hall sensor (dock)
  GPIO23            â† Temperature alert
  GPIO24            â† ReSpeaker VAD
  GPIO27            â† Battery alert

BOOT:
  nRPIBOOT          â†’ R1 to 3V3 (normal boot)
  GLOBAL_EN         â†’ 3V3 (always enabled)
  RUN               â†’ Button (soft power)
</code></pre>
<hr />
<h2 id="sheet-4-usb-hub">Sheet 4: USB Hub</h2>
<h3 id="component-list_2">Component List</h3>
<div class="table-wrapper"><table>
<thead>
<tr>
<th>Ref</th>
<th>Part</th>
<th>Package</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>U6</td>
<td>USB2514B-AEZC</td>
<td>QFN-36</td>
<td>4-port USB hub</td>
</tr>
<tr>
<td>Y1</td>
<td>24MHz</td>
<td>3.2Ã—2.5</td>
<td>Crystal</td>
</tr>
<tr>
<td>R10-R13</td>
<td>15kÎ©</td>
<td>0402</td>
<td>USB termination</td>
</tr>
</tbody>
</table></div>
<h3 id="downstream-ports">Downstream Ports</h3>
<pre><code>USB HUB (USB2514B) DOWNSTREAM ALLOCATION
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

UPSTREAM:
  CM4 USB_DP/DM â”€â”€â”€â”€â”€â”€â–º USB2514B USBDP/USBDM

DOWNSTREAM:
  Port 1 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º Google Coral USB TPU
  Port 2 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º Intel AX210 WiFi (via adapter)
  Port 3 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º J1 USB-C (external access)
  Port 4 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–º Reserved (debug header)

CONFIGURATION:
  NON_REM[4:1] = 1111 (all non-removable)
  PRTPWR[4:1]  = controlled by MCU
</code></pre>
<hr />
<h2 id="sheet-5-audio-system">Sheet 5: Audio System</h2>
<h3 id="component-list_3">Component List</h3>
<div class="table-wrapper"><table>
<thead>
<tr>
<th>Ref</th>
<th>Part</th>
<th>Package</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>J2</td>
<td>FH12-8S-0.5SH</td>
<td>FFC</td>
<td>ReSpeaker connector</td>
</tr>
<tr>
<td>U7</td>
<td>MAX98357AETE</td>
<td>QFN-16</td>
<td>I2S Class-D amp</td>
</tr>
<tr>
<td>J4</td>
<td>B2B-PH-K-S</td>
<td>2-pin</td>
<td>Speaker connector</td>
</tr>
<tr>
<td>C20-C22</td>
<td>Various</td>
<td>-</td>
<td>Filter caps</td>
</tr>
</tbody>
</table></div>
<h3 id="connections">Connections</h3>
<pre><code>RESPEAKER 4-MIC ARRAY (J2)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Pin 1: 3V3         â† 3V3 rail
Pin 2: GND         â† GND
Pin 3: BCK         â† GPIO12 (I2S_BCLK)
Pin 4: WS          â† GPIO19 (I2S_LRCLK)
Pin 5: DO          â†’ GPIO20 (I2S_DIN)
Pin 6: INT         â†’ GPIO24 (VAD)
Pin 7: SDA         â†” I2C_SDA
Pin 8: SCL         â† I2C_SCL


SPEAKER OUTPUT (U7: MAX98357A)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

BCLK   â† GPIO12
LRCLK  â† GPIO19
DIN    â† GPIO21
GAIN   â†’ Float (15dB)
SD     â†’ 3V3 (always on)

OUT+   â†’ Speaker +
OUT-   â†’ Speaker -
</code></pre>
<hr />
<h2 id="sheet-6-led-control">Sheet 6: LED Control</h2>
<h3 id="component-list_4">Component List</h3>
<div class="table-wrapper"><table>
<thead>
<tr>
<th>Ref</th>
<th>Part</th>
<th>Package</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>U8</td>
<td>74AHCT125PW</td>
<td>TSSOP-14</td>
<td>Level shifter</td>
</tr>
<tr>
<td>J3</td>
<td>B4B-PH-K-S</td>
<td>4-pin</td>
<td>LED connector</td>
</tr>
<tr>
<td>R20</td>
<td>470Î©</td>
<td>0402</td>
<td>Series data resistor</td>
</tr>
<tr>
<td>C25</td>
<td>100nF</td>
<td>0402</td>
<td>Bypass</td>
</tr>
</tbody>
</table></div>
<h3 id="connections_1">Connections</h3>
<pre><code>LED LEVEL SHIFTING
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

GPIO18 (3.3V) â”€â”€â”€â–º 74AHCT125 â”€â”€â”€â–º 5V_LED_DATA
                      â”‚
                   R20 470Î©
                      â”‚
                      â–¼
                   J3 Pin 2 (DIN)


J3 (SK6812 CONNECTOR)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Pin 1: 5V      â† 5V_LED rail
Pin 2: DIN     â† 5V_LED_DATA
Pin 3: GND     â† GND
Pin 4: NC
</code></pre>
<hr />
<h2 id="sheet-7-sensors">Sheet 7: Sensors</h2>
<h3 id="component-list_5">Component List</h3>
<div class="table-wrapper"><table>
<thead>
<tr>
<th>Ref</th>
<th>Part</th>
<th>Package</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>U9</td>
<td>DRV5053VAQDBZR</td>
<td>SOT-23</td>
<td>Hall effect sensor</td>
</tr>
<tr>
<td>U10</td>
<td>TMP117AIDRVR</td>
<td>SOT-563</td>
<td>I2C temperature</td>
</tr>
<tr>
<td>R30-R33</td>
<td>10kÎ©</td>
<td>0402</td>
<td>I2C pullups</td>
</tr>
</tbody>
</table></div>
<h3 id="connections_2">Connections</h3>
<pre><code>HALL EFFECT SENSOR (Dock Detection)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

U9: DRV5053
  VCC  â† 3V3
  OUT  â†’ GPIO22 (analog capable)
  GND  â† GND

Triggers when magnetic field detected (orb docked)


TEMPERATURE SENSOR
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

U10: TMP117 (Â±0.1Â°C accuracy)
  VCC  â† 3V3
  SDA  â†” I2C_SDA
  SCL  â† I2C_SCL
  ALERT â†’ GPIO23
  GND  â† GND

Address: 0x48

I2C BUS SUMMARY
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

Address | Device        | Function
â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
0x48    | TMP117        | Temperature
0x55    | BQ25895       | Charger
0x55    | BQ40Z50       | Fuel gauge (SMBus)
0x35    | ReSpeaker     | DSP configuration
</code></pre>
<hr />
<h2 id="pcb-stackup">PCB Stackup</h2>
<div class="table-wrapper"><table>
<thead>
<tr>
<th>Layer</th>
<th>Name</th>
<th>Purpose</th>
</tr>
</thead>
<tbody>
<tr>
<td>L1</td>
<td>Top</td>
<td>Components, high-speed signals</td>
</tr>
<tr>
<td>L2</td>
<td>GND</td>
<td>Solid ground plane</td>
</tr>
<tr>
<td>L3</td>
<td>PWR</td>
<td>Split power planes (5V, 3V3, 1V8)</td>
</tr>
<tr>
<td>L4</td>
<td>Bottom</td>
<td>Components, routing</td>
</tr>
</tbody>
</table></div>
<hr />
<h2 id="design-rules">Design Rules</h2>
<div class="table-wrapper"><table>
<thead>
<tr>
<th>Parameter</th>
<th>Value</th>
</tr>
</thead>
<tbody>
<tr>
<td>Min trace width</td>
<td>0.15mm (6 mil)</td>
</tr>
<tr>
<td>Min trace spacing</td>
<td>0.15mm (6 mil)</td>
</tr>
<tr>
<td>Min via diameter</td>
<td>0.3mm</td>
</tr>
<tr>
<td>Min via drill</td>
<td>0.15mm</td>
</tr>
<tr>
<td>USB differential impedance</td>
<td>90Î© Â±10%</td>
</tr>
<tr>
<td>Power trace width</td>
<td>0.5mm minimum</td>
</tr>
</tbody>
</table></div>
<hr />
<h2 id="output-files">Output Files</h2>
<pre><code>apps/hub/kagami-orb/pcb/
â”œâ”€â”€ kagami_orb.kicad_pro     # Project file
â”œâ”€â”€ kagami_orb.kicad_sch     # Schematic (7 sheets)
â”œâ”€â”€ kagami_orb.kicad_pcb     # PCB layout
â”œâ”€â”€ gerbers/
â”‚   â”œâ”€â”€ kagami_orb-F_Cu.gbr
â”‚   â”œâ”€â”€ kagami_orb-B_Cu.gbr
â”‚   â”œâ”€â”€ kagami_orb-F_Mask.gbr
â”‚   â”œâ”€â”€ kagami_orb-B_Mask.gbr
â”‚   â”œâ”€â”€ kagami_orb-F_Silkscreen.gbr
â”‚   â”œâ”€â”€ kagami_orb-B_Silkscreen.gbr
â”‚   â”œâ”€â”€ kagami_orb-Edge_Cuts.gbr
â”‚   â”œâ”€â”€ kagami_orb.drl
â”‚   â””â”€â”€ kagami_orb-job.gbrjob
â”œâ”€â”€ bom/
â”‚   â””â”€â”€ kagami_orb_bom.csv
â””â”€â”€ assembly/
    â”œâ”€â”€ kagami_orb-top.pos
    â””â”€â”€ kagami_orb-bottom.pos
</code></pre>
<hr />
<pre><code>é¡

h(x) â‰¥ 0. Always.

Every net has purpose.
Every component has reason.
The schematic is the truth.
</code></pre>
        </div>
    </main>

    <button class="back-to-top" onclick="window.scrollTo({top: 0, behavior: 'smooth'})" aria-label="Back to top">
        â†‘
    </button>

    <footer>
        <div class="kanji">é¡</div>
        <p>h(x) â‰¥ 0. Always.</p>
    </footer>

    <script>
        // Back to top button visibility
        const backToTop = document.querySelector('.back-to-top');
        window.addEventListener('scroll', () => {
            if (window.scrollY > 400) {
                backToTop.classList.add('visible');
            } else {
                backToTop.classList.remove('visible');
            }
        });

        // Wrap tables for horizontal scroll
        document.querySelectorAll('table').forEach(table => {
            if (!table.parentElement.classList.contains('table-wrapper')) {
                const wrapper = document.createElement('div');
                wrapper.className = 'table-wrapper';
                table.parentNode.insertBefore(wrapper, table);
                wrapper.appendChild(table);
            }
        });

        // Add target="_blank" to external links
        document.querySelectorAll('a[href^="http"]').forEach(link => {
            if (!link.href.includes(window.location.hostname)) {
                link.setAttribute('target', '_blank');
                link.setAttribute('rel', 'noopener noreferrer');
            }
        });
    </script>
</body>
</html>
