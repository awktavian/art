(kicad_sch
  (version 20231120)
  (generator "kagami")
  (generator_version "8.0")
  (uuid "d0000000-0000-0000-0000-000000000004")
  (paper "A3")
  (title_block
    (title "USB Hub")
    (date "2026-01-11")
    (rev "1.0")
    (company "Kagami")
    (comment 1 "Sheet 4 of 7")
    (comment 2 "USB2514B 4-Port Hub for Coral, WiFi, Debug")
  )

  ;; USB2514B Hub IC
  (symbol
    (lib_id "kagami_orb:USB2514B")
    (at 127 88.9 0)
    (unit 1)
    (exclude_from_sim no)
    (in_bom yes)
    (on_board yes)
    (dnp no)
    (uuid "12000000-0000-0000-0000-000000000001")
    (property "Reference" "U6"
      (at 127 55.88 0)
      (effects (font (size 1.27 1.27)))
    )
    (property "Value" "USB2514B-AEZC"
      (at 127 58.42 0)
      (effects (font (size 1.27 1.27)))
    )
    (property "Footprint" "Package_DFN_QFN:QFN-36-1EP_6x6mm_P0.5mm_EP4.1x4.1mm"
      (at 127 121.92 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "https://www.microchip.com/wwwproducts/en/USB2514B"
      (at 127 124.46 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Description" "USB 2.0 Hi-Speed 4-Port Hub Controller"
      (at 127 127 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "MPN" "USB2514B-AEZC-TR"
      (at 127 129.54 0)
      (effects (font (size 1.27 1.27)) hide)
    )
  )

  ;; 24MHz Crystal
  (symbol
    (lib_id "Device:Crystal")
    (at 177.8 101.6 0)
    (unit 1)
    (exclude_from_sim no)
    (in_bom yes)
    (on_board yes)
    (dnp no)
    (uuid "12000000-0000-0000-0000-000000000002")
    (property "Reference" "Y1"
      (at 177.8 93.98 0)
      (effects (font (size 1.27 1.27)))
    )
    (property "Value" "24MHz"
      (at 177.8 96.52 0)
      (effects (font (size 1.27 1.27)))
    )
    (property "Footprint" "Crystal:Crystal_SMD_3215-2Pin_3.2x1.5mm"
      (at 177.8 114.3 0)
      (effects (font (size 1.27 1.27)) hide)
    )
  )

  ;; USB-C Connector
  (symbol
    (lib_id "Connector:USB_C_Receptacle_USB2.0")
    (at 38.1 88.9 0)
    (unit 1)
    (exclude_from_sim no)
    (in_bom yes)
    (on_board yes)
    (dnp no)
    (uuid "12000000-0000-0000-0000-000000000003")
    (property "Reference" "J1"
      (at 38.1 63.5 0)
      (effects (font (size 1.27 1.27)))
    )
    (property "Value" "USB4110-GF-A"
      (at 38.1 66.04 0)
      (effects (font (size 1.27 1.27)))
    )
    (property "Footprint" "Connector_USB:USB_C_Receptacle_GCT_USB4110-xx-A"
      (at 38.1 114.3 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "https://gct.co/files/drawings/usb4110.pdf"
      (at 38.1 116.84 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Description" "USB Type-C 2.0 Receptacle"
      (at 38.1 119.38 0)
      (effects (font (size 1.27 1.27)) hide)
    )
  )

  ;; Upstream USB connection
  (global_label "USB_DP"
    (shape input)
    (at 101.6 76.2 180)
    (effects (font (size 1.27 1.27)) (justify right))
    (uuid "22000000-0000-0000-0000-000000000001")
  )
  (global_label "USB_DM"
    (shape input)
    (at 101.6 78.74 180)
    (effects (font (size 1.27 1.27)) (justify right))
    (uuid "22000000-0000-0000-0000-000000000002")
  )

  ;; Downstream ports
  (global_label "USB_CORAL_DP"
    (shape output)
    (at 152.4 76.2 0)
    (effects (font (size 1.27 1.27)) (justify left))
    (uuid "22000000-0000-0000-0000-000000000003")
  )
  (global_label "USB_CORAL_DM"
    (shape output)
    (at 152.4 78.74 0)
    (effects (font (size 1.27 1.27)) (justify left))
    (uuid "22000000-0000-0000-0000-000000000004")
  )
  (global_label "USB_WIFI_DP"
    (shape output)
    (at 152.4 83.82 0)
    (effects (font (size 1.27 1.27)) (justify left))
    (uuid "22000000-0000-0000-0000-000000000005")
  )
  (global_label "USB_WIFI_DM"
    (shape output)
    (at 152.4 86.36 0)
    (effects (font (size 1.27 1.27)) (justify left))
    (uuid "22000000-0000-0000-0000-000000000006")
  )

  ;; Section labels
  (text "USB HUB DOWNSTREAM ALLOCATION:\n\nPort 1 → Google Coral USB TPU\nPort 2 → Intel AX210 WiFi (via adapter)\nPort 3 → J1 USB-C (external access)\nPort 4 → Reserved (debug header)"
    (exclude_from_sim no)
    (at 177.8 139.7 0)
    (effects (font (size 2.032 2.032)))
    (uuid "42000000-0000-0000-0000-000000000001")
  )
  (text "CONFIGURATION:\n  NON_REM[4:1] = 1111 (all non-removable)\n  PRTPWR[4:1] = controlled by MCU"
    (exclude_from_sim no)
    (at 177.8 170.18 0)
    (effects (font (size 2.032 2.032)))
    (uuid "42000000-0000-0000-0000-000000000002")
  )

  (sheet_instances
    (path "/a0000000-0000-0000-0000-000000000001/a3000000-0000-0000-0000-000000000004"
      (page "4")
    )
  )
)
