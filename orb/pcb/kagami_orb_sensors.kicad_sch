(kicad_sch
  (version 20231120)
  (generator "kagami")
  (generator_version "8.0")
  (uuid "f1000000-0000-0000-0000-000000000007")
  (paper "A3")
  (title_block
    (title "Sensors")
    (date "2026-01-11")
    (rev "1.0")
    (company "Kagami")
    (comment 1 "Sheet 7 of 7")
    (comment 2 "Hall Effect Sensor, Temperature Sensor, I2C Bus")
  )

  ;; Hall Effect Sensor
  (symbol
    (lib_id "Sensor_Magnetic:DRV5053")
    (at 88.9 76.2 0)
    (unit 1)
    (exclude_from_sim no)
    (in_bom yes)
    (on_board yes)
    (dnp no)
    (uuid "15000000-0000-0000-0000-000000000001")
    (property "Reference" "U9"
      (at 88.9 63.5 0)
      (effects (font (size 1.27 1.27)))
    )
    (property "Value" "DRV5053VAQDBZR"
      (at 88.9 66.04 0)
      (effects (font (size 1.27 1.27)))
    )
    (property "Footprint" "Package_TO_SOT_SMD:SOT-23"
      (at 88.9 88.9 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "https://www.ti.com/lit/ds/symlink/drv5053.pdf"
      (at 88.9 91.44 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Description" "Analog-Bipolar Hall Effect Sensor"
      (at 88.9 93.98 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "MPN" "DRV5053VAQDBZR"
      (at 88.9 96.52 0)
      (effects (font (size 1.27 1.27)) hide)
    )
  )

  ;; Temperature Sensor
  (symbol
    (lib_id "Sensor_Temperature:TMP117")
    (at 88.9 139.7 0)
    (unit 1)
    (exclude_from_sim no)
    (in_bom yes)
    (on_board yes)
    (dnp no)
    (uuid "15000000-0000-0000-0000-000000000002")
    (property "Reference" "U10"
      (at 88.9 124.46 0)
      (effects (font (size 1.27 1.27)))
    )
    (property "Value" "TMP117AIDRVR"
      (at 88.9 127 0)
      (effects (font (size 1.27 1.27)))
    )
    (property "Footprint" "Package_SON:WSON-6-1EP_2x2mm_P0.65mm_EP1x1.6mm"
      (at 88.9 154.94 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "https://www.ti.com/lit/ds/symlink/tmp117.pdf"
      (at 88.9 157.48 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Description" "±0.1°C High-Accuracy Digital Temperature Sensor"
      (at 88.9 160.02 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "MPN" "TMP117AIDRVR"
      (at 88.9 162.56 0)
      (effects (font (size 1.27 1.27)) hide)
    )
  )

  ;; I2C Pullup Resistors
  (symbol
    (lib_id "Device:R")
    (at 203.2 76.2 0)
    (unit 1)
    (exclude_from_sim no)
    (in_bom yes)
    (on_board yes)
    (dnp no)
    (uuid "15000000-0000-0000-0000-000000000003")
    (property "Reference" "R30"
      (at 205.74 73.66 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Value" "10k"
      (at 205.74 76.2 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Footprint" "Resistor_SMD:R_0402_1005Metric"
      (at 203.2 88.9 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Description" "I2C SDA pullup"
      (at 203.2 91.44 0)
      (effects (font (size 1.27 1.27)) hide)
    )
  )
  (symbol
    (lib_id "Device:R")
    (at 220.98 76.2 0)
    (unit 1)
    (exclude_from_sim no)
    (in_bom yes)
    (on_board yes)
    (dnp no)
    (uuid "15000000-0000-0000-0000-000000000004")
    (property "Reference" "R31"
      (at 223.52 73.66 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Value" "10k"
      (at 223.52 76.2 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Footprint" "Resistor_SMD:R_0402_1005Metric"
      (at 220.98 88.9 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Description" "I2C SCL pullup"
      (at 220.98 91.44 0)
      (effects (font (size 1.27 1.27)) hide)
    )
  )

  ;; GPIO outputs
  (global_label "GPIO22_HALL"
    (shape output)
    (at 114.3 76.2 0)
    (effects (font (size 1.27 1.27)) (justify left))
    (uuid "25000000-0000-0000-0000-000000000001")
  )
  (global_label "GPIO23_TEMP"
    (shape output)
    (at 114.3 147.32 0)
    (effects (font (size 1.27 1.27)) (justify left))
    (uuid "25000000-0000-0000-0000-000000000002")
  )
  (global_label "I2C_SDA"
    (shape bidirectional)
    (at 114.3 139.7 0)
    (effects (font (size 1.27 1.27)) (justify left))
    (uuid "25000000-0000-0000-0000-000000000003")
  )
  (global_label "I2C_SCL"
    (shape input)
    (at 114.3 142.24 0)
    (effects (font (size 1.27 1.27)) (justify left))
    (uuid "25000000-0000-0000-0000-000000000004")
  )

  ;; Power
  (global_label "3V3"
    (shape input)
    (at 63.5 71.12 180)
    (effects (font (size 1.27 1.27)) (justify right))
    (uuid "25000000-0000-0000-0000-000000000005")
  )

  ;; Section labels
  (text "HALL EFFECT SENSOR (Dock Detection)\n───────────────────────────────────\nU9: DRV5053\n  VCC  ← 3V3\n  OUT  → GPIO22 (analog capable)\n  GND  ← GND\n\nTriggers when magnetic field detected (orb docked)"
    (exclude_from_sim no)
    (at 38.1 111.76 0)
    (effects (font (size 2.032 2.032)))
    (uuid "45000000-0000-0000-0000-000000000001")
  )
  (text "TEMPERATURE SENSOR\n──────────────────\nU10: TMP117 (±0.1°C accuracy)\n  VCC  ← 3V3\n  SDA  ↔ I2C_SDA\n  SCL  ← I2C_SCL\n  ALERT → GPIO23\n  GND  ← GND\n\nAddress: 0x48"
    (exclude_from_sim no)
    (at 38.1 182.88 0)
    (effects (font (size 2.032 2.032)))
    (uuid "45000000-0000-0000-0000-000000000002")
  )
  (text "I2C BUS SUMMARY\n───────────────\nAddress | Device        | Function\n────────┼───────────────┼─────────────────────\n0x48    | TMP117        | Temperature\n0x55    | BQ25895       | Charger\n0x55    | BQ40Z50       | Fuel gauge (SMBus)\n0x35    | ReSpeaker     | DSP configuration"
    (exclude_from_sim no)
    (at 177.8 127 0)
    (effects (font (size 2.032 2.032)))
    (uuid "45000000-0000-0000-0000-000000000003")
  )

  (sheet_instances
    (path "/a0000000-0000-0000-0000-000000000001/a6000000-0000-0000-0000-000000000007"
      (page "7")
    )
  )
)
