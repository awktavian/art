(kicad_sch
  (version 20231120)
  (generator "kagami")
  (generator_version "8.0")
  (uuid "c0000000-0000-0000-0000-000000000003")
  (paper "A3")
  (title_block
    (title "QCS6490 SoM Interface")
    (date "2026-01-11")
    (rev "1.0")
    (company "Kagami")
    (comment 1 "Sheet 3 of 7")
    (comment 2 "QCS6490 Module Connectors, Boot Config, Power Decoupling")
  )

  ;; QCS6490 Module Connector J10 (100-pin)
  (symbol
    (lib_id "Connector_Generic:Conn_02x50_Odd_Even")
    (at 88.9 127 0)
    (unit 1)
    (exclude_from_sim no)
    (in_bom yes)
    (on_board yes)
    (dnp no)
    (uuid "30000000-0000-0000-0000-000000000001")
    (property "Reference" "J10"
      (at 88.9 55.88 0)
      (effects (font (size 1.27 1.27)))
    )
    (property "Value" "DF40HC(3.0)-100DS"
      (at 88.9 58.42 0)
      (effects (font (size 1.27 1.27)))
    )
    (property "Footprint" "Connector_Hirose:Hirose_DF40HC-100DS-0.4V_2x50_P0.4mm_Vertical"
      (at 88.9 200.66 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" ""
      (at 88.9 203.2 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Description" "QCS6490 SoM Primary Connector"
      (at 88.9 205.74 0)
      (effects (font (size 1.27 1.27)) hide)
    )
  )

  ;; QCS6490 Module Connector J11 (100-pin)
  (symbol
    (lib_id "Connector_Generic:Conn_02x50_Odd_Even")
    (at 177.8 127 0)
    (unit 1)
    (exclude_from_sim no)
    (in_bom yes)
    (on_board yes)
    (dnp no)
    (uuid "30000000-0000-0000-0000-000000000002")
    (property "Reference" "J11"
      (at 177.8 55.88 0)
      (effects (font (size 1.27 1.27)))
    )
    (property "Value" "DF40HC(3.0)-100DS"
      (at 177.8 58.42 0)
      (effects (font (size 1.27 1.27)))
    )
    (property "Footprint" "Connector_Hirose:Hirose_DF40HC-100DS-0.4V_2x50_P0.4mm_Vertical"
      (at 177.8 200.66 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Description" "QCS6490 SoM Secondary Connector"
      (at 177.8 205.74 0)
      (effects (font (size 1.27 1.27)) hide)
    )
  )

  ;; Boot configuration resistors
  (symbol
    (lib_id "Device:R")
    (at 254 76.2 0)
    (unit 1)
    (exclude_from_sim no)
    (in_bom yes)
    (on_board yes)
    (dnp no)
    (uuid "30000000-0000-0000-0000-000000000003")
    (property "Reference" "R1"
      (at 256.54 73.66 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Value" "10k"
      (at 256.54 76.2 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Footprint" "Resistor_SMD:R_0402_1005Metric"
      (at 254 88.9 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Description" "nRPIBOOT pullup (normal boot)"
      (at 254 91.44 0)
      (effects (font (size 1.27 1.27)) hide)
    )
  )
  (symbol
    (lib_id "Device:R")
    (at 269.24 76.2 0)
    (unit 1)
    (exclude_from_sim no)
    (in_bom yes)
    (on_board yes)
    (dnp no)
    (uuid "30000000-0000-0000-0000-000000000004")
    (property "Reference" "R2"
      (at 271.78 73.66 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Value" "10k"
      (at 271.78 76.2 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Footprint" "Resistor_SMD:R_0402_1005Metric"
      (at 269.24 88.9 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Description" "GLOBAL_EN pullup (always enabled)"
      (at 269.24 91.44 0)
      (effects (font (size 1.27 1.27)) hide)
    )
  )

  ;; Decoupling capacitors
  (symbol
    (lib_id "Device:C")
    (at 254 114.3 0)
    (unit 1)
    (exclude_from_sim no)
    (in_bom yes)
    (on_board yes)
    (dnp no)
    (uuid "30000000-0000-0000-0000-000000000005")
    (property "Reference" "C10"
      (at 256.54 111.76 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Value" "100nF"
      (at 256.54 114.3 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Footprint" "Capacitor_SMD:C_0402_1005Metric"
      (at 254 127 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Description" "VDD_CORE decoupling"
      (at 254 129.54 0)
      (effects (font (size 1.27 1.27)) hide)
    )
  )
  (symbol
    (lib_id "Device:C")
    (at 269.24 114.3 0)
    (unit 1)
    (exclude_from_sim no)
    (in_bom yes)
    (on_board yes)
    (dnp no)
    (uuid "30000000-0000-0000-0000-000000000006")
    (property "Reference" "C11"
      (at 271.78 111.76 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Value" "100nF"
      (at 271.78 114.3 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Footprint" "Capacitor_SMD:C_0402_1005Metric"
      (at 269.24 127 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Description" "VDD_IO decoupling"
      (at 269.24 129.54 0)
      (effects (font (size 1.27 1.27)) hide)
    )
  )
  (symbol
    (lib_id "Device:C")
    (at 284.48 114.3 0)
    (unit 1)
    (exclude_from_sim no)
    (in_bom yes)
    (on_board yes)
    (dnp no)
    (uuid "30000000-0000-0000-0000-000000000007")
    (property "Reference" "C16"
      (at 287.02 111.76 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Value" "10uF"
      (at 287.02 114.3 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Footprint" "Capacitor_SMD:C_0603_1608Metric"
      (at 284.48 127 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Description" "Bulk decoupling"
      (at 284.48 129.54 0)
      (effects (font (size 1.27 1.27)) hide)
    )
  )

  ;; Global labels for power
  (global_label "VSYS"
    (shape input)
    (at 63.5 71.12 180)
    (effects (font (size 1.27 1.27)) (justify right))
    (uuid "40000000-0000-0000-0000-000000000001")
  )
  (global_label "3V3"
    (shape input)
    (at 63.5 76.2 180)
    (effects (font (size 1.27 1.27)) (justify right))
    (uuid "40000000-0000-0000-0000-000000000002")
  )
  (global_label "1V8"
    (shape input)
    (at 63.5 81.28 180)
    (effects (font (size 1.27 1.27)) (justify right))
    (uuid "40000000-0000-0000-0000-000000000003")
  )

  ;; USB signals
  (global_label "USB_DP"
    (shape bidirectional)
    (at 119.38 78.74 0)
    (effects (font (size 1.27 1.27)) (justify left))
    (uuid "40000000-0000-0000-0000-000000000004")
  )
  (global_label "USB_DM"
    (shape bidirectional)
    (at 119.38 81.28 0)
    (effects (font (size 1.27 1.27)) (justify left))
    (uuid "40000000-0000-0000-0000-000000000005")
  )

  ;; I2S audio signals
  (global_label "I2S_BCLK"
    (shape output)
    (at 119.38 93.98 0)
    (effects (font (size 1.27 1.27)) (justify left))
    (uuid "40000000-0000-0000-0000-000000000006")
  )
  (global_label "I2S_LRCLK"
    (shape output)
    (at 119.38 96.52 0)
    (effects (font (size 1.27 1.27)) (justify left))
    (uuid "40000000-0000-0000-0000-000000000007")
  )
  (global_label "I2S_DIN"
    (shape input)
    (at 119.38 99.06 0)
    (effects (font (size 1.27 1.27)) (justify left))
    (uuid "40000000-0000-0000-0000-000000000008")
  )
  (global_label "I2S_DOUT"
    (shape output)
    (at 119.38 101.6 0)
    (effects (font (size 1.27 1.27)) (justify left))
    (uuid "40000000-0000-0000-0000-000000000009")
  )

  ;; I2C bus
  (global_label "I2C_SDA"
    (shape bidirectional)
    (at 119.38 111.76 0)
    (effects (font (size 1.27 1.27)) (justify left))
    (uuid "40000000-0000-0000-0000-000000000010")
  )
  (global_label "I2C_SCL"
    (shape output)
    (at 119.38 114.3 0)
    (effects (font (size 1.27 1.27)) (justify left))
    (uuid "40000000-0000-0000-0000-000000000011")
  )

  ;; LED PWM
  (global_label "LED_PWM"
    (shape output)
    (at 119.38 124.46 0)
    (effects (font (size 1.27 1.27)) (justify left))
    (uuid "40000000-0000-0000-0000-000000000012")
  )

  ;; GPIO status signals
  (global_label "GPIO_CHARGING"
    (shape input)
    (at 208.28 78.74 0)
    (effects (font (size 1.27 1.27)) (justify left))
    (uuid "40000000-0000-0000-0000-000000000013")
  )
  (global_label "GPIO_HALL"
    (shape input)
    (at 208.28 81.28 0)
    (effects (font (size 1.27 1.27)) (justify left))
    (uuid "40000000-0000-0000-0000-000000000014")
  )
  (global_label "GPIO_TEMP_ALERT"
    (shape input)
    (at 208.28 83.82 0)
    (effects (font (size 1.27 1.27)) (justify left))
    (uuid "40000000-0000-0000-0000-000000000015")
  )
  (global_label "GPIO_VAD"
    (shape input)
    (at 208.28 86.36 0)
    (effects (font (size 1.27 1.27)) (justify left))
    (uuid "40000000-0000-0000-0000-000000000016")
  )
  (global_label "GPIO_BAT_ALERT"
    (shape input)
    (at 208.28 88.9 0)
    (effects (font (size 1.27 1.27)) (justify left))
    (uuid "40000000-0000-0000-0000-000000000017")
  )

  ;; Section labels
  (text "QCS6490 SOM INTERFACE\n─────────────────────\nQualcomm QCS6490 System-on-Module\n8GB LPDDR4X, 128GB UFS 2.1\n\nPrimary Connector (J10): Power, USB, I2S\nSecondary Connector (J11): GPIO, Debug"
    (exclude_from_sim no)
    (at 38.1 38.1 0)
    (effects (font (size 2.54 2.54) (bold yes)))
    (uuid "50000000-0000-0000-0000-000000000001")
  )
  (text "PIN ASSIGNMENTS\n───────────────\nPOWER:\n  VBAT (5V)         ← VSYS\n  VDD_CORE (1.8V)   ← 1V8 rail\n  VDD_IO (3.3V)     ← 3V3 rail\n\nUSB:\n  USB_DP, USB_DM    → USB Hub\n\nI2S AUDIO:\n  GPIO12 (PCM_CLK)  → I2S_BCLK\n  GPIO19 (PCM_FS)   → I2S_LRCLK\n  GPIO20 (PCM_DIN)  ← sensiBel\n  GPIO21 (PCM_DOUT) → MAX98357A\n\nI2C:\n  GPIO2 (SDA)       ↔ I2C bus\n  GPIO3 (SCL)       → I2C bus\n\nLED:\n  GPIO18 (PWM0)     → Level shifter"
    (exclude_from_sim no)
    (at 38.1 180.34 0)
    (effects (font (size 2.032 2.032)))
    (uuid "50000000-0000-0000-0000-000000000002")
  )
  (text "BOOT CONFIGURATION\n──────────────────\nnRPIBOOT → R1 to 3V3 (normal boot)\nGLOBAL_EN → 3V3 (always enabled)\nRUN → Button (soft power)"
    (exclude_from_sim no)
    (at 238.76 50.8 0)
    (effects (font (size 2.032 2.032)))
    (uuid "50000000-0000-0000-0000-000000000003")
  )

  (sheet_instances
    (path "/a0000000-0000-0000-0000-000000000001/a2000000-0000-0000-0000-000000000003"
      (page "3")
    )
  )
)
