(kicad_sch
  (version 20231120)
  (generator "kagami")
  (generator_version "8.0")
  (uuid "f0000000-0000-0000-0000-000000000006")
  (paper "A3")
  (title_block
    (title "LED Control")
    (date "2026-01-11")
    (rev "1.0")
    (company "Kagami")
    (comment 1 "Sheet 6 of 7")
    (comment 2 "Level Shifter for HD108 RGBW LED Ring")
  )

  ;; 74AHCT125 Level Shifter
  (symbol
    (lib_id "74xx:74AHCT125")
    (at 127 88.9 0)
    (unit 1)
    (exclude_from_sim no)
    (in_bom yes)
    (on_board yes)
    (dnp no)
    (uuid "14000000-0000-0000-0000-000000000001")
    (property "Reference" "U8"
      (at 127 71.12 0)
      (effects (font (size 1.27 1.27)))
    )
    (property "Value" "74AHCT125PW"
      (at 127 73.66 0)
      (effects (font (size 1.27 1.27)))
    )
    (property "Footprint" "Package_SO:TSSOP-14_4.4x5mm_P0.65mm"
      (at 127 106.68 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Datasheet" "https://www.ti.com/lit/ds/symlink/sn74ahct125.pdf"
      (at 127 109.22 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Description" "Quadruple Bus Buffer Gates With 3-State Outputs"
      (at 127 111.76 0)
      (effects (font (size 1.27 1.27)) hide)
    )
  )

  ;; Series resistor
  (symbol
    (lib_id "Device:R")
    (at 177.8 88.9 90)
    (unit 1)
    (exclude_from_sim no)
    (in_bom yes)
    (on_board yes)
    (dnp no)
    (uuid "14000000-0000-0000-0000-000000000002")
    (property "Reference" "R20"
      (at 177.8 83.82 90)
      (effects (font (size 1.27 1.27)))
    )
    (property "Value" "470"
      (at 177.8 86.36 90)
      (effects (font (size 1.27 1.27)))
    )
    (property "Footprint" "Resistor_SMD:R_0402_1005Metric"
      (at 177.8 99.06 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Description" "Series data resistor for signal integrity"
      (at 177.8 101.6 0)
      (effects (font (size 1.27 1.27)) hide)
    )
  )

  ;; LED Ring Connector
  (symbol
    (lib_id "Connector:Conn_01x04_Pin")
    (at 228.6 88.9 0)
    (unit 1)
    (exclude_from_sim no)
    (in_bom yes)
    (on_board yes)
    (dnp no)
    (uuid "14000000-0000-0000-0000-000000000003")
    (property "Reference" "J3"
      (at 228.6 76.2 0)
      (effects (font (size 1.27 1.27)))
    )
    (property "Value" "B4B-PH-K-S"
      (at 228.6 78.74 0)
      (effects (font (size 1.27 1.27)))
    )
    (property "Footprint" "Connector_JST:JST_PH_B4B-PH-K_1x04_P2.00mm_Vertical"
      (at 228.6 104.14 0)
      (effects (font (size 1.27 1.27)) hide)
    )
    (property "Description" "4-pin JST connector for HD108 RGBW LED ring"
      (at 228.6 106.68 0)
      (effects (font (size 1.27 1.27)) hide)
    )
  )

  ;; Bypass capacitor
  (symbol
    (lib_id "Device:C")
    (at 101.6 101.6 0)
    (unit 1)
    (exclude_from_sim no)
    (in_bom yes)
    (on_board yes)
    (dnp no)
    (uuid "14000000-0000-0000-0000-000000000004")
    (property "Reference" "C25"
      (at 104.14 99.06 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Value" "100nF"
      (at 104.14 101.6 0)
      (effects (font (size 1.27 1.27)) (justify left))
    )
    (property "Footprint" "Capacitor_SMD:C_0402_1005Metric"
      (at 101.6 114.3 0)
      (effects (font (size 1.27 1.27)) hide)
    )
  )

  ;; GPIO input
  (global_label "GPIO18_LED"
    (shape input)
    (at 101.6 88.9 180)
    (effects (font (size 1.27 1.27)) (justify right))
    (uuid "24000000-0000-0000-0000-000000000001")
  )

  ;; Power
  (global_label "3V3"
    (shape input)
    (at 88.9 76.2 180)
    (effects (font (size 1.27 1.27)) (justify right))
    (uuid "24000000-0000-0000-0000-000000000002")
  )
  (global_label "5V_LED"
    (shape input)
    (at 88.9 81.28 180)
    (effects (font (size 1.27 1.27)) (justify right))
    (uuid "24000000-0000-0000-0000-000000000003")
  )

  ;; Section labels
  (text "LED LEVEL SHIFTING\n─────────────────\nGPIO18 (3.3V) ───► 74AHCT125 ───► 5V_LED_DATA\n                        │\n                     R20 470Ω\n                        │\n                        ▼\n                     J3 Pin 2 (DIN)"
    (exclude_from_sim no)
    (at 63.5 139.7 0)
    (effects (font (size 2.032 2.032)))
    (uuid "44000000-0000-0000-0000-000000000001")
  )
  (text "J3 (HD108 CONNECTOR)\n────────────────────\nPin 1: 5V      ← 5V_LED rail\nPin 2: DIN     ← 5V_LED_DATA\nPin 3: GND     ← GND\nPin 4: NC"
    (exclude_from_sim no)
    (at 203.2 139.7 0)
    (effects (font (size 2.032 2.032)))
    (uuid "44000000-0000-0000-0000-000000000002")
  )
  (text "HD108 RGBW LED Ring:\n• 16 LEDs\n• 68mm ID, 74mm OD\n• WS2812B-compatible protocol\n• 5V, ~60mA per LED @ full white"
    (exclude_from_sim no)
    (at 203.2 177.8 0)
    (effects (font (size 2.032 2.032)))
    (uuid "44000000-0000-0000-0000-000000000003")
  )

  (sheet_instances
    (path "/a0000000-0000-0000-0000-000000000001/a5000000-0000-0000-0000-000000000006"
      (page "6")
    )
  )
)
